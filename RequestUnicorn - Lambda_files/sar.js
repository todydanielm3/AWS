/*! For license information please see sar.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{2073:function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return P}));var r=n(2030),a=n(2084),o=n(0),i=n.n(o),c=n(219),l=n(211),s=n(1995),u=n(1986),p=n(100),f=n(1982),d=n(101),m=n(1992),y=["label","content","isCardsHeader","hideCardLabel"],h=["i18nStrings","persistPreferencesToBrowserStorage","persistStateToUrl","query","updateUrl"];function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C=function(e){return null==e?void 0:e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase().substring(0,3)})).join("").substring(0,9)},k=function(e,t){var n=t.event,r=t.detail,a=t.successful;if("load"===n){var o=[C(e),null==n?void 0:n.charAt(0)].filter((function(e){return void 0!==e})).join("_");Object(d.submitCustomTimer)(o,r)}else{var i=[C(e),null==n?void 0:n.charAt(0),r].filter((function(e){return void 0!==e})).join("_");Object(d.logEvent)(i,a)}},T=function(e){var t=e.label,n=e.content,r=e.isCardsHeader,a=e.hideCardLabel,o=S(e,y);return O(O(O({},o),{},{label:t},r?{}:{cards:O(O({},o.cards),{},{header:a?void 0:t,content:n})}),{},{table:O(O({},o.table),{},{header:t,cell:n}),preferences:O(O({},o.preferences),{},{label:t})})},P=Object(l.connect)((function(e){return{query:Object(f.b)(e).query}}),(function(e){return{updateUrl:function(t){return e(Object(u.c)({query:t}))}}}))((function(e){var t=e.i18nStrings,n=e.persistPreferencesToBrowserStorage,o=e.persistStateToUrl,l=e.query,u=e.updateUrl,f=S(e,h);return n&&(f.loadPreferences=function(e){return m.a("user.".concat(e,"-list-preferences"))},f.savePreferences=function(e,t){m.e("user.".concat(e,"-list-preferences"),t)}),o&&(f.loadState=function(){return Object(a.getStateFromUrlParams)(l)},f.saveState=function(e,t){var n=Object.entries(l).filter((function(e){var t=g(e,1)[0];return!/^(fo|sb|so|[kvo]\d+)$/.test(t)})).reduce((function(e,t){var n=g(t,2),r=n[0],a=n[1];return O(O({},e),{},w({},r,a))}),{});u(O(O({},n),Object(a.getUrlParamsFromState)(t)))}),i.a.createElement(r.ResourceList,b({filteringFunctionProvider:a.getComplexFilteringFunction,onMetric:k},f,{i18nStrings:{filter:{clearFiltersText:p.intl.formatMessage({id:"clearFiltersText"}),enteredTextLabel:function(e){return p.intl.formatMessage({id:"enteredTextLabel"},{value:e})},filteringPlaceholder:t.filteringPlaceholder,groupPropertiesText:p.intl.formatMessage({id:"groupPropertiesText"}),groupValuesText:p.intl.formatMessage({id:"groupValuesText"}),operatorsText:p.intl.formatMessage({id:"resourceList.filter.operatorsText"}),operationAndText:p.intl.formatMessage({id:"operationAndText"}),operationOrText:p.intl.formatMessage({id:"operationOrText"}),operatorLessText:p.intl.formatMessage({id:"resourceList.filter.operatorLessText"}),operatorLessOrEqualText:p.intl.formatMessage({id:"resourceList.filter.operatorLessOrEqualText"}),operatorGreaterText:p.intl.formatMessage({id:"resourceList.filter.operatorGreaterText"}),operatorGreaterOrEqualText:p.intl.formatMessage({id:"resourceList.filter.operatorGreaterOrEqualText"}),operatorContainsText:p.intl.formatMessage({id:"resourceList.filter.operatorContainsText"}),operatorDoesNotContainText:p.intl.formatMessage({id:"resourceList.filter.operatorDoesNotContainText"}),operatorEqualsText:p.intl.formatMessage({id:"resourceList.filter.operatorEqualsText"}),operatorDoesNotEqualText:p.intl.formatMessage({id:"resourceList.filter.operatorDoesNotEqualText"}),editTokenHeader:p.intl.formatMessage({id:"resourceList.filter.editTokenHeader"}),propertyText:p.intl.formatMessage({id:"resourceList.filter.propertyText"}),operatorText:p.intl.formatMessage({id:"resourceList.filter.operatorText"}),valueText:p.intl.formatMessage({id:"resourceList.filter.valueText"}),cancelActionText:p.intl.formatMessage({id:"cancel"}),applyActionText:p.intl.formatMessage({id:"resourceList.filter.applyActionText"}),allPropertiesLabel:p.intl.formatMessage({id:"resourceList.filter.allPropertiesLabel"}),filteringAriaLabel:p.intl.formatMessage({id:"resourceList.filter.filteringAriaLabel"}),dismissAriaLabel:p.intl.formatMessage({id:"dismiss"}),removeTokenButtonAriaLabel:function(){return p.intl.formatMessage({id:"resourceList.filter.removeTokenButtonAriaLabel"})}},filterCountText:function(e){return p.intl.formatMessage({id:"resourceList.filterCountText"},{matches:e})},filterOptionGroupValuesText:function(e){return p.intl.formatMessage({id:"resourceList.filterOptionGroupValuesText"},{label:e})},filteringEmpty:p.intl.formatMessage({id:"noMatch"}),filteringLoadingText:p.intl.formatMessage({id:"statusIndicator.loading"}),filteringRecoveryText:p.intl.formatMessage({id:"resourceList.filteringRecoveryText"}),groupTitle:t.groupTitle,lastFetchedText:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement(c.a,{id:"functions.grid.header.lastFetched"})," "),i.a.createElement(s.a,{value:new Date(e)}))},loadingText:t.loadingText,preferencesTitle:p.intl.formatMessage({id:"preferences"}),preferencesConfirmLabel:p.intl.formatMessage({id:"resourceList.preferencesConfirmLabel"}),preferencesCancelLabel:p.intl.formatMessage({id:"cancel"}),preferencesPageSizeTitle:p.intl.formatMessage({id:"functions.preferences.pageSize"}),preferencesPageSizeOptionLabel:t.preferencesPageSizeOptionLabel,preferencesTypeLabel:p.intl.formatMessage({id:"resourceList.preferencesTypeLabel"}),preferencesTypeOptionCardsLabel:p.intl.formatMessage({id:"resourceList.preferencesTypeOptionCardsLabel"}),preferencesTypeOptionTableLabel:p.intl.formatMessage({id:"resourceList.preferencesTypeOptionTableLabel"}),preferencesVisibleContentTitle:p.intl.formatMessage({id:"resourceList.preferencesVisibleContentTitle"}),preferencesWrapLinesLabel:p.intl.formatMessage({id:"functions.preferences.wrapLines"}),preferencesWrapLinesDescription:p.intl.formatMessage({id:"resourceList.preferencesWrapLinesDescription"})}}))}))},2551:function(e,t,n){(function(e){var n,r,a,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){var r,a,o;a=[e,n(7)],r=function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),r="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o},void 0!==(o="function"==typeof r?r.apply(t,a):r)&&(e.exports=o)},function(e,t,n){var r=n(6),a=n(5);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return a(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){a.off(e,r),t.apply(n,arguments)}var a=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var o=0,i=r.length;o<i;o++)r[o].fn!==t&&r[o].fn._!==t&&a.push(r[o]);return a.length?n[e]=a:delete n[e],this}},e.exports=n},function(e,t,n){var r,a,o;a=[e,n(0),n(2),n(1)],void 0!==(o="function"==typeof(r=function(e,t,n,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=a(t),l=a(n),s=a(r),u="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=i(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===u(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return o("action",e)}},{key:"defaultTarget",value:function(e){var t=o("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return o("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(l.default);e.exports=f})?r.apply(t,a):r)&&(e.exports=o)},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){function r(e,t,n,r,o){var i=a.apply(this,arguments);return e.addEventListener(n,i,o),{destroy:function(){e.removeEventListener(n,i,o)}}}function a(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}var o=n(4);e.exports=function(e,t,n,a,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,a,o)})))}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),a=document.createRange();a.selectNodeContents(e),r.removeAllRanges(),r.addRange(a),t=r.toString()}return t}}])},"object"==i(t)&&"object"==i(e)?e.exports=o():(r=[],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))}).call(this,n(251)(e))},2755:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthorFromScratch",(function(){return Ye})),n.d(t,"AuthorFromImage",(function(){return Je})),n.d(t,"BlueprintsSection",(function(){return $e})),n.d(t,"CreateFunctionPageComponent",(function(){return nt}));var r=n(0),a=n.n(r),o=n(162),i=n(551),c=n(219),l=n(211),s=n(2342),u=n(2034),p=n(1969),f=n(417),d=n(1972),m=n(297),y=n(1977),h=n(2065),b=n(101),g=n(1981),v=n(2083),E=n(100),O=n(2087),w=n(568),S=n(557),C=n(2048),k=n(2214),T=n(2088),P=n(38);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){var e=j(a.a.useState(!1),2),t=e[0],n=e[1],r=j(a.a.useState(!1),2),o=r[0],i=r[1],l=j(a.a.useState("s3"),2),s=l[0],u=l[1],p=["s3","upload"].map((function(e){return{value:e,label:a.a.createElement(c.a,{id:"createFunction.codeArtifact.".concat(e,".radioLabel")})}})),f={upload:a.a.createElement(m.FormField,{id:"upload",label:a.a.createElement(c.a,{id:"createFunction.codeArtifact.upload.label"}),constraintText:a.a.createElement(c.a,{id:"config.code.upload.largeZipWarning"})},a.a.createElement(T.a,null)),s3:a.a.createElement(m.FormField,{id:"s3",label:a.a.createElement(c.a,{id:"createFunction.codeArtifact.s3.label"}),description:a.a.createElement(c.a,{id:"createFunction.codeArtifact.s3.description"})},a.a.createElement(m.FormInput,{placeholder:"https://s3.".concat(Object(P.s)(),"/mybucket/path/to/object.zip")}))};return a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(m.FormField,{id:"codeSigningConfigArn",fieldTextProps:["label","description"],paginator:k.b,onChange:function(e){switch(i(!0),n(!1),e){case"CREATE_NEW":n(!0);break;case"":i(!1)}}},a.a.createElement(m.FormSelect,{placeholder:E.intl.formatMessage({id:"createFunction.codeSigningConfigArn.field.placeholder"}),filteringType:"auto"})),t&&a.a.createElement(C.b,null),o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(m.FormField,{id:"codeArtifact",fieldTextProps:["label"],onChange:function(e){return u(e)}},a.a.createElement(S.default,{items:p,value:s})),f[s]))}var _=n(2136),F=n(2216),M=n(2215);var A=Object(l.connect)((function(e){var t,n=Object(m.getFieldItems)(e,"createFunction","securityGroupIds")||[],r=Object(m.getFieldValue)(e,"createFunction","securityGroupIds")||[],a=Object(m.getFieldValue)(e,"createFunction","vpcId")||"";return{selectedSecurityGroups:n.map((function(e){return e._original})).filter((function(e){var t=e.groupId;return r.includes(t)})),showLowAvailabilityWarning:1===(null===(t=Object(m.getFieldValue)(e,"createFunction","subnetIds"))||void 0===t?void 0:t.length),showSubnetIds:""!==a}}),M.b)((function(e){var t=e.selectedSecurityGroups,n=e.showLowAvailabilityWarning,r=e.showSubnetIds,o=e.resetSubnetAndSecurityFields;return a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(a.a.Fragment,null,a.a.createElement(m.FormField,{id:"vpcId",label:E.intl.formatMessage({id:"createFunction.vpcId.field.label"}),description:E.intl.formatMessage({id:"createFunction.vpcId.field.description"}),paginator:Object(_.c)(),onChange:function(e){e&&""!==e&&o("createFunction")}},a.a.createElement(m.FormSelect,{placeholder:E.intl.formatMessage({id:"createFunction.vpcId.field.placeholder"}),filteringType:"auto"})),r&&a.a.createElement(F.a,{selectedSecurityGroups:t,showLowAvailabilityWarning:n})))})),I=n(2213);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=n(2204),V=n(2086),D=n(561),U=n(250),H=n(1973),W=n(2203),q={codeSigning:[["codeArtifact",void 0],["codeSigningConfigArn",""],["upload",void 0]],vpcKeys:[["securityGroupIds",void 0],["subnetIds",void 0],["vpcId",""]],functionUrl:[["authType",void 0],["isCorsEnabled",!1]],tags:[["tags",new Array]]},G={codeSigning:[["codeArtifact",void 0],["codeSigningConfigArn",""],["upload",void 0]],vpcKeys:[["securityGroupIds",void 0],["subnetIds",void 0],["vpcId",""]],functionUrl:[["authType",H.v.AWS_IAM],["isCorsEnabled",!1]],tags:[["tags",new Array]]};Object(P.S)("kirin")&&(G.functionUrl.push(["invokeMode",H.w.BUFFERED]),q.functionUrl.push(["invokeMode",void 0]));var z=function(e){return function(e,t,n,r){var o=N(a.a.useState(!1),2),i=o[0],c=o[1],s=Object(l.useDispatch)();a.a.useEffect((function(){i?i&&Object(l.batch)((function(){r[e].forEach((function(e){var n=N(e,2),r=n[0],a=n[1];return s(Object(m.setFieldValue)(t,r,a))}))})):Object(l.batch)((function(){n[e].forEach((function(e){var n=N(e,2),r=n[0],a=n[1];return s(Object(m.setFieldValue)(t,r,a))}))}))}),[i]);var u=a.a.useCallback((function(){return c(!i)}),[i]);return{toggleStatus:i,toggle:u}}(e,"createFunction",q,G)},X=function(e){var t=e.toggle,n=e.toggleStatus,r=e.toggleFieldId,o=e.titleIntlId,l=e.descIntlId,s=e.infoPathId,u=e.tag,p=e.preconditions,f=e.children;return p.every((function(e){return e}))?a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true","data-analytics":u},a.a.createElement("div",null,a.a.createElement(m.FormField,{id:r,onChange:t,constraintText:a.a.createElement(c.a,{id:l})},a.a.createElement(D.default,{checked:n},a.a.createElement(w.a,{tagName:"b",id:o}),a.a.createElement(y.a,{path:s})))),a.a.createElement("div",null,n&&f))):null};var Y=Object(l.connect)((function(e){return{functionName:Object(m.getFieldValue)(e,"createFunction","name")}}))((function(e){var t=e.tag,n=e.tagType,r=e.functionName,o=e.createFlow,l=z("codeSigning"),s=l.toggleStatus,u=l.toggle,p=z("vpcKeys"),f=p.toggleStatus,d=p.toggle,m=z("functionUrl"),y=m.toggleStatus,h=m.toggle,g=z("tags"),v=g.toggleStatus,E=g.toggle,O=a.a.createElement(i.ExpandableSection,{"data-analytics":t,"data-analytics-type":n,header:a.a.createElement(c.a,{id:"create.configureFunction.advanced.title"}),variant:"container"},a.a.createElement(X,{toggle:u,toggleStatus:s,toggleFieldId:"enableCodeSigning",titleIntlId:"createFunction.codeSigningConfigArn.field.title.toggle",descIntlId:"createFunction.codeSigningConfigArn.description.toggle",infoPathId:"createFunction.codeSigningConfigArn.helpContent",preconditions:[Object(P.S)("ishikawa")],tag:b.WorkflowTags.codeSigning},a.a.createElement(R,null)),a.a.createElement(X,{toggle:h,toggleStatus:y,toggleFieldId:"enableFunctionUrl",titleIntlId:"createFunction.functionUrl.field.title.toggle",descIntlId:"editFunctionUrl.formSection.functionUrl.description",infoPathId:"designer.pane.url.title.helpContent",preconditions:[Object(P.S)("ganondorf")],tag:b.WorkflowTags.url},a.a.createElement(U.default,{size:"s"},a.a.createElement(B.a,{formProps:{id:"createFunction"},functionName:r}),Object(P.S)("kirin")?a.a.createElement(W.a,{formProps:{id:"createFunction"}}):void 0,a.a.createElement(V.b,{formProps:{id:"createFunction"}}))),a.a.createElement(X,{toggle:E,toggleStatus:v,toggleFieldId:"enableTags",titleIntlId:"createFunction.tags.field.title.toggle",descIntlId:"createFunction.tags.noabac.description",infoPathId:"functionDetail.tab.tags.helpContent",preconditions:[Object(P.S)("pomegranate")],tag:b.WorkflowTags.tags},a.a.createElement(I.a,null)),a.a.createElement(X,{toggle:d,toggleStatus:f,toggleFieldId:"enableVpc",titleIntlId:"createFunction.vpckeys.field.title.toggle",descIntlId:"createFunction.vpckeys.description",infoPathId:"vpc.description.html",preconditions:[!0],tag:b.WorkflowTags.vpc},a.a.createElement(A,null))),w=a.a.createElement(i.ExpandableSection,{"data-analytics":t,"data-analytics-type":n,header:a.a.createElement(c.a,{id:"create.configureFunction.advanced.title"}),variant:"container"},a.a.createElement(X,{toggle:E,toggleStatus:v,toggleFieldId:"enableTags",titleIntlId:"createFunction.tags.field.title.toggle",descIntlId:"createFunction.tags.noabac.description",infoPathId:"functionDetail.tab.tags.helpContent",preconditions:[Object(P.S)("pomegranate")],tag:b.WorkflowTags.tags},a.a.createElement(I.a,null)));return"scratch"===o?O:w})),J=n(1955);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=Object(J.tagContextHoc)(Y),ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(l,e);var t,n,r,o=Q(l);function l(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=o.call(this,e),n=te(t),a=function(e){Object(b.logEvent)(e.detail.expanded?b.EVENT_NAMES.ROLE_EXPANDO_OPEN:b.EVENT_NAMES.ROLE_EXPANDO_CLOSE),t.setState({permissionsExpanded:e.detail.expanded})},(r="onTogglePermissionsExpanded")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={permissionsExpanded:!1},t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e){return e.hasRoleError?{permissionsExpanded:!0}:null}}],(n=[{key:"render",value:function(){var e=this,t={name:function(t){return e.props.existingFunctionNames.includes(t)?[{message:E.intl.formatMessage({id:"error.frontend.create.existingFunction"})}]:null}},n=a.a.createElement(re,{tag:b.WorkflowTags.advanced,createFlow:"scratch"});return a.a.createElement(d.b,{id:"createFunction","data-analytics":this.props.tag,actionsProvider:function(t){return a.a.createElement("div",null,a.a.createElement(i.Button,{"data-analytics":b.WorkflowTags.cancel,variant:"link",onClick:e.props.cancel},a.a.createElement(c.a,{id:"cancel"})),a.a.createElement(i.Button,{"data-analytics":b.WorkflowTags.create,variant:"primary",onClick:t,loading:e.props.creating},a.a.createElement(c.a,{id:"createFunction.header"})))},onSubmit:this.props.createFunction,schema:v.c,customValidators:t},a.a.createElement(p.e,{header:a.a.createElement(c.a,{id:"create.configureFunction.basics.title"}),footer:a.a.createElement(i.ExpandableSection,{header:a.a.createElement(c.a,{id:"create.configureFunction.permissions.advanced.title"}),onChange:this.onTogglePermissionsExpanded,expanded:this.state.permissionsExpanded,variant:"borderless"},a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(h.a,{formId:"createFunction",functionNameField:"name",showBasic:!0}))))},a.a.createElement(m.FormField,{id:"name",fieldTextProps:["label","description","constraintText"]},a.a.createElement(m.FormInput,{placeholder:"myFunctionName"})),a.a.createElement(m.FormField,{id:"runtime",fieldTextProps:["label","description"],infoPath:"create.configureFunction.runtime.helpContent"},a.a.createElement(m.FormSelect,{options:Object(g.A)("create")})),a.a.createElement(O.a,null),a.a.createElement("div",null,a.a.createElement("h3",null,a.a.createElement(c.a,{id:"create.configureFunction.permissions.title"}),a.a.createElement(y.a,{path:"create.configureFunction.permissions.helpContent"})),a.a.createElement(c.a,{tagName:"small",id:"create.configureFunction.permissions.description"}))),n)}}])&&K(t.prototype,n),r&&K(t,r),l}(a.a.Component),oe=Object(l.connect)((function(e){return{creating:Object(u.i)(e),existingFunctionNames:Object(u.h)(e),hasRoleError:!!Object(f.getFieldValidation)(e,"createFunction","existingRole")||!!Object(f.getFieldValidation)(e,"createFunction","roleName")}}),(function(e,t){var n=t.nextTag;return{createFunction:function(t){return e(Object(u.b)(t,n))}}}))(ae),ie=n(2346),ce=n(2206);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var a=de(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=Object(J.tagContextHoc)(Y),ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(l,e);var t,n,r,o=pe(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).state={permissionsExpanded:!1,overridesExpanded:!1},n}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e){return e.hasRoleError?{permissionsExpanded:!0}:null}}],(n=[{key:"onToggleOverrideExpanded",value:function(e){Object(b.logEvent)(e.detail.expanded?b.EVENT_NAMES.OVERRIDE_EXPANDO_OPEN:b.EVENT_NAMES.OVERRIDE_EXPANDO_CLOSE),this.setState({overridesExpanded:e.detail.expanded})}},{key:"onTogglePermissionsExpanded",value:function(e){Object(b.logEvent)(e.detail.expanded?b.EVENT_NAMES.ROLE_EXPANDO_OPEN:b.EVENT_NAMES.ROLE_EXPANDO_CLOSE),this.setState({permissionsExpanded:e.detail.expanded})}},{key:"render",value:function(){var e=this,t={name:function(t){return e.props.existingFunctionNames.includes(t)?[{message:E.intl.formatMessage({id:"error.frontend.create.existingFunction"})}]:null}},n=Object(P.S)("pomegranate"),r=a.a.createElement(me,{tag:b.WorkflowTags.advanced,createFlow:"image"});return a.a.createElement(d.b,{id:"createFunction","data-analytics":this.props.tag,actionsProvider:function(t){return a.a.createElement("div",null,a.a.createElement(i.Button,{"data-analytics":b.WorkflowTags.cancel,variant:"link",onClick:e.props.cancel},a.a.createElement(c.a,{id:"cancel"})),a.a.createElement(i.Button,{"data-analytics":b.WorkflowTags.create,variant:"primary",onClick:t,loading:e.props.creating},a.a.createElement(c.a,{id:"createFunction.header"})))},onSubmit:this.props.createFunction,schema:v.b,customValidators:t},a.a.createElement(p.e,{header:a.a.createElement(c.a,{id:"create.configureFunction.basics.title"})},a.a.createElement(m.FormField,{id:"name",fieldTextProps:["label","description","constraintText"]},a.a.createElement(m.FormInput,{placeholder:"myFunctionName"})),a.a.createElement(m.FormField,{id:"image",fieldTextProps:["label","description"],infoPath:"ecrSelector.helpContent"},a.a.createElement(ie.a,null)),a.a.createElement(i.ExpandableSection,{header:a.a.createElement(c.a,{id:"create.configureFunction.image.overrides.title"}),onChange:this.onToggleOverrideExpanded.bind(this),expanded:this.state.overridesExpanded},a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(ce.a,null)))),a.a.createElement(O.a,null),a.a.createElement("div",null,a.a.createElement("h3",null,a.a.createElement(c.a,{id:"create.configureFunction.permissions.title"}),a.a.createElement(y.a,{path:"create.configureFunction.permissions.helpContent"})),a.a.createElement(c.a,{tagName:"small",id:"create.configureFunction.permissions.description"})),a.a.createElement(i.ExpandableSection,{header:a.a.createElement(c.a,{id:"create.configureFunction.permissions.advanced.title"}),onChange:this.onTogglePermissionsExpanded.bind(this),expanded:this.state.permissionsExpanded},a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(h.a,{formId:"createFunction",functionNameField:"name",showBasic:!0}))))),n&&r)}}])&&se(t.prototype,n),r&&se(t,r),l}(a.a.Component),he=Object(l.connect)((function(e){return{creating:Object(u.i)(e),existingFunctionNames:Object(u.h)(e),hasRoleError:!!Object(f.getFieldValidation)(e,"createFunction","existingRole")||!!Object(f.getFieldValidation)(e,"createFunction","roleName")}}),(function(e,t){var n=t.nextTag;return{createFunction:function(t){return e(Object(u.b)(t,n))}}}))(ye),be={header:function(e){return a.a.createElement(c.a,{id:"intent.".concat(e.id,".title")})},sections:[{content:function(e){return a.a.createElement(c.a,{id:"intent.".concat(e.id,".description")})}}]};function ge(e){var t=e.selected,n=e.onSelect,r=[{id:"authorFromScratch"},{id:"blueprints"}],o=[{cards:1},{minWidth:768,cards:2}];Object(P.S)("parangopod")&&(r.push({id:"authorFromImage"}),o[1].cards++),Object(P.S)("serverless-registry")&&!Object(P.S)("amaterasu")&&(r.push({id:"serverlessApps"}),o[1].cards++);var c=t?r.filter((function(e){return e.id===t})):[];return a.a.createElement(i.Cards,{id:"intent-cards","data-analytics":b.WorkflowTags.intent,cardDefinition:be,cardsPerRow:o,items:r},a.a.createElement(i.CardsSelection,{selectionType:"single",trackBy:"id",selectedItems:c,onSelectionChange:n}))}var ve=n(298),Ee=n(2073),Oe=n(837),we=n(1986),Se=n(552);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pe(o,r,a,i,c,"next",e)}function c(e){Pe(o,r,a,i,c,"throw",e)}i(void 0)}))}}var xe=function(e){return function(t){return a.a.createElement("a",{onClick:function(){return e(t.name)}},t.displayName||t.name)}},Re=function(e){return[Object(Ee.b)({id:"name",label:E.intl.formatMessage({id:"layers.name"}),content:xe(e),isCardsHeader:!0,filterable:!0,operators:[":","!:","=","!="],table:{sortingField:"name"}}),Object(Ee.b)({id:"description",label:E.intl.formatMessage({id:"functions.grid.description"}),content:function(e){return e.description},hideCardLabel:!0}),Object(Ee.b)({id:"keywords",label:E.intl.formatMessage({id:"blueprints.search.blueprintAttributes"}),content:function(e){return a.a.createElement("span",null,e.keywords.map((function(e,t,n){var r=t<n.length-1&&a.a.createElement("span",null," Â· ");return a.a.createElement("span",{key:t},e,r)})))},filterable:!0,operators:[":","!:","=","!="],hideCardLabel:!0}),Object(Ee.b)({id:"runtime",label:E.intl.formatMessage({id:"blueprints.search.runtime"}),content:function(e){return e.runtime},filterable:!0,operators:[":","!:","=","!="],table:{sortingField:"runtime"}})]};var _e=Object(l.connect)(null,(function(e){return{openExportModalForBlueprint:function(t){e(Object(we.c)({query:{exportBp:t}},{persistQuery:!0})),e(Object(Oe.setModalOpen)("export",!0))}}}))((function(e){var t=e.filterBlueprints,n=e.onClickBlueprint,r=e.onSelectBlueprint,o=e.selectedBlueprint,i=e.openExportModalForBlueprint;return a.a.createElement("div",{className:"bp-grid"},a.a.createElement(Ee.a,{id:"blueprints",trackBy:"name",i18nStrings:{filteringPlaceholder:E.intl.formatMessage({id:"blueprints.resourceList.filteringPlaceholder"}),loadingText:E.intl.formatMessage({id:"blueprints.resourceList.loadingText"}),preferencesPageSizeOptionLabel:function(e){return E.intl.formatMessage({id:"blueprints.resourceList.preferencesPageSizeOptionLabel"},{pageSize:e})},groupTitle:function(){return E.intl.formatMessage({id:"blueprints.resourceList.groupTitle.default"})}},headerProps:{children:a.a.createElement(c.a,{id:"create.selectBlueprint.title"}),actions:a.a.createElement(U.default,{direction:"horizontal",size:"xs"},a.a.createElement(ve.default,{disabled:!o,onClick:function(){return i(o.name)}},a.a.createElement(c.a,{id:"export"}))),info:a.a.createElement(y.a,{path:"wizard.select-blueprint.helpContent"})},selectionType:"single",selectedItems:o?[o]:[],onSelectionChange:function(e){var t=e.detail;r(t.selectedItems[0])},defaultPreferences:{pageSize:10,wrapLines:!0,visibleContent:["name","description","keywords"],custom:{type:"cards"}},definition:{cardsHeader:xe(n),properties:Re(n)},fetchAllItems:!0,fetchItems:je(regeneratorRuntime.mark((function e(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.listBlueprints();case 2:return n=e.sent,r=n.body,a=r.blueprints.map((function(e){return{name:e.blueprintName,version:e.version,build:e.codeLocation,checksum:e.codeHash,config:JSON.parse(e.configuration),preview:e.preview}})).map((function(e){return ke(ke({},e),{},{description:e.config.lambda.Description,runtime:e.config.lambda.Runtime,keywords:e.config.tags,functionUrl:e.config.lambda.FunctionUrl,displayName:e.config.displayName})})),o=a.find((function(e){return e.functionUrl})),i=a.filter((function(e){return!e.functionUrl})),o&&i.unshift(o),e.abrupt("return",{items:i.filter(t||function(){return!0})});case 9:case"end":return e.stop()}}),e)}))),empty:a.a.createElement(c.a,{id:"functions.grid.noData"}),persistPreferencesToBrowserStorage:!0,persistStateToUrl:!0}))})),Fe=n(1985),Me=n(1979),Ae=n(1999),Ie=n(2191),Ne=n(412);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Be=["tag"];function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var a=ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ye=Object(J.tagContextHoc)(oe),Je=Object(J.tagContextHoc)(he),$e=function(e){var t=e.tag,n=e.integrations,o=e.selectedBlueprint,l=e.onClickBlueprint,s=e.onSelectBlueprint,u=e.cancel,p=a.a.createElement(i.Button,{key:"create",variant:"normal","data-analytics":b.WorkflowTags.configure,disabled:!o,onClick:function(){return l(o.name)}},a.a.createElement(c.a,{id:"configure"})),f=a.a.createElement(i.Button,{key:"cancel",variant:"link","data-analytics":b.WorkflowTags.cancel,onClick:u},a.a.createElement(c.a,{id:"cancel"}));return a.a.createElement("div",{"data-analytics":t},a.a.createElement(i.Form,{className:"col-m-10",actions:a.a.createElement(r.Fragment,null,[f,p])},a.a.createElement(Me.b,{scope:"blueprints"}),a.a.createElement(Ne.a,{cond:!Object.keys(n).length,height:100},a.a.createElement(_e,{filterBlueprints:function(e){var t;if(Object(P.Y)()&&e.config.lambda.Environment)return!1;var r=Object.keys(e.config.triggers||{})[0];return Object(Ae.o)()&&(r=Ae.c[r]||r),!(r&&(null===(t=n[r])||void 0===t||!t.isAvailable))},onClickBlueprint:l,onSelectBlueprint:s,selectedBlueprint:o}))),a.a.createElement(Ie.a,null))},Ke=Object(J.tagContextHoc)($e),Ze=Object(J.tagContextHoc)((function(e){var t=e.tag,n=Xe(e,Be);return a.a.createElement(i.Form,{"data-analytics":t},a.a.createElement(s.a,n))}));function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.runtime,r=e.verified,a=e.sortFields,o=e.filteringText,i=void 0===o?"":o,c=e.currentPageIndex,l=e.pageSize,s=e.searchApplications,u=e.capabilities,p=e.accessLevels,f=void 0===p?"PUBLIC":p;s({category:t,runtime:n,verified:r,sortFields:a,pageSize:void 0!==l?l.toString():void 0,pageNumber:void 0!==c?c.toString():void 0,searchText:i,capabilities:u,accessLevels:f})}var et=Object(o.debounce)(Qe,800),tt=function(e){var t=e.id;return"/create/app?applicationId=".concat(t)},nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(l,e);var t,n,r,o=qe(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).state={selectedApplication:null,selectedBlueprint:null},n}return t=l,(n=[{key:"componentDidMount",value:function(){"serverlessApps"===this.props.selectedIntent&&this.initializeServerlessApps(),b.pageLoaded("select_blueprint")}},{key:"handleApplicationSelect",value:function(e){this.setState({selectedApplication:e})}},{key:"handleSelectIntent",value:function(e){var t=e.detail.selectedItems.length?e.detail.selectedItems[0].id:null;this.props.selectIntent(t),"serverlessApps"===t&&this.initializeServerlessApps()}},{key:"handleClickBlueprint",value:function(e){b.logEvent("createConfigure_BP"),this.props.clickBlueprint(e)}},{key:"handleSelectBlueprint",value:function(e){this.setState({selectedBlueprint:e})}},{key:"initializeServerlessApps",value:function(){Qe({currentPageIndex:1,pageSize:10,searchApplications:this.props.searchApplications})}},{key:"handleSelectedContentCases",value:function(e){var t=this.props,n=t.cancel,r=t.searchApplications,o=t.applications,i=t.approximateResultCount,c=t.allAppsNoFiltersCount,l=t.searchingApplications,s=b.WorkflowTags,u=s.intent,p=s.fromScratch,f=s.blueprint,d=s.sar,m=s.fromImage;switch(e){case"authorFromScratch":return a.a.createElement(Ye,{tag:[u,p],cancel:n});case"blueprints":return a.a.createElement(Ke,{tag:[u,f],cancel:n,integrations:this.props.integrations,onClickBlueprint:this.handleClickBlueprint.bind(this),onSelectBlueprint:this.handleSelectBlueprint.bind(this),selectedBlueprint:this.state.selectedBlueprint});case"authorFromImage":return a.a.createElement(Je,{tag:[u,m],cancel:n});case"serverlessApps":return a.a.createElement(Ze,{tag:[u,d],sideHelpLink:function(e){var t=e.message;return a.a.createElement(y.a,{path:"serverless.apps.help",defaultMessage:t})},intl:E.intl,applications:o,approximateResultCount:i,showPrivateApps:!0,allAppsNoFiltersCount:c,includeIncludeAppsWithCapabilitiesFilter:!0,linkFn:tt,onApplicationSelect:this.handleApplicationSelect.bind(this),selectedApplication:this.state.selectedApplication,searchingApps:l,search:function(e){return Qe(De(De({},e),{},{searchApplications:r}))},debouncedSearch:function(e){return et(De(De({},e),{},{searchApplications:r}))}});default:return null}}},{key:"render",value:function(){var e=this.props,t=e.applicationsError,n=e.tag,r=this.props.selectedIntent,o=this.handleSelectedContentCases(r);return a.a.createElement(Fe.a,{id:"createFunction",breadcrumbs:{items:[{text:E.intl.formatMessage({id:"functions.title"}),href:"#/functions"},{text:E.intl.formatMessage({id:"create.title"}),href:"#/create/function"}]},tag:n},t.message&&a.a.createElement(i.Alert,{type:"error"},t.message),a.a.createElement("h1",null,a.a.createElement(c.a,{id:"createFunction.header"}),a.a.createElement(y.a,{path:"createFunction.helpContent"})),a.a.createElement("h5",{className:"awsui-util-mb-m"},a.a.createElement(c.a,{id:"createFunction.description"})),a.a.createElement(ge,{selected:this.props.selectedIntent,onSelect:this.handleSelectIntent.bind(this)}),o)}}])&&He(t.prototype,n),r&&He(t,r),l}(a.a.Component);t.default=Object(J.tagContextHoc)(Object(l.connect)(u.n,u.m)(nt),!0)},2756:function(e,t,n){"use strict";n.r(t),n.d(t,"mapState",(function(){return kt})),n.d(t,"mapDispatch",(function(){return Tt}));var r=n(0),a=n.n(r),o=n(227),i=n.n(o),c=n(551),l=n(211),s=n(110),u=n.n(s),p=n(2025);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=e.integrationParameters;return function(){return{integrationParameters:t}}}var C=function(e){b(o,e);var t,n,r=v(o);function o(e){var t;return m(this,o),(t=r.call(this,e)).state={integrationParameters:[],selectedResource:""},t}return h(o,[{key:"UNSAFE_componentWillMount",value:(t=regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.type,r=t.operation,a=t.responseProp,o=t.action,i=t.mapResponseToIntegrationParams,e.next=3,this.props.fetchResources({type:n,operation:r,action:o});case 3:c=e.sent,l=i({response:c,responseProp:a}),this.setState(S({integrationParameters:l}));case 6:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){d(o,r,a,i,c,"next",e)}function c(e){d(o,r,a,i,c,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})},{key:"render",value:function(){return a.a.createElement(c.Select,{selectedId:this.state.selectedResource,options:this.state.integrationParameters})}}]),o}(r.PureComponent);w(C,"propTypes",{action:u.a.any,fetchResources:u.a.any,mapResponseToIntegrationParams:u.a.any,operation:u.a.any,responseProp:u.a.any,type:u.a.any});var k={getIntegrationParams:function(e){var t=e.responseProp;return e.response.body.values[t].values.map((function(e){var t=e.name;return{id:e.value,label:t}}))},invokeNodeAction:function(e){var t=e.response;return JSON.parse(t.body.payload).map((function(e){var t=e.text;return{id:e.value,label:t}}))}},T=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"api-gateway",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"apiId",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(T,"operation","getIntegrationParams"),w(T,"propTypes",{fetchResources:u.a.any});var P=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"cloudfront",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"distributionId",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(P,"operation","getIntegrationParams"),w(P,"propTypes",{fetchResources:u.a.any});var j=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"cloudwatch-events",operation:e,mapResponseToIntegrationParams:k[e],action:"listRules",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(j,"operation","invokeNodeAction"),w(j,"propTypes",{fetchResources:u.a.any});var x=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"cloudwatch-logs",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"logGroupName",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(x,"operation","getIntegrationParams"),w(x,"propTypes",{fetchResources:u.a.any});var R=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{responseProp:"repositoryName",operation:e,mapResponseToIntegrationParams:k[e],type:"codecommit",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(R,"operation","getIntegrationParams"),w(R,"propTypes",{fetchResources:u.a.any});var _=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"cognito",operation:e,mapResponseToIntegrationParams:k[e],action:"listPools",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(_,"operation","invokeNodeAction"),w(_,"propTypes",{fetchResources:u.a.any});var F=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"dynamodb",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"table",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(F,"operation","getIntegrationParams"),w(F,"propTypes",{fetchResources:u.a.any});var M=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"kinesis",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"stream",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(M,"operation","getIntegrationParams"),w(M,"propTypes",{fetchResources:u.a.any});var A=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"s3",operation:e,mapResponseToIntegrationParams:k[e],responseProp:"bucket",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);w(A,"operation","getIntegrationParams"),w(A,"propTypes",{fetchResources:u.a.any});var I=function(e){b(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=n.operation;return a.a.createElement(C,{type:"sns",operation:e,mapResponseToIntegrationParams:k[e],action:"listTopics",fetchResources:this.props.fetchResources})}}]),n}(r.PureComponent);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}w(I,"operation","invokeNodeAction"),w(I,"propTypes",{fetchResources:u.a.any});var W,q,G,z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(i,e);var t,n,r,o=D(i);function i(){return L(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.parameter,n=e.value,r=e.fetchResources,o=e.onChange;return a.a.createElement(c.FormField,{stretch:!0,label:a.a.createElement("span",{className:"application-config__parameter"},a.a.createElement("span",null,t.name)),description:t.description,className:"application-settings__parameter-form-field"},a.a.createElement(Y,{parameter:t,value:n,fetchResources:r,onChange:o}))}}])&&B(t.prototype,n),r&&B(t,r),i}(r.PureComponent);function X(e){var t=e.type;return e.noEcho?"password":{Number:"number"}[t]||"text"}function Y(e){var t=e.parameter,n=t.type,r=t.name,o=t.noEcho,i=e.value,l=e.fetchResources,s=e.onChange;if(l){var u={fetchResources:l,onSelectChange:function(e){return s({event:e,name:r,parameterValue:e.detail.selectedId})}};switch(n){case"api-gateway":return a.a.createElement(T,u);case"cloudfront":return a.a.createElement(P,u);case"cloudwatch-events":return a.a.createElement(j,u);case"cloudwatch-logs":return a.a.createElement(x,u);case"codecommit":return a.a.createElement(R,u);case"cognito":return a.a.createElement(_,u);case"AWS::S3::Bucket::Name":return a.a.createElement(A,u);case"AWS::SNS::Topic::Arn":return a.a.createElement(I,u)}}return"Textarea"===n?a.a.createElement(c.Textarea,{value:i,onChange:function(e){return s({event:e,name:r,parameterValue:e.detail.value})}}):a.a.createElement(c.Input,{value:i,type:X({type:n,noEcho:o}),onChange:function(e){return s({event:e,name:r,parameterValue:e.detail.value})}})}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var a=te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}W=z,q="propTypes",G={parameter:u.a.any,value:u.a.any,fetchResources:u.a.any,onChange:u.a.func},q in W?Object.defineProperty(W,q,{value:G,enumerable:!0,configurable:!0,writable:!0}):W[q]=G,Y.propTypes={parameter:u.a.any,value:u.a.any,fetchResources:u.a.any,onChange:u.a.func};var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,o=Q(i);function i(){return $(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.parameters,n=e.parameterValues,r=e.fetchResources,o=e.logicalResourceName,i=e.samTemplate,l=e.onChange,s=e.intl;return t.length?a.a.createElement(c.ExpandableSection,{className:"awsui-util-mt-m",header:o,expanded:!0},t.map((function(e){return a.a.createElement(z,{key:"".concat(o,"_").concat(e.name),value:n[e.name],parameter:e,samTemplate:i,fetchResources:r,intl:s,onChange:l})}))):null}}])&&K(t.prototype,n),r&&K(t,r),i}(r.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ne,"propTypes",{parameters:u.a.any,parameterValues:u.a.any,fetchResources:u.a.any,logicalResourceName:u.a.any,samTemplate:u.a.any,onChange:u.a.any,intl:p.b});var re=n(2188),ae=n(2551),oe=n.n(ae);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=Object(p.a)({copiedToClipboard:{id:"serverlessRepo.copyToClipboardButton.copiedToClipboard",defaultMessage:"Copied to clipboard"},buttonText:{id:"serverlessRepo.copyToClipboardButton.buttonText",defaultMessage:"Copy"}}),ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(i,e);var t,n,r,o=ue(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={tooltip:t.getInitialTooltipText()},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.intl;this.clipboard=new oe.a("#".concat(this.props.id),{text:function(){return e.props.copyText}}),this.clipboard.on("success",(function(n){n.clearSelection(),e.clearTooltip(),e.setState({tooltip:t.formatMessage(me.copiedToClipboard)}),e.setHideTooltipTimeout()})),this.clipboard.on("error",(function(){e.setState({tooltip:t.formatMessage(me.buttonText)}),e.setHideTooltipTimeout()}))}},{key:"componentWillUnmount",value:function(){this.clipboard.destroy(),this.clearTooltip()}},{key:"getInitialTooltipText",value:function(){return this.props.tooltipText||this.props.intl.formatMessage(me.buttonText)}},{key:"setHideTooltipTimeout",value:function(){var e=this;this.hideTooltipTimeout=window.setTimeout((function(){e.setState({tooltip:e.getInitialTooltipText()})}),2e3)}},{key:"clearTooltip",value:function(){this.setState({tooltip:this.getInitialTooltipText()}),this.hideTooltipTimeout&&(window.clearInterval(this.hideTooltipTimeout),this.hideTooltipTimeout=null)}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.buttonText,r=void 0===n?t.formatMessage(me.buttonText):n,o=e.buttonIcon,i=e.className,l=void 0===i?"":i;return a.a.createElement("span",{className:["copy-to-clipboard-button",l].join(" ")},a.a.createElement(c.Tooltip,{text:this.state.tooltip,position:"top"},a.a.createElement(c.Button,ce({id:this.props.id,formAction:"none",variant:"normal",text:r,icon:o,style:{width:"100%"}},this.props))))}}])&&le(t.prototype,n),r&&le(t,r),i}(r.PureComponent);de(ye,"propTypes",{buttonIcon:u.a.string,buttonText:u.a.string,className:u.a.string,copyText:u.a.string,id:u.a.any,intl:p.b,tooltipText:u.a.string}),de(ye,"defaultProps",{id:"".concat("copyButton_").concat(Math.random().toString().split(".")[1]),buttonIcon:"copy"});var he=n(2038);n(2095);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var a=Se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke={header:function(e){return a.a.createElement("span",null,e.name)},sections:[{content:function(e){return a.a.createElement("span",null,e.description)}}]},Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(i,e);var t,n,r,o=Oe(i);function i(){return ge(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderCapabilities",value:function(){var e=this.props,t=e.capabilities,n=e.intl,r=Boolean(t&&t.length),o=t.map((function(e){var t=e;try{t=n.formatMessage(he.a["capabilities_".concat(e)])}catch(e){}return{name:e,description:t}}));return a.a.createElement("div",null," ",r?a.a.createElement("div",null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.formatMessage(he.a.capabilitiesDescription)}}),a.a.createElement("div",{className:"awsui-util-mt-m"},a.a.createElement(c.Cards,{items:o,cardDefinition:ke}))):a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.formatMessage(he.a.noAdditionalCapabilities)}}))}},{key:"render",value:function(){var e=this.props.intl;return a.a.createElement("div",{className:"awsui-util-container application-capabilities__container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement("h2",null,e.formatMessage(he.a.capabilities))),a.a.createElement("section",{className:"application-permissions__capabilities"},this.renderCapabilities()))}}])&&ve(t.prototype,n),r&&ve(t,r),i}(r.PureComponent);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var a=Me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce(Te,"propTypes",{capabilities:u.a.any,intl:p.b}),Ce(Te,"defaultProps",{capabilities:[]});var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(i,e);var t,n,r,o=_e(i);function i(){return je(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderPolicies",value:function(){var e=this.props,t=e.policies,n=e.intl,r=Boolean(t&&t.length),o={header:function(e){return a.a.createElement("span",null,e.name)},sections:[{content:function(e){return a.a.createElement("span",null,e.description)}}]};return a.a.createElement("div",null," ",r?a.a.createElement("div",null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.formatMessage(he.a.policiesInUse)}}),a.a.createElement("div",{className:"awsui-util-mt-m"},a.a.createElement(c.Cards,{items:t,cardDefinition:o}))):a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.formatMessage(he.a.noPoliciesInUse)}}))}},{key:"render",value:function(){var e=this.props.intl;return a.a.createElement("div",{className:"awsui-util-container application-capabilities__container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement("h2",null,e.formatMessage(he.a.samPolicyTemplates))),a.a.createElement("section",{className:"application-permissions__capabilities"},this.renderPolicies()))}}])&&xe(t.prototype,n),r&&xe(t,r),i}(r.PureComponent);Ae(Ie,"propTypes",{policies:u.a.any,intl:p.b}),Ae(Ie,"defaultProps",{policies:[]});var Ne=n(2267);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var a=qe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t,n){return(We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qe(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ye(o,r,a,i,c,"next",e)}function c(e){Ye(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $e(){return($e=Je(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,l,s,u,p,f,d,m,y,h,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.application,r=t.fetch,a=void 0===r?window.fetch:r,o=t.setState,i=t.getUiParameters,c=void 0===i?re.g:i,l=t.fetchSamTemplate,s=void 0===l?re.e:l,u=t.fetchReadme,p=void 0===u?re.d:u,f=t.fetchLicense,d=void 0===f?re.c:f,n&&n.version&&(m=n.version,y=m&&m.parameterDefinitions||[],h=m.semanticVersion,b=m&&m.requiredCapabilities||[],s({TemplateUrl:m.templateUrl,fetch:a}).then((function(e){o({samTemplate:e});var t=c({parameters:y,samTemplate:e}),r=t.applicationGroup,a=t.resourceGroups,i=t.parameterValues;o({semanticVersion:h,applicationGroup:r,resourceGroups:a,parameterValues:i,capabilities:b,applicationName:n.name})})),p({ReadmeUrl:n.readmeUrl,fetch:a}).then((function(e){return o({readme:e})})),d({LicenseUrl:n.licenseUrl,fetch:a}).then((function(e){return o({license:e})})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(i,e);var t,n,r,o=De(i);function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Xe(He(n=o.call(this,e)),"onCancelButtonClick",(function(){return n.props.onCancelButtonClick()})),Xe(He(n),"onPreviousButtonClick",(function(){return n.props.onPreviousButtonClick()})),Xe(He(n),"hasCapabilities",(function(){return n.state.capabilities&&n.state.capabilities.length>0})),Xe(He(n),"onDeployButtonClick",(function(){return n.props.onDeployButtonClick({applicationName:n.state.applicationName,setApplicationConfigState:n.setState,permissionsNotReviewedErrorMessage:n.state.isPermissionsChecked||!n.hasCapabilities()?null:n.props.intl.formatMessage(he.a.permissionsNotReviewedErrorMessage),parameterValues:(e={parameterValues:n.state.parameterValues},t=e.parameterValues,Object.keys(t).map((function(e){return{name:e,value:t[e]}})).filter((function(e){return e.value})))});var e,t})),Xe(He(n),"onReportButtonClick",(function(){return n.props.onReportButtonClick({setState:n.setState})})),Xe(He(n),"onReportModalCancelClick",(function(){return n.props.onReportModalCancelClick({setState:n.setState,reportVulnerabilityCharacterLimit:n.props.reportVulnerabilityCharacterLimit})})),Xe(He(n),"onReportModalConfirmClick",(function(){n.props.onReportModalConfirmClick({setState:n.setState,reportVulnerabilityDetails:n.state.reportVulnerabilityDetails}),n.setState({isReportVulnerabilityModalShown:!1,reportVulnerabilityDetails:"",reportVulnerabilityCharacterCount:n.props.reportVulnerabilityCharacterLimit})})),Xe(He(n),"reviewPermissions",(function(){n.setState({showCapabilities:!0}),document.getElementById("application-config__capabilities").focus()})),n.state={isServiceLinkRoleCreationAccepted:!0,isDeploying:!1,semanticVersion:"",applicationGroup:{parameters:[]},resourceGroups:[],samTemplate:"",parameterValues:{},errorMessage:"",application:{},capabilities:[],isPermissionsChecked:!1,showCapabilities:!1,isReportVulnerabilityModalShown:!1,reportVulnerabilityDetails:"",reportVulnerabilityResult:"",reportVulnerabilityCharacterCount:n.props.reportVulnerabilityCharacterLimit},n.setState=function(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=We((t=He(n),qe(i.prototype)),"setState",t)).call.apply(e,[t].concat(a))},n}return t=i,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props;(0,e.init)({application:e.application,fetch:e.fetch,fetchSamTemplate:e.fetchSamTemplate,setState:this.setState})}},{key:"renderFormActions",value:function(){var e=this,t=this.props.intl,n=this.state,r=n.isDeploying,o=n.isServiceLinkRoleCreationAccepted,i=n.isReportVulnerabilityModalShown,l=n.reportVulnerabilityDetails,s=n.reportVulnerabilityCharacterCount;return a.a.createElement("div",{className:"awsui-util-pr-l"},a.a.createElement("div",{className:"application-config__form-actions-buttons awsui-util-mt-m"},a.a.createElement(c.Button,{className:"application-config__cancel-button",variant:"link",text:t.formatMessage(he.a.cancel),onClick:this.onCancelButtonClick}),a.a.createElement(c.Button,{className:"application-config__previous-button",text:t.formatMessage(he.a.previous),onClick:this.onPreviousButtonClick}),a.a.createElement(c.Button,{className:"application-config__deploy-button",variant:"primary",disabled:!o||r,loading:r,onClick:this.onDeployButtonClick,text:t.formatMessage(he.a.deploy)})),a.a.createElement(c.Modal,{visible:i,header:t.formatMessage(he.a.reportVulnerabilityModalTitle),onDismiss:this.onReportModalCancelClick,footer:a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",text:t.formatMessage(he.a.cancel),onClick:this.onReportModalCancelClick}),a.a.createElement(c.Button,{variant:"primary",text:t.formatMessage(he.a.reportVulnerabilitySend),onClick:this.onReportModalConfirmClick}))},a.a.createElement("span",null,a.a.createElement("h5",null,t.formatMessage(he.a.reportVulnerabilityContent)),a.a.createElement(c.FormField,{stretch:!0},a.a.createElement(c.Textarea,{placeholder:t.formatMessage(he.a.reportVulnerabilityPlaceholder),value:l,rows:6,onInput:function(t){return e.props.onReportInput({event:t,reportVulnerabilityCharacterCount:s,reportVulnerabilityCharacterLimit:e.props.reportVulnerabilityCharacterLimit,state:e.state,setState:e.setState})}})),a.a.createElement("div",{className:"awsui-util-f-r"},t.formatMessage(he.a.reportVulnerabilityCountMessage,{characterCount:this.state.reportVulnerabilityCharacterCount,characterLimit:this.props.reportVulnerabilityCharacterLimit})))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.fetchResources,o=t.application,i=t.applicationDependencies,l=t.renderReadme,s=t.showReadme,u=t.getPolicies,p=t.Link,f=t.linkFn,d=t.sideHelpLink,m=t.showCopyButton,y=this.state,h=y.semanticVersion,b=y.applicationGroup,g=y.resourceGroups,v=y.samTemplate,E=y.parameterValues,O=y.license,w=y.readme,S=y.applicationName,C=y.errorMessage,k=y.isPermissionsChecked,T=y.capabilities,P=y.showCapabilities,j=y.reportVulnerabilityResult,x=u({templateBody:v});if(!Boolean(o&&o.version))return a.a.createElement("div",null,"Â ");var R,_=Boolean(i&&i.length),F=a.a.createElement(c.FormSection,{className:"awsui-grid",header:n.formatMessage(he.a.applicationDetails)},a.a.createElement("div",{className:"awsui-row"},a.a.createElement(c.FormField,{className:"col-2",label:n.formatMessage(he.a.author)},a.a.createElement(Ne.a,{intl:n,isVerifiedAuthor:o.isVerifiedAuthor,verifiedAuthorUrl:o.verifiedAuthorUrl,publisherAlias:o.author})),o.version.sourceCodeUrl&&o.version.sourceCodeUrl.startsWith("http")&&a.a.createElement(c.FormField,{className:"col-3",label:n.formatMessage(he.a.sourceCodeUrl)},a.a.createElement("a",{href:o.version.sourceCodeUrl,target:"_blank",rel:"noopener noreferrer"},o.version.sourceCodeUrl)),a.a.createElement(c.FormField,{className:"col-4",label:n.formatMessage(he.a.applicationDescriptionLabel)},a.a.createElement("span",null,o.description)),a.a.createElement(c.FormField,{className:"col-3",label:n.formatMessage(he.a.reportVulnerability)},n.formatMessage(he.a.reportVulnerabilityDesc1)," ",a.a.createElement("a",{id:"reportModalAnchor",onClick:this.onReportButtonClick,variant:"link"},n.formatMessage(he.a.reportVulnerabilityDesc2)))),a.a.createElement("div",{className:"awsui-util-mt-m"},_?a.a.createElement(c.ExpandableSection,{header:n.formatMessage(he.a.dependencies),variant:"container"},a.a.createElement("ul",null,i.map((function(e){var t=Object(re.k)({arn:e.applicationId}).applicationName;return a.a.createElement("li",{key:e.applicationId},a.a.createElement(p,{to:f({id:e.applicationId}),target:"_blank",className:"application-config__dependency-link"},a.a.createElement("span",null,t),a.a.createElement(c.Icon,{name:"external",className:"awsui-util-ml-xs",style:{display:"block"}})))})))):null,a.a.createElement(c.ExpandableSection,{header:n.formatMessage(he.a.template),variant:"container"},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:l({readmeBody:"```\n".concat(v,"\n```")})}})),a.a.createElement(c.ExpandableSection,{header:n.formatMessage(he.a.permissions),variant:"container",expanded:P},a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row"},a.a.createElement("div",{className:"application-config__permissions-description"},n.formatMessage(he.a.permissionsSectionDescription))),a.a.createElement("div",{className:"awsui-row"},a.a.createElement("div",{className:"col-6"},a.a.createElement(Ie,{policies:x,intl:n})),a.a.createElement("div",{className:"col-6"},a.a.createElement(Te,{capabilities:T,intl:n}))))),a.a.createElement(c.ExpandableSection,{header:n.formatMessage(he.a.licenseTab),variant:"container"},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:l({readmeBody:O})}}))));if(s)R=l({readmeBody:w});else{var M=Object(re.k)({arn:o.applicationId}),A=M.region,I=M.accountId,N=M.applicationName;R=n.formatMessage(he.a.readmeViewOnPublicSite,{region:A,accountId:I,applicationName:N})}var L=a.a.createElement(c.FormSection,{header:n.formatMessage(he.a.readmeFile)},a.a.createElement("div",{className:"application-config__readme",dangerouslySetInnerHTML:{__html:R}})),B=a.a.createElement("div",{className:"application-configure__parameters-section"},a.a.createElement(c.FormSection,{header:n.formatMessage(he.a.applicationSettingsHeader)},a.a.createElement(c.FormField,{stretch:!0,label:n.formatMessage(he.a.applicationNameLabel),description:n.formatMessage(he.a.applicationNameDescription),className:"application-settings__name-form-field"},a.a.createElement(c.Input,{value:S,onChange:function(t){return e.setState({applicationName:t.detail.value})}})),b.parameters.map((function(t){return a.a.createElement(z,{key:"applicationParameter_".concat(t.name),parameter:t,value:E[t.name],samTemplate:v,fetchResources:r,intl:n,onChange:function(t){var n=t.event,r=t.name,a=t.parameterValue;return e.props.handleParameterChange({event:n,name:r,parameterValue:a,state:e.state,setState:e.setState})}})})),Object.keys(g).map((function(t){return a.a.createElement(ne,{key:t,logicalResourceName:t,resource:g[t],samTemplate:v,parameters:g[t].parameters,parameterValues:E,fetchResources:r,intl:n,onChange:function(t){var n=t.event,r=t.name,a=t.parameterValue;return e.props.handleParameterChange({event:n,name:r,parameterValue:a,state:e.state,setState:e.setState})}})})),this.hasCapabilities()&&a.a.createElement("div",{className:"awsui-util-mt-l application-config__permissions-checkbox-container"},a.a.createElement(c.Checkbox,{checked:k,label:function(){var e,t=Array.isArray(T)?T:[],r=t.includes("CAPABILITY_AUTO_EXPAND"),a=t.includes("CAPABILITY_IAM")||t.includes("CAPABILITY_NAMED_IAM"),o=t.includes("CAPABILITY_RESOURCE_POLICY");switch("".concat(Number(r)).concat(Number(a)).concat(Number(o))){case"111":e=he.a.reviewNestedAndRolesAndPolicies;break;case"100":e=he.a.reviewNested;break;case"011":e=he.a.reviewRolesAndPolicies;break;case"010":e=he.a.reviewRoles;break;case"001":e=he.a.reviewPolicies;break;case"101":e=he.a.reviewNestedAndPolicies;break;case"110":e=he.a.reviewNestedAndRoles;break;default:e=he.a.reviewNestedAndRolesAndPolicies}return n.formatMessage(e)}(),onChange:function(t){return e.props.handlePermissionsCheckChange({isPermissionsChecked:t.detail.checked,state:e.state,setState:e.setState})}}),d({message:n.formatMessage(he.a.capabilitiesHelp)})))),V=Object(re.m)({applicationId:o.applicationId,semanticVersion:h,parameterDefinitions:o.version.parameterDefinitions}),D=C===n.formatMessage(he.a.permissionsNotReviewedErrorMessage);return a.a.createElement("div",null,a.a.createElement(c.Flash,{type:"success",visible:Boolean(""!==j&&200===j.status),dismissible:!0,content:n.formatMessage(he.a.reportVulnerabilitySuccessMessage),onDismiss:function(){return e.setState({reportVulnerabilityResult:""})}}),a.a.createElement(c.Flash,{type:"error",visible:Boolean(""!==j&&200!==j.status),dismissible:!0,onDismiss:function(){return e.setState({reportVulnerabilityResult:""})}},n.formatMessage(he.a.reportVulnerabilityErrorMessage1)," ",a.a.createElement("a",{id:"reportModalErrorAnchor",onClick:this.onReportButtonClick,variant:"link"},n.formatMessage(he.a.reportVulnerabilityErrorMessage2))),a.a.createElement(c.Form,{header:a.a.createElement("div",null,a.a.createElement("h1",null,o.name," â ","".concat(n.formatMessage(he.a.version)," ").concat(h)),a.a.createElement("h3",null,n.formatMessage(he.a.title)),m&&a.a.createElement(ye,{className:"application-config__template-header__copy-as-sam-resource-button",intl:n,stopPropagation:!0,buttonText:n.formatMessage(he.a.copyAsSamResourceButton),copyText:V})),actions:this.renderFormActions(),className:"application-config"},F,a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row"},a.a.createElement("div",{id:"readme-section",className:"col-6"},L),a.a.createElement("div",{id:"parameters-section",className:"col-6"},B))),a.a.createElement(c.Alert,{type:"error",dismissible:!D,className:"awsui-util-mt-l",visible:Boolean(C),onHide:function(){return e.setState({errorMessage:""})}},a.a.createElement("div",{className:"awsui-util-d-ib"},C),a.a.createElement("div",{className:"awsui-util-d-ib awsui-util-f-r"},D&&a.a.createElement(c.Button,{text:n.formatMessage(he.a.reviewPermissions),onClick:this.reviewPermissions})))))}}])&&Be(t.prototype,n),r&&Be(t,r),i}(r.PureComponent);Xe(Ke,"propTypes",{init:u.a.any,onCancelButtonClick:u.a.any,onPreviousButtonClick:u.a.any,onDeployButtonClick:u.a.any,onReportButtonClick:u.a.any,onReportModalCancelClick:u.a.any,onReportModalConfirmClick:u.a.any,handleParameterChange:u.a.any,handlePermissionsCheckChange:u.a.any,onAcceptServiceLinkRoleCreationChange:u.a.any,fetchSamTemplate:u.a.any,fetchLicense:u.a.any,renderReadme:u.a.any,showReadme:u.a.bool,getPolicies:u.a.any,fetchResources:u.a.any,linkFn:u.a.any,Link:u.a.any,sideHelpLink:u.a.any,showCopyButton:u.a.any,reportVulnerabilityCharacterLimit:u.a.any,onReportInput:u.a.any,application:u.a.any,fetch:u.a.any,applicationDependencies:u.a.any,intl:p.b}),Xe(Ke,"defaultProps",{init:function(e){return $e.apply(this,arguments)},onCancelButtonClick:function(){},onPreviousButtonClick:function(){},onDeployButtonClick:function(e){e.setState},onReportButtonClick:function(e){(0,e.setState)({isReportVulnerabilityModalShown:!0})},onReportModalCancelClick:function(e){(0,e.setState)({isReportVulnerabilityModalShown:!1,reportVulnerabilityDetails:"",reportVulnerabilityCharacterCount:e.reportVulnerabilityCharacterLimit})},onReportModalConfirmClick:function(e){(0,e.setState)({reportVulnerabilityDetails:e.reportVulnerabilityDetails,isReportVulnerabilityModalShown:!1,reportVulnerabilityCharacterCount:e.reportVulnerabilityCharacterLimit})},handleParameterChange:function(e){e.event;var t=e.name,n=e.parameterValue,r=e.state;(0,e.setState)(ze(ze({},r),{},{parameterValues:ze(ze({},r.parameterValues),{},Xe({},t,n))}))},handlePermissionsCheckChange:function(e){e.event;var t=e.isPermissionsChecked,n=e.state;(0,e.setState)(ze(ze({},n),{},{isPermissionsChecked:t}))},onAcceptServiceLinkRoleCreationChange:function(e){var t=e.isServiceLinkRoleCreationAccepted;(0,e.setState)({isServiceLinkRoleCreationAccepted:t})},fetchSamTemplate:re.e,fetchLicense:re.c,renderReadme:re.h,showReadme:!0,getPolicies:re.f,fetchResources:!0,linkFn:re.b,Link:re.a,sideHelpLink:function(){return null},showCopyButton:!1,reportVulnerabilityCharacterLimit:400,onReportInput:function(e){var t=e.event,n=(e.reportVulnerabilityCharacterCount,e.reportVulnerabilityCharacterLimit),r=e.state,a=e.setState,o=t.detail.value;o.length>n?(t.detail.value=t.detail.value.substring(0,n),a(ze({},r))):a(ze(ze({},r),{},{reportVulnerabilityDetails:o,reportVulnerabilityCharacterCount:n-o.length}))}});var Ze=n(1986),Qe=n(2148),et=n(1977),tt=n(1985),nt=n(38),rt=n(552),at=n(101),ot=n(100),it=n(1955);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var a=dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mt(o,r,a,i,c,"next",e)}function c(e){mt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=function(e){var t=e.dispatch,n=e.actionCreator,r=e.payload;return new Promise((function(e,a){return t(n(bt(bt({},r),{},{resolve:e,reject:a})))}))};function Et(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=yt(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(t);case 2:return n=e.sent,e.abrupt("return",{json:function(){return n.body},text:function(){return n.body}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){var t=e.type,n=e.operation,r=e.action;return rt.a[n]({id:t,action:r})}var St=function(e){var t=e.id;return"/create/app?applicationId=".concat(t)},Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(s,e);var t,n,r,o,i,l=pt(s);function s(){return lt(this,s),l.apply(this,arguments)}return t=s,(n=[{key:"handleDeployButtonClick",value:(i=yt(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,l,s,u,p,f,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.applicationName,r=t.setApplicationConfigState,a=t.parameterValues,!(o=t.permissionsNotReviewedErrorMessage)){e.next=4;break}return r({isDeploying:!1,errorMessage:o}),e.abrupt("return");case 4:return r({isDeploying:!0}),e.prev=5,i=this.props.nextTag,c=this.props.application.applicationId,l=at.WorkflowTags.root,s=at.WorkflowTags.createFunction,u=at.WorkflowTags.request,p=at.WorkflowTags.success,at.panorama.logWorkflowEvent({tagPath:i(u),eventDetail:c}),at.panorama.logWorkflowEvent({tagPath:[l,s,u]}),e.next=13,this.props.dispatchDeployApplication({applicationName:n,applicationId:c,capabilities:this.props.application.version.requiredCapabilities,semanticVersion:this.props.application.version.semanticVersion,parameters:a});case 13:f=e.sent,d=f.body.stackId,this.props.visit({pathname:"/applications/".concat(new nt.c(d).stackName)}),at.panorama.logWorkflowEvent({tagPath:i(p),eventDetail:c}),at.panorama.logWorkflowEvent({tagPath:[l,s,p]}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),m=e.t0.message,e.t0.stringId&&(m=ot.intl.formatMessage(e.t0.stringId,e.t0.stringValues)),r({isDeploying:!1,errorMessage:m});case 25:case"end":return e.stop()}}),e,this,[[5,20]])}))),function(e){return i.apply(this,arguments)})},{key:"handleReportModalConfirmClick",value:(o=yt(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reportVulnerabilityDetails,r=t.setState,e.prev=1,e.next=4,this.props.dispatchReportApplication({applicationId:this.props.application.applicationId,semanticVersion:this.props.application.version.semanticVersion,reportVulnerabilityDetails:n});case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a=e.t0;case 10:return e.prev=10,r({reportVulnerabilityResult:a}),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[1,7,10,13]])}))),function(e){return o.apply(this,arguments)})},{key:"handleCancelButtonClick",value:function(){var e=this.props,t=e.visit,n=e.nextTag;at.panorama.logWorkflowEvent({tagPath:n(at.WorkflowTags.cancel)}),t("/functions")}},{key:"handlePreviousButtonClick",value:function(){var e=this.props,t=e.visit,n=e.nextTag;at.panorama.logWorkflowEvent({tagPath:n(at.WorkflowTags.previous)}),t("/create/function?tab=serverlessApps")}},{key:"render",value:function(){var e=this.props,t=e.application,n=e.error;return a.a.createElement(tt.a,{id:"configureApplication",breadcrumbs:{items:[{text:ot.intl.formatMessage({id:"functions.title"}),href:"#/functions"},{text:ot.intl.formatMessage({id:"create.title"}),href:"#/create/function"},{text:ot.intl.formatMessage({id:"configureApplication.breadcrumbTitle"}),href:"#/create/function"}]},tag:this.props.tag},n.message&&a.a.createElement(c.Alert,{type:"error"},n.message),a.a.createElement("div",{className:"needs-old-form-field-override"},a.a.createElement(Ke,{fetch:Et,intl:ot.intl,sideHelpLink:function(e){var t=e.message;return a.a.createElement(et.a,{path:"serverless.apps.help",defaultMessage:t})},linkFn:St,application:t,showCopyButton:!0,showReadme:!1,applicationDependencies:t.dependencies,fetchResources:wt,onCancelButtonClick:this.handleCancelButtonClick.bind(this),onPreviousButtonClick:this.handlePreviousButtonClick.bind(this),onDeployButtonClick:this.handleDeployButtonClick.bind(this),onReportModalConfirmClick:this.handleReportModalConfirmClick.bind(this)})))}}])&&st(t.prototype,n),r&&st(t,r),s}(a.a.Component),kt=function(e){return{application:Qe.selectors.getApplication(e),error:Qe.selectors.getError(e)}},Tt=function(e){return{dispatchDeployApplication:function(t){return vt({dispatch:e,actionCreator:Qe.actions.deployApplication,payload:t})},dispatchReportApplication:function(t){return vt({dispatch:e,actionCreator:Qe.actions.reportApplication,payload:t})},visit:function(t){return e(Object(Ze.c)(t))}}};t.default=Object(it.tagContextHoc)(Object(l.connect)(kt,Tt)(Ct),!0)}}]);