/*! For license information please see function.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1e3:function(e,t,n){e.exports=n(429).Transform},1001:function(e,t,n){e.exports=n(429).PassThrough},1002:function(e,t,n){"use strict";(function(t){e.exports="function"==typeof t?t:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}}).call(this,n(432).setImmediate)},1003:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(1004);function i(){}var o={},c=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&m(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){a((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"===r(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function m(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function a(t){n||(n=!0,o.resolve(e,t))}var i=h((function(){t(a,r)}));"error"===i.status&&r(i.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===c)return this;var n=new this.constructor(i);this.state!==l?f(n,this.state===s?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)m(e,r);else{e.state=s,e.outcome=t;for(var a=-1,i=e.queue.length;++a<i;)e.queue[a].callFulfilled(t)}return e},o.reject=function(e,t){e.state=c,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){if(e instanceof this)return e;return o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var a=new Array(n),c=0,s=-1,l=new this(i);for(;++s<n;)u(e[s],s);return l;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++c!==n||r||(r=!0,o.resolve(l,a))}),(function(e){r||(r=!0,o.reject(l,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var a=-1,c=new this(i);for(;++a<n;)s=e[a],t.resolve(s).then((function(e){r||(r=!0,o.resolve(c,e))}),(function(e){r||(r=!0,o.reject(c,e))}));var s;return c}},1004:function(e,t,n){"use strict";(function(t){var n,r,a=t.MutationObserver||t.WebKitMutationObserver;if(a){var i=0,o=new a(u),c=t.document.createTextNode("");o.observe(c,{characterData:!0}),n=function(){c.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var s=new t.MessageChannel;s.port1.onmessage=u,n=function(){s.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}e.exports=function(e){1!==l.push(e)||r||n()}}).call(this,n(32))},1005:function(e,t,n){"use strict";var r=n(594),a=n(74),i=n(1008),o=n(598),c=(n(304),n(177));function s(e){this.files=[],this.loadOptions=e}s.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=c.uint8array?"uint8array":"array",n=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=s},1006:function(e,t,n){"use strict";var r=n(596);function a(e){r.call(this,e)}n(74).inherits(a,r),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},1007:function(e,t,n){"use strict";var r=n(597);function a(e){r.call(this,e)}n(74).inherits(a,r),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},1008:function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},1009:function(e,t,n){"use strict";var r=n(139),a=n(601);function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(74).inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=i},1010:function(e,t,n){"use strict";var r=n(74),a=n(139);function i(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,a),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},e.exports=i},1011:function(e,t,n){"use strict";var r=n(139);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(1012)},1012:function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=n(1013),i=n(74),o=n(139),c=r?"uint8array":"array";function s(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",i.inherits(s,o),s.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(c,e.data),!1)},s.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new s("Deflate",e)},t.uncompressWorker=function(){return new s("Inflate",{})}},1013:function(e,t,n){"use strict";var r={};(0,n(160).assign)(r,n(1014),n(1017),n(606)),e.exports=r},1014:function(e,t,n){"use strict";var r=n(1015),a=n(160),i=n(604),o=n(434),c=n(605),s=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(o[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}l.prototype.push=function(e,t){var n,o,c=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?c.input=i.string2buf(e):"[object ArrayBuffer]"===s.call(e)?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new a.Buf8(l),c.next_out=0,c.avail_out=l),1!==(n=r.deflate(c,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==c.avail_out&&(0!==c.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(c.output,c.next_out))):this.onData(a.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),c.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},1015:function(e,t,n){"use strict";var r,a=n(160),i=n(1016),o=n(602),c=n(603),s=n(434);function l(e,t){return e.msg=s[t],t}function u(e){return(e<<1)-(e>4?9:0)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function p(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function m(e,t){e.pending_buf[e.pending++]=t}function h(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,c=e.nice_match,s=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258,p=l[i+o-1],m=l[i+o];e.prev_length>=e.good_match&&(a>>=2),c>e.lookahead&&(c=e.lookahead);do{if(l[(n=t)+o]===m&&l[n+o-1]===p&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<f);if(r=258-(f-i),i=f-258,r>o){if(e.match_start=t,o=r,r>=c)break;p=l[i+o-1],m=l[i+o]}}}while((t=d[t&u])>s&&0!=--a);return o<=e.lookahead?o:e.lookahead}function v(e){var t,n,r,i,s,l,u,d,f,p,m=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-262)){a.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);i+=m}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=i,p=void 0,(p=l.avail_in)>f&&(p=f),n=0===p?0:(l.avail_in-=p,a.arraySet(u,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=o(l.adler,u,p,d):2===l.state.wrap&&(l.adler=c(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var n,r,a;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):l(e,-2)}function S(e){var t,n=w(e);return 0===n&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function j(e,t,n,r,i,o){if(!e)return-2;var c=1;if(-1===t&&(t=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),i<1||i>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return l(e,-2);8===r&&(r=9);var s=new O;return e.state=s,s.strm=e,s.wrap=c,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new a.Buf8(2*s.w_size),s.head=new a.Buf16(s.hash_size),s.prev=new a.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new a.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,S(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,p(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,b),new E(4,5,16,8,b),new E(4,6,32,32,b),new E(4,4,16,16,y),new E(8,16,32,32,y),new E(8,16,128,128,y),new E(8,32,128,256,y),new E(32,128,258,1024,y),new E(32,258,258,4096,y)],t.deflateInit=function(e,t){return j(e,t,8,15,8,0)},t.deflateInit2=j,t.deflateReset=S,t.deflateResetKeep=w,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,a,o,s;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(a.strm=e,n=a.last_flush,a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,m(a,31),m(a,139),m(a,8),a.gzhead?(m(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),m(a,255&a.gzhead.time),m(a,a.gzhead.time>>8&255),m(a,a.gzhead.time>>16&255),m(a,a.gzhead.time>>24&255),m(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),m(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(m(a,255&a.gzhead.extra.length),m(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=c(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(m(a,0),m(a,0),m(a,0),m(a,0),m(a,0),m(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),m(a,3),a.status=113);else{var g=8+(a.w_bits-8<<4)<<8;g|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(g|=32),g+=31-g%31,a.status=113,h(a,g),0!==a.strstart&&(h(a,e.adler>>>16),h(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),f(e),o=a.pending,a.pending!==a.pending_buf_size));)m(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),f(e),o=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,m(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),0===s&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),f(e),o=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,m(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>o&&(e.adler=c(e.adler,a.pending_buf,a.pending-o,o)),0===s&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&f(e),a.pending+2<=a.pending_buf_size&&(m(a,255&e.adler),m(a,e.adler>>8&255),e.adler=0,a.status=113)):a.status=113),0!==a.pending){if(f(e),0===e.avail_out)return a.last_flush=-1,0}else if(0===e.avail_in&&u(t)<=u(n)&&4!==t)return l(e,-5);if(666===a.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==a.lookahead||0!==t&&666!==a.status){var b=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(a,t):3===a.strategy?function(e,t){for(var n,r,a,o,c=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=c[a=e.strstart-1])===c[++a]&&r===c[++a]&&r===c[++a]){o=e.strstart+258;do{}while(r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&a<o);e.match_length=258-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(a,t):r[a.level].func(a,t);if(3!==b&&4!==b||(a.status=666),1===b||3===b)return 0===e.avail_out&&(a.last_flush=-1),0;if(2===b&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(d(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),f(e),0===e.avail_out))return a.last_flush=-1,0}return 4!==t?0:a.wrap<=0?1:(2===a.wrap?(m(a,255&e.adler),m(a,e.adler>>8&255),m(a,e.adler>>16&255),m(a,e.adler>>24&255),m(a,255&e.total_in),m(a,e.total_in>>8&255),m(a,e.total_in>>16&255),m(a,e.total_in>>24&255)):(h(a,e.adler>>>16),h(a,65535&e.adler)),f(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,i,c,s,l,u,f,p=t.length;if(!e||!e.state)return-2;if(2===(c=(n=e.state).wrap)||1===c&&42!==n.status||n.lookahead)return-2;for(1===c&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===c&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new a.Buf8(n.w_size),a.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),s=e.avail_in,l=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=s,n.wrap=c,0},t.deflateInfo="pako deflate (from Nodeca project)"},1016:function(e,t,n){"use strict";var r=n(160);function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);a(l);var u=new Array(60);a(u);var d=new Array(512);a(d);var f=new Array(256);a(f);var p=new Array(29);a(p);var m,h,g,v=new Array(30);function b(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function E(e){return e<256?d[e]:d[256+(e>>>7)]}function O(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,O(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){w(e,n[2*t],n[2*t+1])}function j(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function _(e,t,n){var r,a,i=new Array(16),o=0;for(r=1;r<=15;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var c=e[2*a+1];0!==c&&(e[2*a]=j(i[c]++,c))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?O(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function C(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function P(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&C(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!C(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function x(e,t,n){var r,a,c,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?S(e,a,t):(S(e,(c=f[a])+256+1,t),0!==(s=i[c])&&w(e,a-=p[c],s),S(e,c=E(--r),n),0!==(s=o[c])&&w(e,r-=v[c],s))}while(l<e.last_lit);S(e,256,t)}function N(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,c=t.stat_desc.has_stree,s=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[a]=0,e.opt_len--,c&&(e.static_len-=o[2*a+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)P(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,P(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,c,s=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,h=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>m&&(i=m,h++),s[2*r+1]=i,r>l||(e.bl_count[i]++,o=0,r>=p&&(o=f[r-p]),c=s[2*r],e.opt_len+=c*(i+o),d&&(e.static_len+=c*(u[2*r+1]+o)));if(0!==h){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,h-=2}while(h>0);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>l||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),_(i,l,e.bl_count)}function I(e,t,n){var r,a,i=-1,o=t[1],c=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++c<s&&a===o||(c<l?e.bl_tree[2*a]+=c:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):c<=10?e.bl_tree[34]++:e.bl_tree[36]++,c=0,i=a,0===o?(s=138,l=3):a===o?(s=6,l=3):(s=7,l=4))}function D(e,t,n){var r,a,i=-1,o=t[1],c=0,s=7,l=4;for(0===o&&(s=138,l=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++c<s&&a===o)){if(c<l)do{S(e,a,e.bl_tree)}while(0!=--c);else 0!==a?(a!==i&&(S(e,a,e.bl_tree),c--),S(e,16,e.bl_tree),w(e,c-3,2)):c<=10?(S(e,17,e.bl_tree),w(e,c-3,3)):(S(e,18,e.bl_tree),w(e,c-11,7));c=0,i=a,0===o?(s=138,l=3):a===o?(s=6,l=3):(s=7,l=4)}}a(v);var A=!1;function R(e,t,n,a){w(e,0+(a?1:0),3),function(e,t,n,a){T(e),a&&(O(e,n),O(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){A||(!function(){var e,t,n,r,a,s=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<i[r];e++)f[n++]=r;for(f[n-1]=r,a=0,r=0;r<16;r++)for(v[r]=a,e=0;e<1<<o[r];e++)d[a++]=r;for(a>>=7;r<30;r++)for(v[r]=a<<7,e=0;e<1<<o[r]-7;e++)d[256+a++]=r;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,s[8]++;for(;e<=255;)l[2*e+1]=9,e++,s[9]++;for(;e<=279;)l[2*e+1]=7,e++,s[7]++;for(;e<=287;)l[2*e+1]=8,e++,s[8]++;for(_(l,287,s),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=j(e,5);m=new b(l,i,257,286,15),h=new b(u,o,0,30,15),g=new b(new Array(0),c,0,19,7)}(),A=!0),e.l_desc=new y(e.dyn_ltree,m),e.d_desc=new y(e.dyn_dtree,h),e.bl_desc=new y(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),o=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*s[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?R(e,t,n,r):4===e.strategy||i===a?(w(e,2+(r?1:0),3),x(e,l,u)):(w(e,4+(r?1:0),3),function(e,t,n,r){var a;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),a=0;a<r;a++)w(e,e.bl_tree[2*s[a]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),x(e,e.dyn_ltree,e.dyn_dtree)),k(e),r&&T(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){w(e,2,3),S(e,256,l),function(e){16===e.bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},1017:function(e,t,n){"use strict";var r=n(1018),a=n(160),i=n(604),o=n(606),c=n(434),s=n(605),l=n(1021),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(c[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(c[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}d.prototype.push=function(e,t){var n,c,s,l,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,h=!1;if(this.ended)return!1;c=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(n=r.inflateSetDictionary(this.strm,m)),n===o.Z_BUF_ERROR&&!0===h&&(n=o.Z_OK,h=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||c!==o.Z_FINISH&&c!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(f.output,f.next_out),l=f.next_out-s,d=i.buf2string(f.output,s),f.next_out=l,f.avail_out=p-l,l&&a.arraySet(f.output,f.output,s,l,0),this.onData(d)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(h=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(c=o.Z_FINISH),c===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):c!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},1018:function(e,t,n){"use strict";var r=n(160),a=n(602),i=n(603),o=n(1019),c=n(1020);function s(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):-2}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d(e))):-2}function p(e,t){var n,r;return e?(r=new l,e.state=r,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var m,h,g=!0;function v(e){if(g){var t;for(m=new r.Buf32(512),h=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,h,0,e.work,{bits:5}),g=!1}e.lencode=m,e.lenbits=9,e.distcode=h,e.distbits=5}function b(e,t,n,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,t,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=d,t.inflateReset2=f,t.inflateResetKeep=u,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var n,l,u,d,f,p,m,h,g,y,E,O,w,S,j,_,k,T,C,P,x,N,I,D,A=0,R=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,u=e.output,m=e.avail_out,d=e.next_in,l=e.input,p=e.avail_in,h=n.hold,g=n.bits,y=p,E=m,N=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(2&n.wrap&&35615===h){n.check=0,R[0]=255&h,R[1]=h>>>8&255,n.check=i(n.check,R,2,0),h=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&h)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,x=8+(15&(h>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<x,e.adler=n.check=1,n.mode=512&h?10:12,h=0,g=0;break;case 2:for(;g<16;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(n.flags=h,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(R[0]=255&h,R[1]=h>>>8&255,n.check=i(n.check,R,2,0)),h=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.head&&(n.head.time=h),512&n.flags&&(R[0]=255&h,R[1]=h>>>8&255,R[2]=h>>>16&255,R[3]=h>>>24&255,n.check=i(n.check,R,4,0)),h=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(R[0]=255&h,R[1]=h>>>8&255,n.check=i(n.check,R,2,0)),h=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(R[0]=255&h,R[1]=h>>>8&255,n.check=i(n.check,R,2,0)),h=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((O=n.length)>p&&(O=p),O&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,d,O,x)),512&n.flags&&(n.check=i(n.check,l,O,d)),p-=O,d+=O,n.length-=O),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;O=0;do{x=l[d+O++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&O<p);if(512&n.flags&&(n.check=i(n.check,l,O,d)),p-=O,d+=O,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;O=0;do{x=l[d+O++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&O<p);if(512&n.flags&&(n.check=i(n.check,l,O,d)),p-=O,d+=O,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}h=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}e.adler=n.check=s(h),h=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=h,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){h>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}switch(n.last=1&h,g-=1,3&(h>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){h>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}h>>>=2,g-=2;break;case 14:for(h>>>=7&g,g-=7&g;g<32;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&h,h=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(O=n.length){if(O>p&&(O=p),O>m&&(O=m),0===O)break e;r.arraySet(u,l,d,O,f),p-=O,d+=O,m-=O,f+=O,n.length-=O;break}n.mode=12;break;case 17:for(;g<14;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(n.nlen=257+(31&h),h>>>=5,g-=5,n.ndist=1+(31&h),h>>>=5,g-=5,n.ncode=4+(15&h),h>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.lens[M[n.have++]]=7&h,h>>>=3,g-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},N=c(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,N){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;_=(A=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,k=65535&A,!((j=A>>>24)<=g);){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(k<16)h>>>=j,g-=j,n.lens[n.have++]=k;else{if(16===k){for(D=j+2;g<D;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(h>>>=j,g-=j,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],O=3+(3&h),h>>>=2,g-=2}else if(17===k){for(D=j+3;g<D;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}g-=j,x=0,O=3+(7&(h>>>=j)),h>>>=3,g-=3}else{for(D=j+7;g<D;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}g-=j,x=0,O=11+(127&(h>>>=j)),h>>>=7,g-=7}if(n.have+O>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;O--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},N=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,N){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},N=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,N){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(p>=6&&m>=258){e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=h,n.bits=g,o(e,E),f=e.next_out,u=e.output,m=e.avail_out,d=e.next_in,l=e.input,p=e.avail_in,h=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;_=(A=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,k=65535&A,!((j=A>>>24)<=g);){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(_&&0==(240&_)){for(T=j,C=_,P=k;_=(A=n.lencode[P+((h&(1<<T+C)-1)>>T)])>>>16&255,k=65535&A,!(T+(j=A>>>24)<=g);){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}h>>>=T,g-=T,n.back+=T}if(h>>>=j,g-=j,n.back+=j,n.length=k,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=12;break}if(64&_){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(D=n.extra;g<D;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;_=(A=n.distcode[h&(1<<n.distbits)-1])>>>16&255,k=65535&A,!((j=A>>>24)<=g);){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(0==(240&_)){for(T=j,C=_,P=k;_=(A=n.distcode[P+((h&(1<<T+C)-1)>>T)])>>>16&255,k=65535&A,!(T+(j=A>>>24)<=g);){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}h>>>=T,g-=T,n.back+=T}if(h>>>=j,g-=j,n.back+=j,64&_){e.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(D=n.extra;g<D;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===m)break e;if(O=E-m,n.offset>O){if((O=n.offset-O)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}O>n.wnext?(O-=n.wnext,w=n.wsize-O):w=n.wnext-O,O>n.length&&(O=n.length),S=n.window}else S=u,w=f-n.offset,O=n.length;O>m&&(O=m),m-=O,n.length-=O;do{u[f++]=S[w++]}while(--O);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;u[f++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===p)break e;p--,h|=l[d++]<<g,g+=8}if(E-=m,e.total_out+=E,n.total+=E,E&&(e.adler=n.check=n.flags?i(n.check,u,E,f-E):a(n.check,u,E,f-E)),E=m,(n.flags?h:s(h))!==n.check){e.msg="incorrect data check",n.mode=30;break}h=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===p)break e;p--,h+=l[d++]<<g,g+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}h=0,g=0}n.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=h,n.bits=g,(n.wsize||E!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,E-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,E-=e.avail_out,e.total_in+=y,e.total_out+=E,n.total+=E,n.wrap&&E&&(e.adler=n.check=n.flags?i(n.check,u,E,e.next_out-E):a(n.check,u,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===E||4===t)&&0===N&&(N=-5),N)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&a(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},1019:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,a,i,o,c,s,l,u,d,f,p,m,h,g,v,b,y,E,O,w,S,j,_,k;n=e.state,r=e.next_in,_=e.input,a=r+(e.avail_in-5),i=e.next_out,k=e.output,o=i-(t-e.avail_out),c=i+(e.avail_out-257),s=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,m=n.bits,h=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{m<15&&(p+=_[r++]<<m,m+=8,p+=_[r++]<<m,m+=8),y=h[p&v];t:for(;;){if(p>>>=E=y>>>24,m-=E,0===(E=y>>>16&255))k[i++]=65535&y;else{if(!(16&E)){if(0==(64&E)){y=h[(65535&y)+(p&(1<<E)-1)];continue t}if(32&E){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}O=65535&y,(E&=15)&&(m<E&&(p+=_[r++]<<m,m+=8),O+=p&(1<<E)-1,p>>>=E,m-=E),m<15&&(p+=_[r++]<<m,m+=8,p+=_[r++]<<m,m+=8),y=g[p&b];n:for(;;){if(p>>>=E=y>>>24,m-=E,!(16&(E=y>>>16&255))){if(0==(64&E)){y=g[(65535&y)+(p&(1<<E)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&y,m<(E&=15)&&(p+=_[r++]<<m,(m+=8)<E&&(p+=_[r++]<<m,m+=8)),(w+=p&(1<<E)-1)>s){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=E,m-=E,w>(E=i-o)){if((E=w-E)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,j=f,0===d){if(S+=l-E,E<O){O-=E;do{k[i++]=f[S++]}while(--E);S=i-w,j=k}}else if(d<E){if(S+=l+d-E,(E-=d)<O){O-=E;do{k[i++]=f[S++]}while(--E);if(S=0,d<O){O-=E=d;do{k[i++]=f[S++]}while(--E);S=i-w,j=k}}}else if(S+=d-E,E<O){O-=E;do{k[i++]=f[S++]}while(--E);S=i-w,j=k}for(;O>2;)k[i++]=j[S++],k[i++]=j[S++],k[i++]=j[S++],O-=3;O&&(k[i++]=j[S++],O>1&&(k[i++]=j[S++]))}else{S=i-w;do{k[i++]=k[S++],k[i++]=k[S++],k[i++]=k[S++],O-=3}while(O>2);O&&(k[i++]=k[S++],O>1&&(k[i++]=k[S++]))}break}}break}}while(r<a&&i<c);r-=O=m>>3,p&=(1<<(m-=O<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<c?c-i+257:257-(i-c),n.hold=p,n.bits=m}},1020:function(e,t,n){"use strict";var r=n(160),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,s,l,u,d,f){var p,m,h,g,v,b,y,E,O,w=f.bits,S=0,j=0,_=0,k=0,T=0,C=0,P=0,x=0,N=0,I=0,D=null,A=0,R=new r.Buf16(16),M=new r.Buf16(16),F=null,L=0;for(S=0;S<=15;S++)R[S]=0;for(j=0;j<s;j++)R[t[n+j]]++;for(T=w,k=15;k>=1&&0===R[k];k--);if(T>k&&(T=k),0===k)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(_=1;_<k&&0===R[_];_++);for(T<_&&(T=_),x=1,S=1;S<=15;S++)if(x<<=1,(x-=R[S])<0)return-1;if(x>0&&(0===e||1!==k))return-1;for(M[1]=0,S=1;S<15;S++)M[S+1]=M[S]+R[S];for(j=0;j<s;j++)0!==t[n+j]&&(d[M[t[n+j]]++]=j);if(0===e?(D=F=d,b=19):1===e?(D=a,A-=257,F=i,L-=257,b=256):(D=o,F=c,b=-1),I=0,j=0,S=_,v=u,C=T,P=0,h=-1,g=(N=1<<T)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){y=S-P,d[j]<b?(E=0,O=d[j]):d[j]>b?(E=F[L+d[j]],O=D[A+d[j]]):(E=96,O=0),p=1<<S-P,_=m=1<<C;do{l[v+(I>>P)+(m-=p)]=y<<24|E<<16|O|0}while(0!==m);for(p=1<<S-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,j++,0==--R[S]){if(S===k)break;S=t[n+d[j]]}if(S>T&&(I&g)!==h){for(0===P&&(P=T),v+=_,x=1<<(C=S-P);C+P<k&&!((x-=R[C+P])<=0);)C++,x<<=1;if(N+=1<<C,1===e&&N>852||2===e&&N>592)return 1;l[h=I&g]=T<<24|C<<16|v-u|0}}return 0!==I&&(l[v+I]=S-P<<24|64<<16|0),f.bits=T,0}},1021:function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},1022:function(e,t,n){"use strict";var r=n(1023),a=n(600),i=n(304),o=n(599),c=n(139),s=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};s.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var a="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!a&&(t=t.pipe(new i.Utf8EncodeWorker)),!o&&a&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)s.prototype[l[d]]=u;e.exports=s},1023:function(e,t,n){"use strict";(function(t){var r=n(74),a=n(1024),i=n(139),o=n(592),c=n(177),s=n(433),l=null;if(c.nodestream)try{l=n(1025)}catch(e){}function u(e,n){return new s.Promise((function(a,i){var c=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,t){c.push(e),n&&n(t)})).on("error",(function(e){c=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(l,function(e,n){var r,a=0,i=null,o=0;for(r=0;r<n.length;r++)o+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(i=new Uint8Array(o),r=0;r<n.length;r++)i.set(n[r],a),a+=n[r].length;return i;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,c),u);a(e)}catch(e){i(e)}c=[]})).resume()}))}function d(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new a(o)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=d}).call(this,n(141).Buffer)},1024:function(e,t,n){"use strict";var r=n(139),a=n(74);function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},e.exports=i},1025:function(e,t,n){"use strict";var r=n(586).Readable;function a(e,t,n){r.call(this,t),this._helper=e;var a=this;e.on("data",(function(e,t){a.push(e)||a._helper.pause(),n&&n(t)})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){a.push(null)}))}n(74).inherits(a,r),a.prototype._read=function(){this._helper.resume()},e.exports=a},139:function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},160:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==r(n))throw new TypeError(n+"must be non-object");for(var a in n)i(n,a)&&(e[a]=n[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},c={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,c))},t.setTyped(a)},177:function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),t.blob=0===a.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(586).Readable}catch(e){t.nodestream=!1}}).call(this,n(141).Buffer)},178:function(e,t,n){"use strict";var r=n(305),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=Object.create(n(252));i.inherits=n(212);var o=n(587),c=n(431);i.inherits(d,o);for(var s=a(c.prototype),l=0;l<s.length;l++){var u=s[l];d.prototype[u]||(d.prototype[u]=c.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},1976:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(837),a=n(1978),i=n(297),o=function(e){return function(t,n){e(Object(i.resetForm)(t,n)),e(Object(a.g)(t)),e(Object(r.setModalOpen)(t,!0))}}},2094:function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("g",{transform:"scale(.8)"},[r.createElement("defs",{key:0},r.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"0%",id:"a"},[r.createElement("stop",{stopColor:"#B0084D",offset:"0%",key:0}),r.createElement("stop",{stopColor:"#FF4F8B",offset:"100%",key:1})])),r.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[r.createElement("path",{d:"M0 0h80v80H0z",fill:"url(#a)",key:0}),r.createElement("path",{d:"M45 44h21v-7H45v7zm22-9H44a1 1 0 00-1 1v9a1 1 0 001 1h23a1 1 0 001-1v-9a1 1 0 00-1-1zM43.5 62.5c0 1.93-1.57 3.5-3.5 3.5s-3.5-1.57-3.5-3.5S38.07 59 40 59s3.5 1.57 3.5 3.5zM14 47h18v-4H14v4zm0-10h18v-4H14v4zm22.5-19.5c0-1.93 1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5S41.93 21 40 21s-3.5-1.57-3.5-3.5zM56 53H24v-4h9a1 1 0 001-1v-6a1 1 0 00-1-1h-9v-2h9a1 1 0 001-1v-6a1 1 0 00-1-1h-9v-3h32v4h2v-5a1 1 0 00-1-1H41v-3.096c2.556-.472 4.5-2.713 4.5-5.404 0-3.033-2.468-5.5-5.5-5.5a5.506 5.506 0 00-5.5 5.5c0 2.691 1.944 4.932 4.5 5.404V26H23a1 1 0 00-1 1v4h-9a1 1 0 00-1 1v6a1 1 0 001 1h9v2h-9a1 1 0 00-1 1v6a1 1 0 001 1h9v5a1 1 0 001 1h16v2.096c-2.556.472-4.5 2.713-4.5 5.404 0 3.033 2.468 5.5 5.5 5.5s5.5-2.467 5.5-5.5c0-2.691-1.944-4.932-4.5-5.404V55h16a1 1 0 001-1v-4.973h-2V53z",fill:"#FFF",key:1})])]))}a.defaultProps={viewBox:"0 0 64 64"},e.exports=a,a.default=a},212:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2154:function(e,t,n){var r=n(20),a=n(2155);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},2155:function(e,t,n){(t=n(19)(!1)).push([e.i,".sfn-header-container{display:flex;align-items:center}.sfn-header-container__sfn-icon{width:35px;height:35px}.sfn-header-container .sfn-header-container-description{font-size:1.2rem;line-height:1.5rem;font-weight:400;margin-top:2px}",""]),e.exports=t},2255:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(551),o=n(219),c=n(568),s=n(211),l=n(2005),u=n(1970),d=n(1969),f=n(412),p=n(38),m=n(1981),h=function(t){var n=t.id,r=t.value,o=void 0===r?"":r,c=e.innerWidth/10,s=Math.min(10,o.split(/\r\n|\r|\n/).map((function(e){return Math.ceil((e.length+1)/c)})).reduce((function(e,t){return e+t})));return a.a.createElement(i.Textarea,{id:n,className:"awsui-util-mv-xs",readonly:!0,value:o,rows:s})};function g(e){var t,n=e.functionName,r=e.invoking,i=e.error,s=e.invokeFailureMessage,l=e.isStream;if(r)t=a.a.createElement(o.a,{id:"executionResults.pending.title"});else if(s)t=a.a.createElement(o.a,{id:"executionResults.invokeFailureMessage.title",values:{message:s}});else{var u=a.a.createElement("a",{href:"/cloudwatch/home?region=".concat(Object(p.L)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(n)),target:"_blank",rel:"noopener noreferrer"},a.a.createElement(o.a,{id:"executionResults.logs.subtextLink"}));t=a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,a.a.createElement(o.a,{id:"executionResults.".concat(i?"failed":"succeeded",".title")}),a.a.createElement("span",{className:"awsui-util-ml-xs"},a.a.createElement(o.a,{id:"wrapper",values:{value:u}}))),Object(p.S)("creek")&&l&&a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement(c.a,{id:"stream.response.payload",tagName:"p"})))}return a.a.createElement("h3",null,t)}function v(e){var t=e.results,n=e.codeSha256,r=["execId","duration","billed","size"],c=t.get("used");return t.get("initDuration")&&r.splice(1,0,"initDuration"),a.a.createElement("div",{className:"results-summary awsui-util-mv-s"},a.a.createElement("h3",{className:"awsui-util-mb-s"},a.a.createElement(o.a,{id:"executionResults.summary.title"})),a.a.createElement(i.ColumnLayout,{columns:2,borders:"vertical"},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},a.a.createElement(o.a,{id:"config.codeSha256.label"})),a.a.createElement("div",null,n)),r.map((function(e){return a.a.createElement("div",{key:e},a.a.createElement("div",{className:"awsui-util-label"},a.a.createElement(o.a,{id:"executionResults.summary.".concat(e)})),a.a.createElement("div",null,t.get(e)))})),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},a.a.createElement(o.a,{id:"executionResults.summary.used"})),a.a.createElement("div",null,c&&c===t.get("size")?a.a.createElement(d.i,{status:"warning"},c):c)))))}function b(e){var t=e.functionName,n=e.logs,r=a.a.createElement("a",{href:"/cloudwatch/home?region=".concat(Object(p.L)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(t)),target:"_blank",rel:"noopener noreferrer"},a.a.createElement(o.a,{id:"executionResults.logs.cloudwatchLink"}));return a.a.createElement("div",null,a.a.createElement(o.a,{tagName:"h3",id:"executionResults.logs.title"}),a.a.createElement(o.a,{id:"executionResults.logs.cloudwatchWrapper",values:{link:r}}),a.a.createElement(h,{id:"execution-logs",value:n}))}t.a=Object(s.connect)((function(e){return{results:l.c.getExecutionResults(e),codeSha256:Object(u.r)(e),invoking:l.c.getIsInvoking(e),isStream:l.c.getIsStream(e),showExecutionResults:l.c.getShowExecutionResults(e),functionName:Object(u.z)(e),runtime:Object(u.C)(e)||m.a,invokeFailureMessage:l.c.getInvokeFailureMessage(e)}}),(function(e){return{dismissExecutionResults:function(){return e(l.a.dismissExecutionResults())}}}))((function(e){var t=e.isStream,n=e.results,r=e.className,s=e.codeSha256,l=e.showExecutionResults,u=e.invoking,d=e.runtime,p=e.functionName,y=e.dismissExecutionResults,E=e.invokeFailureMessage;return a.a.createElement(f.a,{overlay:!0,className:"execution-results ".concat(r),cond:u},a.a.createElement(i.Alert,{type:n.get("error")||E?"error":"success",visible:l,dismissible:!0,onDismiss:y},a.a.createElement(g,{functionName:p,invoking:u,error:n.get("error"),invokeFailureMessage:E,isStream:t}),E?null:a.a.createElement(i.ExpandableSection,{header:a.a.createElement(o.a,{id:"details"})},a.a.createElement(c.a,{id:"executionResults.runtime.text.html",values:{docPage:Object(m.j)("programmingModel",d)}}),a.a.createElement(h,{id:"execution-result",value:n.get("message")}),a.a.createElement(v,{results:n,codeSha256:s}),a.a.createElement(b,{functionName:p,logs:n.get("logs")}))))}))}).call(this,n(32))},2256:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),i=n(92),o=n(551),c=n(219),s=n(211),l=n(1996),u=n(1975),d=n(1984),f=n(1970),p=n(1971),m=n(2347),h=n(1969),g=n(87),v=n(412);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){return{functionName:Object(f.z)(e),qualifiers:Object(f.T)(e)||Object(i.Map)(),provisionedConcurrencyConfigs:Object(f.U)(e,"provisionedConcurrencyConfigsParser")||Object(i.Map)(),refreshing:g.d.includes("hyperion")&&!Object(f.R)(e)}},w=function(e,t){return{openCreateAlias:function(n){e(Object(u.J)(!0)),e(Object(d.f)(n,t.qualifier,"alias",null,!0))},refresh:function(){return e(Object(u.x)(["functionQualifiersSource","provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]))}}};function S(e){var t=e.functionName,n=e.version,r=e.weight,i=e.hasAdditionalVersion,o=e.isInProgress,s=a.a.createElement("a",{href:Object(d.a)(t,n)},n);if(!i)return Object(p.s)(n)?n:s;var l=o?a.a.createElement(h.i,{status:"in-progress"}):a.a.createElement(c.a,{id:"functionDetail.aliasConfig.versionWeight",values:{percentage:r}});return a.a.createElement(c.a,{id:"titleSeparator",values:{key:s,value:l}})}var j=Object(p.F)(["provisionedConcurrencyConfigsParser"])(Object(s.connect)(O,w)((function(e){var t=e.alias,n=e.columns,r=e.error,i=e.functionName,o=e.id,s=e.loading,u=e.provisionedConcurrencyConfigs,d=e.refresh,f=e.refreshing,p=e.skipAliasName,m=null;if(t){var g,v,b,y,E="IN_PROGRESS"===(null===(g=u.get("aliases"))||void 0===g||null===(v=g.find((function(e){return e.get("qualifier")===t})))||void 0===v?void 0:v.get("status")),O=!(null===(b=t.additionalVersionWeight)||void 0===b||!b.version),w=[];p||w.push({key:a.a.createElement(c.a,{id:"functionDetail.aliasConfig.name.label"}),value:t.name}),w.push({key:a.a.createElement(c.a,{id:"functionDetail.aliasConfig.description.label"}),value:t.description||"-"},{key:a.a.createElement(c.a,{id:"functionDetail.aliasConfig.version.label"}),value:a.a.createElement(S,{functionName:i,version:t.version,weight:100-((null===(y=t.additionalVersionWeight)||void 0===y?void 0:y.weight)||0),hasAdditionalVersion:O,isInProgress:E})}),O&&w.push({key:a.a.createElement(c.a,{id:"functionDetail.aliasConfig.additionalVersion.label"}),value:a.a.createElement(S,{functionName:i,version:t.additionalVersionWeight.version,weight:t.additionalVersionWeight.weight,hasAdditionalVersion:O,isInProgress:E})}),m=a.a.createElement(h.f,{flat:!0,columns:null!=n?n:2,items:w})}return a.a.createElement(l.a,{id:null!=o?o:"alias",loading:s,error:r,editPage:"alias",refresh:d,refreshing:f},m)})));t.b=Object(p.F)(["functionQualifiersSource"])(Object(s.connect)(O,w,(function(e,t,n){return y(y(y(y({},n),e),t),{},{openCreateAlias:function(){return t.openCreateAlias(e.functionName)}})}))((function(e){if("alias"===e.qualifierType){var t,n=e.qualifier,r=e.qualifiers,i=e.id,s=e.columns,l=e.skipAliasName;return a.a.createElement(j,{alias:null===(t=r.getIn(["aliases",n]))||void 0===t?void 0:t.toJS(),id:i,columns:s,skipAliasName:l})}var u=e.functionName,d=e.qualifier,f=e.qualifiers,g=e.loading,b=e.error,y=Object(p.q)(f.get("aliases"))[d]||[],E=b?a.a.createElement(h.b,{error:b}):a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,y.map((function(e){return a.a.createElement("a",{key:e,href:"#/functions/".concat(u,"/aliases/").concat(e)},a.a.createElement(m.a,{color:"blue"},e))}))),a.a.createElement(o.Button,{variant:"link",icon:"add-plus",onClick:e.openCreateAlias},a.a.createElement(c.a,{id:"functionDetail.button.createAlias"})));return a.a.createElement(o.FormSection,{header:a.a.createElement(c.a,{id:"functionDetail.configuration.aliases.title"})},a.a.createElement(v.a,{cond:!!g},E))})))},2257:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(0),a=n.n(r),i=n(211),o=n(551),c=n(219),s=n(568),l=n(1996),u=n(1969),d=n(558),f=n(414),p=n(100),m=n(1970),h=n(1971),g=n(1973),v=n(1976),b=n(2242),y=n(1984),E=n(1980),O=n(38),w=n(1995),S=n(2022),j=n(2045),_=["result"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var x=function(){var e,t=!(null===(e=Object(i.useSelector)((function(e){return Object(m.eb)(e,"functionUrlSource")})))||void 0===e||!e.get("functionUrl")),n=Object(y.j)("function-url").goToEdit,r=t?"edit":"functionDetail.sections.url.button.addUrl";return a.a.createElement(o.Button,{onClick:n},a.a.createElement(c.a,{id:r}))},N=function(){var e=Object(i.useSelector)(m.p),t=Object(i.useDispatch)(),n=Object(v.a)(t);return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.Button,{onClick:function(){return n(b.a)}},p.intl.formatMessage({id:"delete"})),a.a.createElement(b.b,{functionArn:e}))},I=u.f.itemBuilder((function(e){return p.intl.formatMessage({id:"functionDetail.sections.url.".concat(e,".label")})})),D=function(e){var t=e.href;return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{text:" ",value:t}),a.a.createElement(E.d,{href:t},a.a.createElement("span",{style:{wordBreak:"break-all"}},t)))},A=function(e){return"string"==typeof e&&e.endsWith("E9")?new Date(1e3*+e).toISOString():e};t.b=Object(h.F)(["functionUrlSource","resourcePolicyParser","urlParser"])(Object(i.connect)((function(e,t){var n,r,a=Object(m.lb)(e,"functionUrlSource"),i=a.result,o=P(a,_),c=Object(j.c)(null===(n=Object(m.lb)(e,"resourcePolicyParser"))||void 0===n?void 0:n.result);return T(T({qualifierType:Object(O.K)(Object(m.S)(e)),result:null!==(r=null==i?void 0:i.toJS())&&void 0!==r?r:{},functionName:Object(m.z)(e),hasExistingOpenPolicy:c},o),t)}),null)((function(e){var t=e.error,n=e.loading,r=e.result,i=e.qualifierType,o=e.functionName,m=e.hasExistingOpenPolicy,h=Object(y.j)("function-url").goToEdit,v=i===g.H.VERSION,b=!(null==r||!r.functionUrl),E=function(){var e,t;if(v)return a.a.createElement(d.default,{type:"info"},a.a.createElement(s.a,{id:"functionDetail.sections.url.alert.notAllowed.description",values:{functionName:o}}));if(!b)return a.a.createElement(u.d,{id:"functionDetail.sections.url.empty",onClick:h});var n=r.functionUrl,i=r.lastModifiedTime,l=r.authType,y=r.cors,E=r.creationTime,S=r.isCorsEnabled,j=r.invokeMode,_=[I("functionUrl",a.a.createElement(D,{href:n})),I("authType",l),I("creationTime",a.a.createElement(w.a,{value:A(E)})),I("lastModified",a.a.createElement(w.a,{value:A(i)}))];Object(O.S)("kirin")&&_.splice(2,0,I("invokeMode",j));var k=[I("accessControlAllowOrigin",Object(O.E)(null==y?void 0:y.allowOrigins)),I("accessControlExposeHeaders",Object(O.E)(null==y?void 0:y.exposeHeaders)),I("accessControlAllowHeaders",Object(O.E)(null==y?void 0:y.allowHeaders)),I("accessControlAllowMethods",Object(O.E)(null==y?void 0:y.allowMethods)),I("accessControlMaxAge",null==y||null===(e=y.maxAge)||void 0===e?void 0:e.toString()),I("accessControlAllowCredentials",null==y||null===(t=y.allowCredentials)||void 0===t?void 0:t.toString())],T=l===g.v.NONE&&m,C=a.a.createElement(f.default,{margin:{top:"xs"}},a.a.createElement(d.default,{type:"info"},a.a.createElement(c.a,{id:"functionDetail.sections.url.public.alert"}))),P=l===g.v.NONE&&!m,x=a.a.createElement(f.default,{margin:{top:"xs"}},a.a.createElement(d.default,{type:"info"},a.a.createElement(s.a,{id:"functionDetail.sections.url.missingPermissions.alert"}))),N=Object(O.S)("kirin")?3:4,R=a.a.createElement(f.default,{margin:{top:T?"xxl":"m"}},a.a.createElement(u.f,{flat:!0,items:_,columns:N})),M=a.a.createElement(f.default,{margin:{top:"xl"}},a.a.createElement("h5",null,p.intl.formatMessage({id:"functionDetail.sections.url.cors".concat(S?"":".notConfigured",".label")}))),F=a.a.createElement(f.default,{margin:{top:"s"}},a.a.createElement(u.f,{flat:!0,items:k,columns:4}));return a.a.createElement(a.a.Fragment,null,T&&C,P&&x,R,M,S&&F)}(),S=n||v?[]:b?[a.a.createElement(N,{key:"delete"}),a.a.createElement(x,{key:"modify"})]:[a.a.createElement(x,{key:"modify"})];return a.a.createElement(l.a,{id:"url",showInfoLink:!0,loading:n,error:t,otherButtons:S},E)})))},2451:function(e,t,n){"use strict";n.r(t),n.d(t,"NodeSelector",(function(){return x})),n.d(t,"AddRelationPageComponent",(function(){return I}));var r=n(0),a=n.n(r),i=n(551),o=n(92),c=n(219),s=n(211),l=n(299),u=n(57),d=n(2137),f=n(257),p=n(840),m=n(250),h=n(298),g=n(2199),v=n(1972),b=n(2144),y=n(1985),E=n(1999),O=n(2090),w=n(2143),S=n(38),j=n(87),_=n(101),k=n(100),T=n(1955);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.type,n=e.nodes,r=e.otherType,c=e.setOtherType,s=k.intl.formatMessage({id:"addRelation.type.".concat(t)}),l=Object(o.Map)(n[t]).filter((function(e){return null==e?void 0:e.isAvailable})).sortBy((function(e){return e.getDisplayName()})).map((function(e){return{id:e.id,label:e.getDisplayName(),iconUrl:e.icon,tags:e.categories.concat(e.keywords).sort()}})).toArray(),u=!l.length,d=l;if(j.d.includes("encephalon")&&(u=u||!n.thirdParty,n.thirdParty&&!n.thirdParty.isEmpty())){var f=n.thirdParty.map((function(e){return{id:e.id,label:e.name,description:e.description,iconUrl:e.logo}})).toArray();d.push({id:"thirdParty",label:k.intl.formatMessage({id:"addRelation.nodeSelector.thirdParty.label"}),options:f})}var p=d.find((function(e){return e.id===r}));return a.a.createElement(i.Select,{id:"node-selector",className:"awsui-util-mb-s",filteringType:"auto",triggerVariant:"option",options:d,statusType:u?"loading":null,selectedOption:p,onChange:function(e){return c(e.detail.selectedOption.id)},placeholder:k.intl.formatMessage({id:"addRelation.nodeSelector.placeholder"},{type:s})})}function N(e){var t=k.intl.formatMessage({id:"addRelation.type.".concat(e)});return{items:[{text:k.intl.formatMessage({id:"addRelation.header"},{type:t}),href:"#/add/relation"}]}}function I(e){var t=e.adding,n=e.config,o=e.nodes,s=e.relation,d=e.add,j=e.cancel,k=e.setOtherType,T=e.updateRelation,P=e.tag,I=e.tagType,D=C(Object(r.useState)(!1),2),A=D[0],R=D[1],M=n.toJS(),F=M.type,L=M.sourceType,z=M.target,B=M.targetType,q=M.focus,U=M.nodeId;if(!z)return a.a.createElement(u.Redirect,{to:"/functions"});if(!F)return null;var W,V=a.a.createElement(c.a,{id:"addRelation.type.".concat(F)}),H=q===L?B:L,G=q===L?o.lambda:o[F][U],Z=q===L?o[F][U]:o.lambda,J=G&&Z;null!=H&&H.startsWith("aws.partner/")&&(W={partner:H});var K,Q=!1;"cloudfront"!==H||Object(S.W)(new S.i(z).qualifier)||(Q=!0,K=w.b);var Y=null,X=null,$=null;if(J){var ee=G.formatMessage("acknowledgement.header"),te=G.formatMessage("acknowledgement.content"),ne=G.formatMessage("acknowledgement.checkbox"),re=!!ee;!!ne&&(Q=!0,$=a.a.createElement(i.Checkbox,{checked:A,onChange:function(e){R(e.detail.checked),Object(_.logEvent)(_.EVENT_NAMES.TRIGGER_ACK(e.detail.checked))},className:"awsui-util-mt-s"},ne)),re&&(X=a.a.createElement(i.Alert,{header:ee,className:"awsui-util-mb-m"},te,$)),Y=K?a.a.createElement(K,{target:z,sourceDefinition:G}):a.a.createElement(b.a,{type:F,source:s.get("identifier"),target:z,data:s.get("data"),metadata:W,persistedState:s.get("persistedState"),validation:s.get("validation"),focus:q,sourceDefinition:G,targetDefinition:Z,onChange:T})}else H&&(Y=a.a.createElement(f.default,{size:"large"}));var ae=a.a.createElement("div",null,a.a.createElement(i.Button,{variant:"link",onClick:j,"data-analytics":_.WorkflowTags.cancel},a.a.createElement(c.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",onClick:d,disabled:Q&&!($&&A),loading:t,"data-analytics":_.WorkflowTags.add},a.a.createElement(c.a,{id:"add.button.submit"}))),ie=a.a.createElement(v.b,{id:"addRelation",header:a.a.createElement(p.default,{variant:"h2"},a.a.createElement(c.a,{id:"trigger.create.title"})),actions:a.a.createElement(m.default,{direction:"horizontal",size:"xs"},a.a.createElement(h.default,{variant:"link",onClick:j},a.a.createElement(c.a,{id:"cancel"})),a.a.createElement(h.default,{variant:"primary",onClick:d,loading:t},a.a.createElement(c.a,{id:"add.button.submit"})))},a.a.createElement(g.a,{header:a.a.createElement(p.default,{variant:"h2"},a.a.createElement(c.a,{id:"addRelation.section.trigger"}))},a.a.createElement(O.a,{relation:new l.Relation({type:"trigger",target:z,data:JSON.stringify({sourceType:L,targetType:B})})})));return a.a.createElement(y.a,{id:"addRelation",breadcrumbs:N(F),tag:P,tagType:I},Object(E.o)()?ie:a.a.createElement(v.b,{id:"addRelation",header:a.a.createElement(c.a,{tagName:"h1",id:"addRelation.header",values:{type:V}}),actions:ae},a.a.createElement(i.FormSection,{header:a.a.createElement(c.a,{id:"addRelation.section.".concat(F)})},a.a.createElement(x,{type:F,nodes:o,otherType:H,setOtherType:k}),Y),X))}t.default=Object(T.tagContextHoc)(Object(s.connect)(d.d,d.c,d.e)(I),!0)},2452:function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigureBlueprintComponent",(function(){return A}));var r=n(0),a=n.n(r),i=n(299),o=n(551),c=n(57),s=n(92),l=n(219),u=n(568),d=n(211),f=n(2138),p=n(558),m=n(414),h=n(1979),g=n(1969),v=n(1985),b=n(554),y=n(2202),E=n(297),O=n(1972),w=n(1977),S=n(1999),j=n(2144),_=n(2090),k=n(2065),T=n(38),C=n(101),P=n(1981),x=n(2083),N=n(100),I=n(1955),D=n(1990);function A(e){var t,n=e.functionName,r=e.isQuickstart,d=e.runtime,f=e.trigger,I=e.pageLoadError,A=e.blueprintName,R=e.functionUrl;if(!A||I)return a.a.createElement(c.Redirect,{to:"/create/function"});var M=r?a.a.createElement("div",{className:"awsui-util-mb-l"},a.a.createElement(p.default,{header:a.a.createElement(l.a,{id:"create.quickstart.header"})},a.a.createElement(l.a,{id:"create.quickstart.new.content"}))):null,F=f.getIn(["data","id"]);Object(S.o)()&&(F=S.c[F]||F);var L,z,B=e.integrations[F],q=B&&F&&!("cloudfront"===F)?a.a.createElement(g.c,{header:a.a.createElement(g.a,{header:a.a.createElement(l.a,{id:"trigger.create.header.title",values:{trigger:B.getDisplayName()}})},a.a.createElement(o.Button,{onClick:function(){return e.updateTrigger(Object(s.fromJS)({data:{id:""}}))}},a.a.createElement(l.a,{id:"remove"})))},Object(S.o)()?a.a.createElement(_.a,{relation:new i.Relation({type:"trigger",target:T.i.fromFunctionName("myFunctionName").arn,data:JSON.stringify({sourceType:F,targetType:"aws/lambda"})})}):a.a.createElement(j.a,{type:"trigger",source:f.getIn(["data","identifier"]),target:T.i.fromFunctionName(n).arn,data:f.get("data"),persistedState:f.get("persistedState"),validation:f.get("validation"),focus:"lambda",sourceDefinition:B,targetDefinition:e.lambdaNode,onChange:e.updateTrigger})):null,U=R&&a.a.createElement(g.e,{header:a.a.createElement(l.a,{id:"functionURL"}),description:a.a.createElement(l.a,{id:"configureBlueprint.functionUrl.formSection.description"})},a.a.createElement(p.default,null,a.a.createElement(u.a,{id:"configureBlueprint.functionUrl.alert"})),a.a.createElement(E.FormField,{id:"functionUrlAcknowledge",stretch:!0},a.a.createElement(E.FormCheckbox,{description:a.a.createElement(l.a,{id:"configureBlueprint.functionUrl.checkbox.content"})},a.a.createElement(l.a,{id:"configureBlueprint.functionUrl.checkbox.label"})))),W=R&&a.a.createElement("div",null,a.a.createElement(m.default,{variant:"h1"},a.a.createElement(l.a,{id:"configureBlueprint.functionUrl.header"})),a.a.createElement(m.default,{variant:"h5",color:"text-body-secondary",margin:{bottom:"m"}},a.a.createElement(l.a,{id:"configureBlueprint.functionUrl.description"}))),V={name:function(t){return e.existingFunctionNames.includes(t)?[{message:N.intl.formatMessage({id:"error.frontend.create.existingFunction"})}]:null}},H=a.a.createElement("div",null,a.a.createElement(l.a,{id:"create.configureFunction.basics.title"}),a.a.createElement(w.a,{path:"configureBlueprint.helpContent"})),G=[{key:a.a.createElement(l.a,{id:"configureBlueprint.runtime.field.label"}),value:Object(P.r)(d)}];return Object(D.c)().length>1&&G.push({key:a.a.createElement(l.a,{id:"functions.grid.architecture"}),value:D.a.x86}),a.a.createElement(v.a,{id:"configureBlueprint",breadcrumbs:(L=e.blueprintName,z=N.intl.formatMessage({id:"authorFromScratch"}),L&&(z=N.intl.formatMessage({id:"create.breadcrumbsTitleWithBlueprint"},{blueprint:L})),{items:[{text:N.intl.formatMessage({id:"functions.title"}),href:"#/functions"},{text:N.intl.formatMessage({id:"create.title"}),href:"#/create/function"},{text:z,href:"#/create/function/configure/blueprint?blueprint=".concat(L)}]}),tag:e.tag},W,M,a.a.createElement(O.b,{id:"configureBlueprint",actionsProvider:function(t){return a.a.createElement("div",null,a.a.createElement(o.Button,{variant:"link",href:"#/create/function","data-analytics":C.WorkflowTags.cancel},a.a.createElement(l.a,{id:"cancel"})),a.a.createElement(o.Button,{variant:"primary",onClick:t,loading:e.creating,"data-analytics":C.WorkflowTags.create},a.a.createElement(l.a,{id:"wizard.button.done"})))},onSubmit:e.createFunction,schema:x.a,customValidators:V},a.a.createElement(g.e,{header:H},a.a.createElement(E.FormField,{id:"name",fieldTextProps:["label"],rawOnChange:function(t){return e.setFunctionName(t.detail.value)}},a.a.createElement(E.FormInput,{placeholder:"myFunctionName"})),a.a.createElement(k.a,{formId:"configureBlueprint",functionNameField:"name",showBasic:!0})),q,U,e.blueprint&&a.a.createElement(g.e,{header:a.a.createElement(l.a,{id:"create.configureFunction.code.title"}),description:a.a.createElement(u.a,{id:"create.configureFunction.new.code.runtime.text",values:{docPage:Object(P.j)("deploymentPackage",d)}})},a.a.createElement(h.b,{scope:"containsLibraries"}),a.a.createElement(g.f,{flat:!0,items:G,columns:G.length}),a.a.createElement("div",null,a.a.createElement(b.a,{id:"editor",readOnly:!0,mode:Object(P.k)(d),value:e.blueprintCode}))),(null===(t=e.blueprint)||void 0===t?void 0:t.config.config.lambda.Environment)&&a.a.createElement(y.a,{formId:"configureBlueprint",functionName:n,runtime:d})))}t.default=Object(I.tagContextHoc)(Object(d.connect)(f.f,f.e)(A),!0)},2453:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(846),o=n(211),c=n(1986),s=n(1982),l=n(38),u=n(552),d=n(101),f=function(){var t=Object(l.A)(["ideCdn"]),n=t,r="".concat(t,"/index.html");return n.startsWith("/")&&(n=e.location.origin.replace("9443","7000"),r="".concat(n,"/static/@amzn/lambda-console-ide/static/local.html")),[r,n.split("/").slice(0,3).join("/")]};t.a=Object(o.connect)((function(e){return{fullscreen:!!Object(s.b)(e).query.fullscreen}}),(function(e){return{setFullscreen:function(t){return e(Object(c.c)({query:{fullscreen:t?"true":void 0}},{persistQuery:!0}))}}}))((function(e){return a.a.createElement(i.Cloud9Lite,{adapter:e.adapter,adapterProps:e.adapterProps,dark:Object(l.X)(),defaultFile:e.defaultFile,features:Object(l.F)(),fullscreen:e.fullscreen,hash:e.hash,projectId:e.projectId,projectName:e.projectName,readonly:e.readonly,userId:Object(l.P)(),getIframeLocation:f,metrics:d,onReady:e.onReady,registerApis:e.registerApis,setFullscreen:e.setFullscreen,encryptionSchemes:{"1/KMS":{decrypt:function(e){return u.a.decryptIdeReadKey({readKey:e}).then((function(e){return e.body.readKey}))},encrypt:function(e){return u.a.encryptIdeWriteKey({writeKey:e}).then((function(e){return e.body.writeKey}))}}},defaultEncryptionScheme:Object(l.S)("kathlemias")?"1/KMS":"0/ECHO"})}))}).call(this,n(32))},2454:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(551),o=n(219),c=n(211),s=n(2036),l=n(1995),u=n(100),d=n(38),f=n(1994),p=n(2094),m=n.n(p),h=n(1977),g=n(101),v=n(1955),b=n(1980);n(2154);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=Object(c.connect)(null,{toggleSidebar:f.q})((function(e){return a.a.createElement("a",{onClick:function(){return e.toggleSidebar(!0)},href:"#/stepfunctions/statemachine/".concat(e.item.get("name")),"data-analytics":g.WorkflowTags.details},e.item.get("name"))})),T=[{id:"stateMachineName",header:function(){return a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.name"})},cell:function(e){return a.a.createElement(k,{item:e})}},{id:"stateMachineType",header:function(){return a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.type"})},cell:function(e){return"STANDARD"===e.get("type")?"Standard":"Express"}},{id:"stateMachineCreated",header:function(){return a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.created"})},cell:function(e){return a.a.createElement(l.a,{value:e.get("creationDate")})}}],C=[{id:"stateMachineName",comparator:function(e,t){var n=t.get("name"),r=e.get("name");return r<n?-1:r>n?1:0}},{id:"stateMachineType",comparator:function(e,t){var n=t.get("type"),r=e.get("type");return r<n?-1:r>n?1:0}},{id:"stateMachineCreated",comparator:function(e,t){return t.get("creationDate")-e.get("creationDate")}}],P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(s,e);var t,n,r,c=w(s);function s(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=c.call(this,e),n=j(t),a=function(e,n){return g.panorama.logWorkflowEvent({tagPath:t.props.nextTag(g.WorkflowTags.search),eventDetail:n}),-1!==e.get("type").toUpperCase().indexOf(n.toUpperCase())||-1!==e.get("name").toUpperCase().indexOf(n.toUpperCase())},(r="filteringFunction")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={},t}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.sfnLoading,n=e.tag,r=e.qualifiedFunctionName,c=this.props.stateMachines.toArray(),s="/states/home?region=".concat(Object(d.L)(),"#/statemachines/create");r&&(s+="?lambdaName=".concat(r));var l=a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row"},a.a.createElement("div",{className:"col-7"},a.a.createElement("div",{className:"sfn-header-container awsui-util-mt-s"},a.a.createElement(m.a,{className:"sfn-header-container__sfn-icon"}),a.a.createElement("span",{className:"awsui-util-pl-s"},a.a.createElement("h2",null,a.a.createElement("div",null,a.a.createElement(o.a,{tagName:"span",id:"stepfunctions.statemachinestable.header.title"})," ",t?null:a.a.createElement("span",{className:"awsui-util-header-counter"},"(",c.length,")"),a.a.createElement("span",{"data-analytics":g.WorkflowTags.info},a.a.createElement(h.a,{path:r?"designer.pane.stepFunctions.table.helpContent":"stepFunctions.helpContent"}))),a.a.createElement("div",{className:"sfn-header-container-description"},a.a.createElement(o.a,{id:r?"stepfunctions.lambdadetail.statemachinestable.header.desc":"stepfunctions.statemachinestable.header.desc"})))))),a.a.createElement("div",{className:"col-5 awsui-util-t-r"},a.a.createElement(i.Button,{icon:"refresh",loading:t,onClick:this.props.refresh}),a.a.createElement(i.Button,{icon:"external",href:s,target:"_blank",iconAlign:"right","data-analytics":g.WorkflowTags.create},a.a.createElement(o.a,{id:"stepfunctions.linktosfnconsole.title"}))))),f=a.a.createElement("div",{className:"awsui-util-t-c awsui-util-mv-m"},a.a.createElement("div",null,a.a.createElement("strong",null,a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.empty.line1"}))),a.a.createElement("div",{className:"awsui-util-mt-m"},a.a.createElement(o.a,{id:r?"stepfunctions.lambdadetail.statemachinestable.empty.line2":"stepfunctions.statemachinestable.empty.line2"})," ",r?a.a.createElement("div",{className:"awsui-util-mt-m"},a.a.createElement(i.Button,{icon:"external",href:s,target:"_blank",iconAlign:"right","data-analytics":g.WorkflowTags.create},a.a.createElement(o.a,{id:"stepfunctions.linktosfnconsole.title"}))):a.a.createElement(b.d,{href:"/states/home?region=".concat(Object(d.L)(),"#/sampleProjects?helloLambda"),tag:g.WorkflowTags.getStarted},a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.empty.getStarted"})))),p=a.a.createElement(o.a,{id:"stepfunctions.statemachinestable.loading"}),v=t?p:f;return a.a.createElement(i.Table,{columnDefinitions:T,empty:v,items:c,header:l,features:["filtering","pagination","sorting"],"data-analytics":n},a.a.createElement(i.TableFiltering,{filteringFunction:this.filteringFunction,filteringPlaceholder:u.intl.formatMessage({id:"stepfunctions.statemachinestable.placeholderSearch"})}),a.a.createElement(i.TablePagination,null),a.a.createElement(i.TableSorting,{sortableColumns:C}))}}])&&E(t.prototype,n),r&&E(t,r),s}(a.a.Component);t.a=Object(v.tagContextHoc)(Object(c.connect)((function(e,t){var n=Object(s.g)(e);return null!=t&&t.qualifiedFunctionName&&(n=n.filter((function(e){var n;return null===(n=e.get("lambdaStates"))||void 0===n?void 0:n.includes(t.qualifiedFunctionName)}))),{stateMachines:n,sfnLoading:Object(s.e)(e)}}),(function(e,t){var n=t.nextTag;return{refresh:function(){return e(Object(s.l)(n))}}}))(P))},2455:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(551),o=n(92),c=n(219),s=n(211),l=n(2456),u=n(2457),d=n(1975),f=n(1984),p=n(1971),m=n(412),h=n(1988),g=n(38),v=n(101),b=n(100),y=n(1973),E=n(1970),O=n(2458),w=n(2200),S=n(1955);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,R=function(e){var t=e.message;return a.a.createElement("div",{className:"placeholder-card"},a.a.createElement("div",{className:"awsui-util-d-ib awsui-util-ml-s"},a.a.createElement(c.a,{id:t})))},M=function(){var e=Object(o.Map)({id:"loadingPlaceholder",type:"placeholder",name:"",icon:function(){return a.a.createElement("div",null)}});return a.a.createElement(l.a,{node:e,selectNode:function(){},visualOnly:!0},a.a.createElement("div",{className:"gleam loading"}))},F=function(e){var t=e.focus,n=e.nodes,r=e.onChangeFunction,o=n.filter((function(e){return"function"===e.get("type")&&e.get("id")!==t})).map((function(e){return{id:e.get("id"),label:e.get("name")}})).toJS();return o.length?a.a.createElement("div",null,a.a.createElement(c.a,{tagName:"small",id:"designer.relatedFunctions.label"}),a.a.createElement("div",{className:"function-select"},a.a.createElement(i.Select,{filteringType:"auto",filteringPlaceholder:b.intl.formatMessage({id:"designer.relatedFunctions.filter"}),options:o,className:"designer-dropdown",placeholder:b.intl.formatMessage({id:"designer.relatedFunctions.placeholder"}),onChange:r}))):null},L=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(f,t);var n,r,s,d=P(f);function f(){var t;k(this,f);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return D(N(t=d.call.apply(d,[this].concat(r))),"canvas",void 0),D(N(t),"designer",void 0),D(N(t),"scroller",void 0),D(N(t),"selectNode",(function(n){var r=t.props.nodes.filter((function(e){return Object(p.e)(e,n)}));t.props.onClickNodes(r);var a=t.designer.getBoundingClientRect().bottom,i=e.innerHeight,o=t.canvas.scrollTop;a>i-100&&(t.scroller.style.bottom="".concat(Math.max(a-i+60,28)-o,"px"),Array.from(t.scroller.children).forEach((function(e,t){return setTimeout((function(){e.style.opacity=1,setTimeout((function(){e.style.opacity=0}),500)}),150*t)})))})),t}return n=f,(r=[{key:"componentDidMount",value:function(){this.props.expanded&&this.props.runGraphTasks()}},{key:"componentDidUpdate",value:function(e){var t=e.expanded,n=e.focus,r=this.props,a=r.expanded,i=r.focus,o=r.runGraphTasks;!a||t&&n===i||o()}},{key:"onChangeFunction",value:function(e){var t=this.props.nodes.filter((function(t){return t.get("name")===e.detail.selectedOption.label})).getIn([0,"id"]);this.props.changeFunction(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.expandable,r=t.focus,s=t.id,d=t.lambdaIcon,f=t.leftNodes,h=t.loading,E=t.navigateToAddDestination,S=t.nodes,j=t.readonly,_=t.rightNodes,k=S.filter((function(e,t,n){return n.findIndex((function(t){return Object(p.e)(t,e)}))===t})),T=S.find((function(e){return e.get("id")===r}))||Object(o.Map)({id:r,type:"function",name:r?new g.i(r).friendlyName:b.intl.formatMessage({id:"function"}),icon:d||function(){return a.a.createElement("div",null)}}),C=null;if(r&&null!=S&&S.size){var P,x=S.find((function(e){return"layer"===e.get("id")})),N=new g.i(r).qualifier,I=Object(g.K)(N)===y.H.ALIAS;x&&x.get("packageType")!==y.D.IMAGE&&!I&&(C=a.a.createElement(l.a,{key:"layer",node:x,count:(null===(P=T.getIn(["data","layers"]))||void 0===P?void 0:P.size)||0,selectNode:function(t){e.selectNode(t),e.props.changeTab(y.N.CODE),Object(p.D)(y.J.LAYERS)},tag:v.WorkflowTags.layers}))}var D=a.a.createElement("div",null);j||(D=a.a.createElement(i.Button,{id:"add-trigger",icon:"add-plus",href:"#/add/relation?type=trigger&targetType=lambda&target=".concat(r),onClick:function(){Object(v.logEvent)(v.EVENT_NAMES.TRIGGER_ADD)},"data-analytics":v.WorkflowTags.addTrigger},a.a.createElement(c.a,{id:"trigger.create.title"})));var A=j?a.a.createElement("div",null):a.a.createElement("div",null,a.a.createElement(R,{message:"designer.placeholder.".concat(_.type)}));if(!j&&r&&Object(g.S)("starfish")){var L=new g.i(r),z=L.functionName,B=L.qualifier;A=a.a.createElement(i.Button,{className:"awsui-util-f-r",id:"add-destination",icon:"add-plus",onClick:function(){E(z,B),Object(v.logEvent)(v.EVENT_NAMES.DESTINATION_ADD)}},a.a.createElement(c.a,{id:"destination.create.title"}))}var q=a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row awsui-util-no-gutters"},a.a.createElement("div",{className:"col-4"}),a.a.createElement("div",{className:"col-4 function-and-layer"},a.a.createElement(l.a,{key:r,visualOnly:!0,node:T,selectNode:this.selectNode.bind(this)}),C),a.a.createElement("div",{className:"col-4"},a.a.createElement(F,{nodes:S,focus:r,onChangeFunction:this.onChangeFunction.bind(this)}))),a.a.createElement("div",{className:"awsui-row awsui-util-no-gutters"},a.a.createElement("div",{className:"col-6 left-column","data-analytics":f.tag},a.a.createElement(m.a,{cond:f.loading,placeholder:a.a.createElement(M,null)},k.filter((function(e){return e.get("type")===f.type})).map((function(t){return a.a.createElement(l.a,{key:t.get("id"),node:t,count:S.filter((function(e){return Object(p.e)(e,t)})).size,selectNode:e.selectNode.bind(e)})})),D)),a.a.createElement("div",{className:"col-6 right-column","data-analytics":_.tag},a.a.createElement(m.a,{cond:_.loading,placeholder:a.a.createElement(M,null)},k.filter((function(e){return e.get("type")===_.type})).map((function(t){return a.a.createElement(l.a,{key:t.get("id"),node:t,count:S.filter((function(e){return Object(p.e)(e,t)})).size,selectNode:e.selectNode.bind(e)})})),A))),a.a.createElement("div",{className:"scroller",ref:function(t){e.scroller=t}},a.a.createElement(i.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"}),a.a.createElement(i.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"}),a.a.createElement(i.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"})));return a.a.createElement(u.a,{id:s,expandable:n,expandedInitially:this.props.expanded,onExpandChange:this.props.setVizExpanded,setUserPreference:this.props.setUserPreference,infoPath:"functionDesigner.helpContent",tag:this.props.tag,tagType:this.props.tagType},a.a.createElement("div",{id:"app-designer",ref:function(t){e.designer=t}},a.a.createElement("section",{className:"canvas",ref:function(t){e.canvas=t}},a.a.createElement(m.a,{cond:h},a.a.createElement(w.a,{gridDefinition:[{colspan:8},{colspan:4}],disableGutters:!0},a.a.createElement("div",{className:"designer-viz-container"},q),a.a.createElement("div",{className:"designer-info-container"},a.a.createElement(O.a,null)))))))}}])&&T(n.prototype,r),s&&T(n,s),f}(a.a.Component),z=["cloudformationParser"].concat(function(e){if(Array.isArray(e))return _(e)}(A=Object(g.S)("starfish")?["destinationParser"]:["executionRoleParser"])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(A)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["functionParser","integrationConfigSource","layerParser","relationParser"]);t.a=Object(S.tagContextHoc)(Object(s.connect)((function(e){return{lambdaIcon:h.c.getLambdaIcon(e),expanded:Object(E.ib)(e)}}),(function(e){return{changeFunction:function(t){return e(Object(f.g)(t))},navigateToAddDestination:function(t,n){e(Object(d.J)(!0)),e(Object(f.f)(t,n,"destination",null,!0))},setVizExpanded:function(t){e(Object(d.P)(t))},runGraphTasks:function(){return e(Object(d.B)(z))}}}))(L))}).call(this,n(32))},2456:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(413),o=n.n(i),c=n(219);t.a=function(e){var t=e.node,n=e.selectNode,r=e.children,i=e.count,s=e.visualOnly,l=e.tag,u=null,d=t.get("type");"function"!==d&&(i>1||"layer"===d)&&(u=a.a.createElement(c.a,{id:"wrapper",values:{value:i.toString()}}));var f=["awsui-util-container","awsui-util-mb-s","awsui-util-no-gutters","designer-card-container",d];s&&f.push("visual-only");var p=t.get("icon"),m="string"==typeof p?a.a.createElement("img",{src:p,alt:"icon"}):a.a.createElement(p,null);return a.a.createElement("div",{className:o()(f),onClick:function(){return n(t)},"data-analytics":l},a.a.createElement("div",null,a.a.createElement("div",{className:"service-icon-container"},m),a.a.createElement("div",{className:"node-details awsui-util-d-ib awsui-util-ph-s"},a.a.createElement("h3",{className:"awsui-util-pt-n"},t.get("name"))),u),r)}},2457:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),i=n(219),o=n(551),c=n(1977),s=n(101);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,l=f(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),g(m(t=l.call(this,e)),"setExpanded",(function(e){return t.setState({expanded:e})})),g(m(t),"onSectionChange",(function(e){Object(s.logEvent)("cfg_".concat(t.props.id,"_").concat(e.detail.expanded?"expand":"collapse")),t.setExpanded(e.detail.expanded),t.props.setUserPreference({appDesignerExpand:t.state.expanded}),"function"==typeof t.props.onExpandChange&&t.props.onExpandChange(e.detail.expanded)})),t.state={expanded:e.expandedInitially||!1},t}return t=p,(n=[{key:"componentDidUpdate",value:function(e){this.props.expandedInitially!==e.expandedInitially&&this.setExpanded(this.props.expandedInitially)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,r=e.expandable,s=e.infoPath,l=e.tag,u=e.tagType,d=a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{id:"functionDetail.sections.".concat(t,".title")}),s&&a.a.createElement(c.a,{path:s}));return a.a.createElement(o.FormSection,{id:"".concat(t,"Section"),header:d,expandable:null==r||r,expanded:this.state.expanded,onChange:this.onSectionChange.bind(this),"data-analytics":l,"data-analytics-type":u},n)}}])&&u(t.prototype,n),r&&u(t,r),p}(a.a.Component)},2458:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(92),o=n(219),c=n(568),s=n(211),l=n(2022),u=n(1969),d=n(1995),f=n(2256),p=n(1970),m=n(38),h=n(1971),g=n(1977),v=n(2257);t.a=Object(h.F)(["functionParser","cloudformationStackSource","provisionedConcurrencyConfigsParser","functionUrlSource"])(Object(s.connect)((function(e){return{functionLoading:!Object(p.a)(e,"overview"),functionArn:Object(p.p)(e),functionNode:Object(p.L)(e,Object(p.p)(e)),stackNode:Object(p.eb)(e,"cloudformationStackSource"),qualifiers:Object(p.T)(e)||Object(i.Map)(),provisionedConcurrencyConfigs:Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(i.Map)(),metadata:Object(p.y)(e)}}),null)((function(e){var t,n=e.functionLoading,r=e.functionArn,i=e.functionNode,h=e.provisionedConcurrencyConfigs,b=e.qualifiers,y=e.stackNode,E=e.metadata,O=function(){var e,t=Object(s.useSelector)((function(e){return Object(p.lb)(e,"functionUrlSource")})),n=t.result,r=t.loading,i=t.error;if(!Object(m.S)("ganondorf")||i)return null;var c=a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{id:"functionURL"}),a.a.createElement(g.a,{path:"functionOverview.url.helpContent"}));if(r)return{key:c,value:a.a.createElement(o.a,{id:"fetching"})};var l=null==n||null===(e=n.toJS())||void 0===e?void 0:e.functionUrl;return{key:c,value:l?a.a.createElement(v.a,{href:l}):"-"}}();if(n)return a.a.createElement(u.g,{columns:1,itemCount:+Object(m.S)("ganondorf")+3});var w=new m.i(r),S=w.functionName,j=w.qualifier,_=Object(m.K)(j),k=null===(t=b.getIn(["aliases",j]))||void 0===t?void 0:t.toJS(),T={key:a.a.createElement(o.a,{id:"functionDesigner.section.generalConfiguration.functionARN.label"}),value:a.a.createElement(l.a,{value:r})};if(!i)return a.a.createElement(u.f,{flat:!0,columns:1,items:[T]});var C=i.get("data"),P=[];if(j&&"alias"===_&&k){var x,N,I,D,A="IN_PROGRESS"===(null===(x=h.get("aliases"))||void 0===x||null===(N=x.find((function(e){return e.get("qualifier")===k})))||void 0===N?void 0:N.get("status")),R=!(null==k||null===(I=k.additionalVersionWeight)||void 0===I||!I.version);P.push({key:a.a.createElement(o.a,{id:"functionDesigner.section.generalConfiguration.description.label"}),value:k.description||"-"},{key:a.a.createElement(o.a,{id:"functionDetail.aliasConfig.version.label"}),value:a.a.createElement(f.a,{functionName:S,version:k.version,weight:100-((null===(D=k.additionalVersionWeight)||void 0===D?void 0:D.weight)||0),hasAdditionalVersion:R,isInProgress:A})}),R&&P.push({key:a.a.createElement(o.a,{id:"functionDetail.aliasConfig.additionalVersion.label"}),value:a.a.createElement(f.a,{functionName:S,version:k.additionalVersionWeight.version,weight:k.additionalVersionWeight.weight,hasAdditionalVersion:R,isInProgress:A})}),P.push(T)}else{P.push({key:a.a.createElement(o.a,{id:"functionDesigner.section.generalConfiguration.description.label"}),value:C.get("description")||"-"},{key:a.a.createElement(o.a,{id:"functionDesigner.section.generalConfiguration.lastModified.label"}),value:a.a.createElement(d.a,{value:C.get("lastModified")||new Date})},T);var M=null==y?void 0:y.get("stackArn");if(M){var F=null==y?void 0:y.get("stackName");P.push({key:a.a.createElement(o.a,{id:"functionDesigner.section.generalConfiguration.application.label"}),value:a.a.createElement(c.a,{id:"functionDesigner.section.generalConfiguration.".concat(Object(m.S)("huesillo")?"application":"stack",".value"),values:{stackArn:M,stackName:F}})})}}var L=E.masterArn;return L&&P.push({key:a.a.createElement(o.a,{id:"masterARN"}),value:a.a.createElement(l.a,{value:L})}),O&&"version"!==_&&!L&&P.push(O),a.a.createElement(u.f,{flat:!0,columns:1,items:P})})))},2459:function(e,t,n){"use strict";n.r(t),n.d(t,"ListReplicasPage",(function(){return y}));var r=n(0),a=n.n(r),i=n(219),o=n(1979),c=n(2073),s=n(1985),l=n(1995),u=n(100),d=n(552),f=n(1981);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var v=function(e){return a.a.createElement("a",{href:"#/functions/".concat(e.functionArn)},e.replicaName)},b=[Object(c.b)({id:"replicaName",label:u.intl.formatMessage({id:"functions.grid.functionName"}),content:v,isCardsHeader:!0,filterable:!0,operators:[":","!:","=","!="],table:{sortingField:"replicaName"}}),Object(c.b)({id:"description",label:u.intl.formatMessage({id:"functions.grid.description"}),content:function(e){return e.description}}),Object(c.b)({id:"runtime",label:u.intl.formatMessage({id:"functions.grid.runtime"}),content:function(e){return e.runtime},filterable:!0,operators:[":","!:","=","!="],table:{sortingField:"runtime"}}),Object(c.b)({id:"lastModified",label:u.intl.formatMessage({id:"functions.grid.lastModified"}),content:function(e){return a.a.createElement(l.a,{value:e.lastModified})},table:{sortingField:"lastModified"}})],y=function(){return a.a.createElement(s.a,{id:"listReplicas",breadcrumbs:{items:[{text:u.intl.formatMessage({id:"replicas.title"}),href:"#/replicas"}]}},a.a.createElement(o.b,{scope:"listReplicas"}),a.a.createElement(c.a,{id:"replicas",trackBy:"replicaName",i18nStrings:{filteringPlaceholder:u.intl.formatMessage({id:"replicas.resourceList.filteringPlaceholder"}),loadingText:u.intl.formatMessage({id:"replicas.resourceList.loadingText"}),preferencesPageSizeOptionLabel:function(e){return u.intl.formatMessage({id:"replicas.resourceList.preferencesPageSizeOptionLabel"},{pageSize:e})},groupTitle:function(){return u.intl.formatMessage({id:"replicas.resourceList.groupTitle.default"})}},headerProps:{children:a.a.createElement(i.a,{id:"replicas.title"})},defaultPreferences:{pageSize:10,wrapLines:!0,visibleContent:["replicaName","description","runtime","lastModified"],custom:{type:"table"}},definition:{cardsHeader:v,properties:b},fetchAllItems:!0,fetchItems:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.listFunctions({masterRegion:"ALL",functionVersion:"ALL",marker:t.nextToken});case 2:return n=e.sent,r=n.body,a=r.functions.map((function(e){return m(m({},e),{},{replicaName:"".concat(e.functionName,":").concat(e.version),runtime:"Zip"===e.packageType?Object(f.r)(e.runtime)||e.runtime:"-"})})),e.abrupt("return",{items:a,nextToken:r.nextMarker});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,c,"next",e)}function c(e){g(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),empty:a.a.createElement(i.a,{id:"functions.grid.noData"}),persistPreferencesToBrowserStorage:!0,persistStateToUrl:!0}))};t.default=y},252:function(e,t,n){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"===n(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"===n(e)&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===n(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(141).Buffer)},2752:function(e,t,n){"use strict";n.r(t),n.d(t,"TAB_IDS",(function(){return js})),n.d(t,"getQualifierEventName",(function(){return ks})),n.d(t,"mapState",(function(){return Ts})),n.d(t,"mapDispatch",(function(){return Cs})),n.d(t,"FunctionDesignerTabs",(function(){return Ps})),n.d(t,"FunctionDesignerPageContainer",(function(){return xs}));var r=n(0),a=n.n(r),i=n(551),o=n(568),c=n(211),s=n(57),l=n(450),u=n(1986),d=n(1971),f=n(1975),p=n(219),m=n(2081),h=n(1973),g=n(1984),v=n(1970),b=n(1985),y=n(101),E=["tab"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _,k=Object(c.connect)((function(e){return{isSavingEdit:Object(v.I)(e),tab:Object(v.f)(e)}}),(function(e,t){var n=t.editPage,r=t.functionName,a=t.qualifier;return{cancel:function(t){Object(y.logEvent)(y.EVENT_NAMES.EDIT_PAGE_CANCEL(n)),Object(d.y)(r,a,"editPage","cancel");var i="alias"===n&&t===h.N.ALIASES;e(Object(g.e)(r,i?null:a,{tab:t}))},save:function(t){e(Object(f.F)(r,a,n,t))}}}),(function(e,t,n){var r=e.tab,a=j(e,E);return w(w(w(w({},n),a),t),{},{cancel:function(){return t.cancel(r)}})}))((function(e){var t,n=e.breadcrumbs,r=e.isCreate,o=e.functionName,c=e.qualifier,l=e.editPage,u=e.tag,f=e.tagType,h=e.isSavingEdit,g=e.cancel,v=e.save,E=Object(d.j)(l),O=null!==(t=m[E])&&void 0!==t?t:{},w=O.component,S=O.tag;if(!w)return a.a.createElement(s.Redirect,{to:"/functions"});var j={id:E,header:a.a.createElement(p.a,{tagName:"h1",id:"".concat(E,r?"Create.header":".header")}),actionsProvider:function(e){return a.a.createElement("div",null,a.a.createElement(i.Button,{variant:"link",onClick:g,disabled:h,"data-analytics":y.WorkflowTags.cancel},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",onClick:e,loading:h,"data-analytics":y.WorkflowTags.save},a.a.createElement(p.a,{id:"save"})))},onSubmit:v,schema:m[E].schema};return a.a.createElement(b.a,{id:"functionDesigner",breadcrumbs:n,tag:u,tagType:f},a.a.createElement(w,{formProps:j,functionName:o,qualifier:c,tag:S}))})),T=n(412),C=n(846),P=n(227),x=n.n(P),N=n(1996),I=n(2240),D=n(2005),A=n(2035),R=n(1979),M=n(1978),F=n(2211),L=n(257),z=n(558),B=n(837),q=n(297),U=n(2453),W=n(38),V=n(552),H=n(1981),G=n(100),Z=n(448),J=n(1955),K=["rootFunctionName","currTab"];function Q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){X(i,r,a,o,c,"next",e)}function c(e){X(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re,ae=function(e,t,n,r,a,i,o,c,s,l,u){var d=e.toJS();t?d={error:!0,message:G.intl.formatMessage({id:"executionResults.invokeFailureMessage.title"},{message:t})}:d.logs||(d=void 0);var f,p,m=Object(W.S)("mandarinquat2")?null==u?void 0:u.toJS():null==r?void 0:r.toJS(),h=Object(W.S)("mandarinquat1")?Object(A.b)({savedEvents:m,dirtyEventCode:c,savedEventId:s,isCreate:l,selectedTestEventName:n}):null==r?void 0:r.toJS();f={executionResults:d,selectedTestEventName:n,testEvents:null==h?void 0:h.map((function(e){return{testEventName:e.value,group:e.group}})),testing:a,lastRunEventId:i,isExecutingStaleCode:o},null===(p=re)||void 0===p||p.emit("lambda.test","sync",f)},ie=Object(l.default)(ae),oe=Object(c.connect)((function(e,t){var n=Object(W.S)("mandarinquat1")?{dirtyEventCode:D.c.getDirtyEventCode(e),savedEventId:D.c.getEventModalState(e,"savedEventId"),isCreate:D.c.getEventModalState(e,"configurationOption")===h.P.CONFIGURATION_OPTION_CREATE}:{},r=Object(W.S)("mandarinquat2")?{allSavedTestEvents:D.c.getAllSavedEvents(e)}:{};return te(te({hash:Object(v.N)(e,t.nodeId,"codeSha256"),projectId:Object(Z.c)(t.nodeId),projectName:Object(v.N)(e,t.nodeId,"name"),executionResults:D.c.getExecutionResults(e),invokeFailureMessage:D.c.getInvokeFailureMessage(e),selectedTestEventName:D.c.getEventIdToInvoke(e),testEvents:D.c.getSavedEvents(e),testing:D.c.getIsInvoking(e),lastRunEventId:D.c.getLastRunEventId(e),isExecutingStaleCode:D.c.getLastInvokeFuncPending(e)},n),r)}),(function(e){return{configure:function(){return e(D.a.toggleEventModal(!0))},save:function(t,n,r){return e(Object(f.C)(t,n,r))},saveRemote:function(t,n,r,a){return e(Object(f.E)(t,n,r,a))},selectTestEvent:function(t){return e(D.a.setEventIdToInvoke(t))},test:function(){return e(D.a.test())},testWithDraft:function(){return e(D.a.testWithDraft())},testWithSharedEvents:function(){return e(D.a.testWithSharedEvents())}}}),(function(e,t,n){var r,a,i=e.executionResults,o=e.invokeFailureMessage,c=e.selectedTestEventName,s=e.testEvents,l=e.testing,u=e.dirtyEventCode,d=e.savedEventId,f=e.isCreate,p=e.lastRunEventId,m=e.isExecutingStaleCode,h=e.allSavedTestEvents;return re&&ie(i,o,c,s,l,p,m,Object(W.S)("mandarinquat1")?u:void 0,Object(W.S)("mandarinquat1")?d:void 0,Object(W.S)("mandarinquat1")?f:void 0,Object(W.S)("mandarinquat2")?h:void 0),te(te(te(te({},n),e),t),{},{adapter:Object(W.S)("mangelfish")?C.RemoteZipAdapter:C.LocalZipAdapter,adapterProps:Object(W.S)("mangelfish")?{getRemoteRange:(a=$(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(n=t.low)&&void 0!==n?n:0,i=null!==(r=t.high)&&void 0!==r?r:-1,e.next=4,x.a.get(t.url,{headers:{Range:a<0?"bytes=".concat(a):"bytes=".concat(a,"-").concat(i<0?"":i)},responseType:"arraybuffer"});case 4:return o=e.sent,c=o.body,e.abrupt("return",new Uint8Array(c));case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),getUrl:(r=$(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.getFunction({functionName:e.projectId});case 2:return n=t.sent,r=n.body,a=r.code.location,i=Date.now()+1e3*(parseInt(new URL(a).searchParams.get("X-Amz-Expires"),10)-10),t.abrupt("return",{url:a,expires:i,zipSize:r.configuration.codeSize});case 7:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),save:function(e,n){return new Promise((function(r,a){return t.saveRemote(e,n,r,a)}))}}:{zip:n.unzipped,save:function(e){return new Promise((function(n,r){return t.save(e,n,r)}))}},onReady:function(e){re=e,ae(i,o,c,s,l,p,m,Object(W.S)("mandarinquat1")?u:void 0,Object(W.S)("mandarinquat1")?d:void 0,Object(W.S)("mandarinquat1")?f:void 0,Object(W.S)("mandarinquat2")?h:void 0)},registerApis:function(e){e.on("lambda.test",(function(e){"configure"===e?t.configure():"selectTestEvent"===e?t.selectTestEvent(arguments.length<=1?void 0:arguments[1]):"test"===e&&(Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD_INVOKE),Object(W.S)("mandarinquat2")?t.testWithSharedEvents():Object(W.S)("mandarinquat1")?t.testWithDraft():t.test(c))}))}})}))(U.a);var ce,se=Object(d.F)(["functionCodeSource","functionCodeParser"].concat(function(e){if(Array.isArray(e))return Y(e)}(ce=Object(W.S)("mandarinquat2")?["testingSharedSource"]:["testingSource"])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ce)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(ce)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))(Object(c.connect)((function(e,t){return te(te({},Object(v.lb)(e,"functionCodeSource")),{},{cloud9LiteKey:Object(v.N)(e,t.nodeId,"cloud9LiteKey"),unzipped:Object(v.N)(e,t.nodeId,"unzippedPackage")},t)}),null)((function(e){var t=e.cloud9LiteKey,n=e.nodeId,r=e.readonly,i=e.defaultFile,o=e.unzipped,c=e.loading,s=e.error;return c?a.a.createElement("div",{className:"ide-iframe-placeholder"},a.a.createElement(L.default,{size:"large"})):s?a.a.createElement(z.default,{type:"error"},s.message):o?a.a.createElement("div",{className:"code-section"},a.a.createElement(oe,{key:t,nodeId:n,readonly:r,defaultFile:i,unzipped:o})):null})));function le(e){var t=e.codeSource,n=e.isEditable,r=e.codeSigningConfigArn,a=e.hasSignedArtifact;return"inline"===t&&n&&!r&&!a}var ue=(ne(_={},"upload",y.WorkflowTags.zip),ne(_,"s3",y.WorkflowTags.s3),_);var de=Object(J.tagContextHoc)(Object(c.connect)((function(e,t){var n=Object(v.N)(e,t.nodeId,"runtime"),r=Object(v.N)(e,t.nodeId,"handler"),a=Object(v.N)(e,t.nodeId,"codeSize"),i=Object(v.N)(e,t.nodeId,"cloud9RawZip"),o=!Object(H.y)(a),c=Object(v.N)(e,t.nodeId,"signingProfileVersionArn"),s=Object(v.N)(e,t.nodeId,"signingJobArn");return{runtime:n,codeSource:Object(v.N)(e,t.nodeId,"codeSource"),functionName:Object(v.N)(e,t.nodeId,"name"),rootFunctionName:Object(d.B)(Object(v.N)(e,t.nodeId,"name")),currTab:Object(v.f)(e),trueQualifier:Object(v.S)(e),deploymentTooLarge:o,isEditable:Object(H.x)(n,a),hasDeprecatedRuntime:!!Object(v.m)(e,I.a),hasCustomRuntime:Object(H.v)(n),runtimeName:Object(H.r)(n),fileName:Object(H.l)(r,n),cloud9RawZip:i,hasSignedArtifact:!!c||!!s,codeSigningConfigArn:Object(v.eb)(e,"functionCodeSigningConfigArn")}}),(function(e){return{refreshRecEngine:function(){return e(Object(f.x)(["recommendationEngine"]))},setCodeSource:function(t){e(Object(M.g)("codeSourceModal")),e(Object(q.resetForm)("codeSource")),e(Object(q.setFieldValue)("codeSection","codeSource",t)),e(Object(B.setModalOpen)("codeSource",!0))},goToEditableCode:function(t,n){e(Object(g.f)(t,null,null,{tab:n}))}}}),(function(e,t,n){var r=e.rootFunctionName,a=e.currTab,i=Q(e,K);return te(te(te(te({},n),i),t),{},{goToEditableCode:function(){return t.goToEditableCode(r,a)}})}))(Object(d.F)(["urlParser","functionParser","functionCodeParser","functionCodeSigningConfigArn","recommendationEngine"])((function(e){var t,n,r,c,s=e.readonly,l=e.runtime,u=e.functionName,d=e.fileName,f=e.deploymentTooLarge,m=e.isEditable,h=e.hasCustomRuntime,g=e.hasDeprecatedRuntime,v=e.codeSigningConfigArn,b=e.hasSignedArtifact,E=e.trueQualifier,O=e.goToEditableCode,w=e.tag,S=e.tagType,j=e.nextTag,_=Object(H.h)(l),k=!d&&!h,T=!!b||!!v;if(s&&(k=!0,t=a.a.createElement(i.Alert,{className:"awsui-util-m-m awsui-util-mb-xl",buttonText:a.a.createElement(p.a,{id:"functionDesigner.section.code.alert.button.readonly.label"}),onButtonClick:O},a.a.createElement(o.a,{id:"functionDesigner.section.code.alert.readonly.label"}))),f&&(n=a.a.createElement(i.Alert,{className:"awsui-util-mb-l"},a.a.createElement(o.a,{id:"warning.frontend.functionDetail.largePackage",values:{functionName:u}}))),g&&(Object(y.logEvent)(y.EVENT_NAMES.DEPRECATED_RUNTIME_ALERT_APPEAR),r=a.a.createElement("div",{className:"awsui-util-mv-s","data-testid":"deprecated-runtime-alert"},a.a.createElement(i.Alert,{dismissible:!0,visible:!0,onDismiss:function(){return Object(y.logEvent)(y.EVENT_NAMES.DEPRECATED_RUNTIME_ALERT_DISMISS)}},a.a.createElement(p.a,{id:"recEngine.runtimeDeprecated.title",tagName:"b"}),a.a.createElement(o.a,{id:"recEngine.runtimeDeprecated.description",tagName:"p"})))),f||m||(c=a.a.createElement(i.Alert,{className:"awsui-util-mt-s"},a.a.createElement(p.a,{id:"functionDetail.sections.codeSection.inlineEditingDisabled",values:{runtimeName:e.runtimeName}}))),T){t=null,n=null,c=null;var C=E?"functionDetail.sections.codeSection.inlineEditingDisabled.codeSigning.qualifier":"functionDetail.sections.codeSection.inlineEditingDisabled.codeSigning";c=a.a.createElement(i.Alert,{className:"awsui-util-mt-s"},a.a.createElement(p.a,{id:b?"functionDetail.sections.codeSection.inlineEditingDisabled.signedArtifact":C}))}var P,x=[{id:"upload",text:G.intl.formatMessage({id:Object(H.t)(_)}),disabled:k},{id:"s3",text:G.intl.formatMessage({id:"functionDesigner.section.code.upload.type.s3"}),disabled:k}],I=a.a.createElement(i.ButtonDropdown,{items:x,onItemClick:function(t){var n=t.detail.id;e.setCodeSource(n);var r=ue[n];r&&y.panorama.logWorkflowEvent({tagPath:j([y.WorkflowTags.uploadSource,r])})},"data-analytics":y.WorkflowTags.uploadSource},a.a.createElement(p.a,{id:"functionDesigner.section.code.button.upload.label"}));if(le(e)){var D=d?"/".concat(d):void 0;P=a.a.createElement(se,{nodeId:e.nodeId,readonly:s,defaultFile:D})}else P=c;return a.a.createElement("div",{"data-analytics":w,"data-analytics-type":S},a.a.createElement(N.a,{id:"codeSource",helpMsgIdOverride:"code",showInfoLink:!0,readonly:s,actionsButton:I,primaryButton:null,noGutters:le(e)},t,n,r,a.a.createElement(R.b,{scope:"code-section",className:"awsui-util-m-m awsui-util-mb-xl"}),a.a.createElement(F.a,{nodeId:e.nodeId,readonly:s,isEditable:e.isEditable,cloud9RawZip:e.cloud9RawZip,tag:y.WorkflowTags.uploadModal}),P))})))),fe=n(414),pe=n(250),me=n(298),he=n(1969),ge=n(2033);var ve=Object(c.connect)((function(e){return{functionRuntimePolicy:Object(v.lb)(e,"functionRuntimePolicy")}}),(function(e){return{rollback:function(){return e(Object(f.A)())}}}))((function(e){var t,n=e.rollback,r=e.functionRuntimePolicy,i=r.loading,c=r.error;if(i)t=a.a.createElement(L.default,null);else if(c)t=a.a.createElement(z.default,{visible:!0,type:"error"},c.message);else{var s;t=(null===(s=r.result)||void 0===s?void 0:s.get("previousRuntimeVersion"))||"-"}var l=[{key:a.a.createElement("span",null,a.a.createElement(o.a,{id:"editRuntimePolicy.previousRuntime.version"})),value:t},{key:a.a.createElement("span",null,a.a.createElement(o.a,{id:"editRuntimePolicy.updateRuntime.version"})),value:a.a.createElement("span",null,a.a.createElement(o.a,{id:"editRuntimePolicy.".concat(ge.a.ON_FUNCTION_CHANGE,".label")}))}];return a.a.createElement(B.Modal,{id:"runtimePolicy",size:"medium",header:a.a.createElement(p.a,{id:"editRuntimePolicy.rollback.modal.header"}),footerProvider:function(e){var t=e.isLoading,r=e.close;return a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:r},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",loading:i||t,onClick:n},a.a.createElement(p.a,{id:"editRuntimePolicy.rollback.modal.save"}))))}},a.a.createElement(pe.default,{size:"s"},a.a.createElement(o.a,{id:"editRuntimePolicy.rollback.modal.body"}),a.a.createElement(he.f,{flat:!0,items:l,columns:1})))})),be=n(1977),ye=n(1990);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=Object(d.F)(["functionParser","functionRuntimePolicy"])(Object(c.connect)((function(e,t){var n,r,a,i=Object(v.L)(e,t.nodeId).get("data");return{runtime:null!==(n=i.get("runtime"))&&void 0!==n?n:null,handler:null!==(r=i.get("handler"))&&void 0!==r?r:null,architectures:(null===(a=i.get("architectures"))||void 0===a?void 0:a.toJS())||[ye.a.x86],functionName:Object(v.z)(e),qualifier:Object(v.S)(e),functionRuntimePolicy:Object(v.lb)(e,"functionRuntimePolicy"),isExpandedRuntimePolicy:Object(v.n)(e)}}),(function(e){return{openRuntimePolicyModal:function(){return e(Object(B.setModalOpen)("runtimePolicy",!0))},navigateToEditRuntimePolicy:function(t,n){Object(c.batch)((function(){e(Object(f.J)(!0)),e(Object(g.f)(t,n,"runtime-policy"))}))},setExpandableRuntimePolicy:function(t){e(Object(f.r)(t))}}}),(function(e,t,n){return Oe(Oe(Oe(Oe({},n),e),t),{},{navigateToEditRuntimePolicy:function(){return t.navigateToEditRuntimePolicy(e.functionName,e.qualifier)}})}))((function(e){var t,n=e.handler,r=e.runtime,o=e.readonly,c=e.architectures,s=e.nodeId,l=e.navigateToEditRuntimePolicy,u=e.openRuntimePolicyModal,f=e.functionRuntimePolicy,m=e.isExpandedRuntimePolicy,h=e.setExpandableRuntimePolicy,g=2,v=Object(H.h)(r),b=Object(ye.c)().length,y=[{key:a.a.createElement(p.a,{id:"create.configureFunction.runtime.label"}),value:Object(H.r)(r)||r},{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"config.handler.label"}),a.a.createElement(be.a,{path:Object(H.m)(v)})),value:n}];if(b>1&&(y.push({key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"config.code.image.architectures"}),a.a.createElement(be.a,{path:"architectures.helpContent"})),value:c.join(", ")||ye.a.x86}),g=3),Object(W.S)("nutella")){var E=f.error,O=f.loading,w=f.result;if(E)t=a.a.createElement(i.Alert,{type:"error"},E.message);else if(O)t=a.a.createElement(i.Spinner,null);else{var S,j=null!==(S=null==w?void 0:w.toJS())&&void 0!==S?S:{},_=j.updateRuntimeOn,k=j.runtimeVersion,T=j.previousRuntimeVersion,C=[{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"editRuntimePolicy.runtime.version"}),a.a.createElement(be.a,{path:"editRuntimePolicy.runtimeVersion.helpContent"})),value:k},{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"editRuntimePolicy.updateRuntime.version"}),a.a.createElement(be.a,{path:"editRuntimePolicy.helpContent"})),value:G.intl.formatMessage({id:"editRuntimePolicy.".concat(_,".label")})},{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"editRuntimePolicy.previousRuntime.version"})),value:T||"-"}];t=a.a.createElement(he.f,{flat:!0,borders:"none",items:C,columns:3})}}var P=a.a.createElement(i.Button,{onClick:l,key:"editRuntimePolicy"},a.a.createElement(p.a,{id:"editRuntimePolicy.editRuntimeVersion"})),x=a.a.createElement(i.Button,{onClick:u,key:"rollback"},a.a.createElement(p.a,{id:"editRuntimePolicy.rollback"})),I=Object(d.u)(s);return a.a.createElement(N.a,{id:"runtime",showInfoLink:!0,readonly:o,editPage:"runtime-settings",otherButtons:Object(W.S)("nutella")&&!I?[x,P]:null},a.a.createElement(pe.default,{size:"m"},a.a.createElement(he.f,{flat:!0,items:y,columns:g}),Object(W.S)("nutella")&&a.a.createElement(ve,null),Object(W.S)("nutella")&&a.a.createElement(i.ExpandableSection,{header:G.intl.formatMessage({id:"editRuntimePolicy.section.expandable.header"}),expanded:m,onChange:function(e){return h(e.detail.expanded)}},t)))}))),je=n(1982),_e=n(2208);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=Object(c.connect)((function(e,t){return{layers:Object(v.N)(e,t.nodeId,"layers"),functionName:Object(je.b)(e).params.functionName}}),(function(e){return{navigateToEdit:function(t,n){e(Object(f.J)(!0)),e(Object(g.f)(t,n,"layers",{tab:h.N.CODE},!1))}}}),(function(e,t,n){return Te(Te(Te(Te({},n),e),t),{},{navigateToEdit:function(){return t.navigateToEdit(e.functionName,e.qualifier)}})}))(Object(d.F)(["urlParser","functionParser"])((function(e){var t=a.a.createElement(he.a,{header:a.a.createElement(p.a,{id:"layers.header.title"}),info:"layers.description"},!e.readonly&&a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Button,{className:"edit-button",id:"layers-on-designer-edit-button",onClick:e.navigateToEdit,"data-analytics":y.WorkflowTags.edit},a.a.createElement(p.a,{id:"edit"})),a.a.createElement(i.Button,{id:"layers-on-designer-add-button",href:"#/add/layer?function=".concat(e.functionName),"data-analytics":y.WorkflowTags.add},a.a.createElement(p.a,{id:"layers.buttons.add"}))));return a.a.createElement(_e.a,{layers:e.layers.toJS(),withVersionArn:!0,header:t,"data-analytics":e.tag,"data-analytics-type":e.tagType,nameWidth:450})})));var xe=Object(J.tagContextHoc)((function(e){var t=e.nodes,n=e.readonly,r=new W.i(t.getIn([0,"data","arn"])).qualifier,i=n||Object(d.t)(r);return a.a.createElement(Pe,{nodeId:t.getIn([0,"id"]),readonly:i,tag:e.tag,tagType:e.tagType})}));function Ne(e){var t=e.task,n=void 0===t?"urlParser":t,r=e.children,i=Object(c.useSelector)((function(e){return Object(v.lb)(e,n)})),o=i.loading,s=i.error;return o?a.a.createElement(L.default,{size:"large"}):null!=s&&s.message?a.a.createElement(z.default,{type:"error"},s.message):r}var Ie=n(296),De=["value"];function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Me=function(e){var t=e.value,n=Re(e,De);return a.a.createElement(Ie.FormattedDate,Ae({value:t,year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"},n))},Fe=n(2022),Le=n(1995);function ze(e){var t=e.functionArn,n=e.description,r=e.onDelete;if(!t)return a.a.createElement(T.a,null,a.a.createElement("div",null));var i=new W.i(t).functionName;return a.a.createElement(B.Modal,{id:"deleteCodeSigningOnFunction",size:"medium",header:a.a.createElement(p.a,{id:"modal.delete.title.codeSigning"}),footerProvider:function(e){var t=e.isLoading,n=e.close;return a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:n},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",loading:t,onClick:r},a.a.createElement(p.a,{id:"remove"}))))}},a.a.createElement(o.a,{tagName:"p",id:"modal.delete.text.codeSigning",values:{description:n,functionName:i}}))}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=he.f.itemBuilder(),Ve=function(){var e=Object(c.useSelector)(v.db),t=Object(c.useSelector)(v.cb),n=!!e||!!t;return Object(W.S)("ishikawa")&&n?[We("codeSigning.config.profileArn.label",e),We("codeSigning.config.jobArn.label",t)]:[]};var He=Object(d.F)(["functionCodeSigningConfig","urlParser"])(Object(c.connect)((function(e,t){return qe(qe(qe({},Object(v.lb)(e,"functionCodeSigningConfig")),t),{},{qualifier:Object(v.S)(e),functionArn:Object(v.p)(e),functionName:Object(v.z)(e)})}),(function(e){return{showDeleteCodeSigningConfigModal:function(){return e(Object(B.setModalOpen)("deleteCodeSigningOnFunction",!0))},onDelete:function(t,n){return e(Object(f.j)(t,n))},navigateToEdit:function(t){e(Object(g.f)(t,null,"codeSigning"))}}}),(function(e,t,n){return qe(qe(qe(qe({},n),e),t),{},{navigateToEdit:function(){return t.navigateToEdit(e.functionName)}})}))((function(e){var t,n=e.loading,r=e.error,o=e.functionArn,c=e.forceProfilesView,s=e.result,l=e.qualifier,u=e.navigateToEdit,d=e.onDelete,f=e.showDeleteCodeSigningConfigModal,m=Ve(),h=!!m.length,g=r||!!l||!!c,v=null==s||null===(t=s.codeSigningConfig)||void 0===t?void 0:t.description,b=null,y=a.a.createElement(he.d,{id:"functionDetail.sections.codeSigning.empty",onClick:u}),E=l||c?null:a.a.createElement(i.Button,{id:"codeSigningRemoveButton",disabled:!s,onClick:f},a.a.createElement(p.a,{id:"codeSigning.section.remove"}));if(g&&(y=a.a.createElement(he.d,{id:"functionDetail.sections.codeSigning.empty",noButton:!0})),s&&!l){var O,w,S=(null===(O=s.codeSigningConfig.allowedPublishers)||void 0===O||null===(w=O.signingProfileVersionArns)||void 0===w?void 0:w.join(", "))||"",j=[{key:a.a.createElement(p.a,{id:"codeSigning.config.description.label"}),value:s.codeSigningConfig.description},{key:a.a.createElement(p.a,{id:"codeSigning.config.configId.label"}),value:a.a.createElement("a",{href:"#/code-signing-configurations/".concat(s.codeSigningConfig.codeSigningConfigId)},s.codeSigningConfig.codeSigningConfigId)},{key:a.a.createElement(p.a,{id:"codeSigning.config.configARN.label"}),value:s.codeSigningConfig.codeSigningConfigArn},{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"codeSigning.config.policies.untrusted.label"}),a.a.createElement(be.a,{path:"codeSigning.policies.helpContent"})),value:s.codeSigningConfig.codeSigningPolicies.untrustedArtifactOnDeployment},{key:a.a.createElement(p.a,{id:"codeSigning.config.modified.label"}),value:a.a.createElement(Le.a,{value:s.codeSigningConfig.lastModified})},{key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"codeSigning.config.allowed.label"}),a.a.createElement(be.a,{path:"codeSigning.allowed.helpContent"})),value:S}];y=a.a.createElement(he.f,{flat:!0,columns:3,items:j}),b=a.a.createElement(ze,{functionArn:o,description:v,onDelete:function(){return d(o,v)}})}return h&&(l||c)&&(y=a.a.createElement(he.f,{flat:!0,columns:3,items:m})),s&&(l||c)&&!h&&(y=a.a.createElement(he.d,{id:"functionDetail.sections.codeSigning.unsigned.empty",noButton:!0})),a.a.createElement(N.a,{id:"codeSigning",loading:n,error:r,showInfoLink:!0,editPage:"codeSigning",readonly:!!g,actionsButton:E},y,b)})));function Ge(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je=he.f.itemBuilder((function(e){return G.intl.formatMessage({id:"functionDetail.sections.codeProperties.label.".concat(e)})})),Ke=Object(c.connect)((function(e){return{codeSha256:Object(v.r)(e),codeSize:Object(v.s)(e),lastModified:Object(v.w)(e)}}),null)(Object(d.F)(["functionParser"])((function(e){var t=e.codeSha256,n=e.codeSize,r=e.lastModified,i=Ve(),o=[Je("codeSize","number"==typeof n&&Object(W.p)(n)),Je("codeSha256",t&&a.a.createElement(Fe.a,{value:t})),Je("lastModified",r&&a.a.createElement(Me,{value:r}))].concat(Ge(i));return a.a.createElement(N.a,{id:"codeProperties",readonly:!0,showInfoLink:!!i.length},a.a.createElement(Ne,{task:"functionSource"},a.a.createElement(he.f,{flat:!0,items:o,columns:3})))})));function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ye,Xe=(Ye="functionSource",function(e){return function(){return a.a.createElement(Ne,{task:Ye},a.a.createElement(e,null))}})(Object(c.connect)((function(e){var t,n=Object(v.lb)(e,"functionParser"),r=n.loading,a=n.result;return{loading:r,isError:!r&&!a,functionArn:null!==(t=Object(v.p)(e))&&void 0!==t?t:"",isQualified:!!Object(v.S)(e),nodes:Object(v.W)(e)}}),null)(Object(d.F)(["functionParser"])((function(e){var t=e.functionArn,n=e.loading,r=e.isQualified,i=e.isError,o=e.nodes;if(i)return null;var c={nodeId:t,readonly:r};return a.a.createElement(T.a,{cond:n},a.a.createElement(de,Qe({},c,{tag:y.WorkflowTags.code})),a.a.createElement(Ke,null),a.a.createElement(Se,c),a.a.createElement("div",{id:h.J.LAYERS},a.a.createElement(xe,Qe({nodes:o},c,{tag:y.WorkflowTags.layers}))))})))),$e=n(1980),et=function(e,t){return a.a.createElement($e.d,{href:Object(W.v)("ecr","repository",t)},e)};var tt=Object(c.connect)((function(e){return{imageUri:Object(v.v)(e),architectures:Object(v.o)(e)||[],resolvedImageUri:Object(v.B)(e)}}),null)(Object(d.F)(["functionParser"])((function(e){var t=e.architectures,n=e.readonly,r=e.imageUri,o=a.a.createElement(i.Alert,{className:"awsui-util-mt-s"},a.a.createElement(p.a,{id:"functionDetail.sections.imageSource.image.title",tagName:"b"}),a.a.createElement(p.a,{id:"functionDetail.sections.imageSource.image.description",tagName:"p"})),c=new W.e(r),s=[{key:a.a.createElement(p.a,{id:"config.code.image.label"}),value:c?et(r,c.repositoryName):null}],l=Object(ye.c)().length;return l>1&&s.push({key:a.a.createElement("span",null,a.a.createElement(p.a,{id:"config.code.image.architectures"}),a.a.createElement(be.a,{path:"architectures.helpContent"})),value:t.length?t.join(", "):ye.a.x86}),a.a.createElement(N.a,{id:"imageSource",readonly:n,editPage:"image-settings"},o,a.a.createElement("div",{className:"awsui-util-mt-l"},a.a.createElement(he.f,{columns:l>1?2:1,flat:!0,borders:"none",items:s})))})));var nt=Object(c.connect)((function(e,t){return{imageConfig:Object(v.L)(e,t.nodeId).get("data").getIn(["imageConfigResponse","imageConfig"],null)}}))(Object(d.F)(["functionParser"])((function(e){var t,n=e.columns,r=void 0===n?3:n,i=e.imageConfig,o=e.readonly,c=null!==(t=null==i?void 0:i.toJS())&&void 0!==t?t:{},s=c.entryPoint,l=c.command,u=c.workingDirectory;s=Array.isArray(s)?s.join(", "):s,l=Array.isArray(l)?l.join(", "):l,u=Array.isArray(u)?u.join(", "):u;var d=[{key:a.a.createElement(p.a,{id:"config.entryPoint.label"}),value:s||"-"},{key:a.a.createElement(p.a,{id:"config.command.label"}),value:l||"-"},{key:a.a.createElement(p.a,{id:"config.workingDirectory.label"}),value:u||"-"}];return a.a.createElement(N.a,{id:"imageConfiguration",showInfoLink:!0,readonly:o,editPage:"image-configuration"},a.a.createElement(he.f,{flat:!0,items:d,columns:r}))}))),rt=Object(c.connect)((function(e){var t=Object(v.lb)(e,"functionParser"),n=t.loading,r=t.result;return{loading:n,isError:!n&&!r,functionArn:Object(v.p)(e),isQualified:!!Object(v.S)(e)}}),null)(Object(d.F)(["functionParser"])((function(e){var t=e.functionArn,n=e.isError,r=e.isQualified,i=e.loading;return a.a.createElement(T.a,{cond:i},!n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(tt,{readonly:r}),a.a.createElement(nt,{nodeId:t,readonly:r})))}))),at=n(2239),it=n(1994),ot=n(1988),ct=n(413),st=n.n(ct),lt=function(e){var t=e.id,n=e.label,r=e.tag,i=e.isActive,o=e.handleClick,c=e.isMouseFocused;return a.a.createElement("button",{type:"button",className:st()(["awsui-sidebar-button",i&&"".concat("awsui-sidebar-button","-active"),c&&"".concat("awsui-sidebar-button","-focus")]),onClick:function(e){return o(e,t)},tabIndex:i?0:-1,"data-analytics":r,"data-testid":"sidebar-".concat(t)},n)};function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft={LEFT:37,UP:38,RIGHT:39,DOWN:40},pt=function(e){var t,n,i=e.items,o=e.activeItemId,c=e.onClick,s=void 0===c?function(){}:c,l=e.direction,u=void 0===l?"column":l,d=e.noGutter,f=e.rightSide,p=e.persistContent,m=Object(r.useContext)(J.TagContext),h=m.tag,g=m.tagType,v=(null===(t=i[0])||void 0===t?void 0:t.id)||"",b=ut(Object(r.useState)(o||v),2),E=b[0],O=b[1],w=ut(Object(r.useState)(!0),2),S=w[0],j=w[1],_=Object(r.useRef)(null);Object(r.useEffect)((function(){o&&O(o)}),[o]),Object(r.useEffect)((function(){Object(y.logTab)("sidebar_tab",E)}),[E]);var k=function(e){if(Object.values(ft).includes(e.keyCode)&&(e.preventDefault(),j(!1),i.length)){var t=Array.from(_.current.children).reduce((function(e,t){return e.concat(Array.from(t.children))}),[]),n=i.findIndex((function(e){return e.id===E}));if(e.keyCode===ft.UP||e.keyCode===ft.LEFT){var r=((n-1)%i.length+i.length)%i.length;O(i[r].id),t[r].focus()}else if(e.keyCode===ft.DOWN||e.keyCode===ft.RIGHT){var a=(n+1)%i.length;O(i[a].id),t[a].focus()}}},T=function(e,t){e.detail={activeItemId:t},j(!0),o||O(t),s(e)},C=function(e,t){return a.a.createElement("div",{className:st()("col-xxxs-12",{"col-xxs-10":"row"!==u,hide:e})},t)},P=p?i.map((function(e){var t=e.id,n=e.content;return a.a.createElement(a.a.Fragment,{key:t},C(t!==E,n))})):C(!1,null===(n=i.filter((function(e){return e.id===E}))[0])||void 0===n?void 0:n.content);return a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:st()(["awsui-row",d&&"awsui-util-no-gutters"]),id:"awsui-sidebar-control"},i.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:st()("col-xxxs-12",{"col-xxs-2":"row"!==u}),"data-analytics":h,"data-analytics-type":g},a.a.createElement("ul",{className:st()("row"===u?"awsui-sidebar-ul-row awsui-util-f-l":"awsui-sidebar-ul-col"),ref:_},i.map((function(e){var t=e.id,n=e.label,r=e.tag;return a.a.createElement("li",{key:t,tabIndex:E===t?0:-1,onKeyDown:k},a.a.createElement(lt,{id:t,label:n,tag:r,isActive:E===t,handleClick:T,isMouseFocused:S}))}))),"row"===u&&f&&a.a.createElement("div",{className:"awsui-util-f-r"},f)),P)))},mt=n(2151),ht=n(2072),gt=Object(c.connect)((function(e){return{functionName:Object(v.z)(e)}}),null)((function(e){var t=e.functionName;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"embedded-dashboard-header"},a.a.createElement("div",null,a.a.createElement("h2",null,a.a.createElement(p.a,{id:"functionDetail.monitoring.xray.title"}),a.a.createElement(be.a,{path:"functions.monitor.traces"})),a.a.createElement(p.a,{tagName:"p",id:"functionDetail.monitoring.xray.description"}))),a.a.createElement(ht.a,{method:"getServiceLensQuery",widgetHeightInUnits:10,functionName:t,widgetsPerRow:1}))})),vt=function(e){return"/cloudwatch/home?region=".concat(Object(W.L)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(e))},bt=Object(c.connect)((function(e){var t=Object(v.y)(e),n=t.qualifier,r=t.isHub,a=Object(mt.c)(r,n);return{functionName:Object(v.z)(e),isQualifiersDataLoaded:Object(v.F)(e),qualifier:n,qualifiers:Object(v.T)(e),descriptionId:a}}),null)(Object(d.F)(["functionQualifiersSource"])((function(e){var t=e.functionName,n=e.isQualifiersDataLoaded,r=e.qualifier,i=e.qualifiers,c=e.descriptionId,s=a.a.createElement(ht.a,{method:"getInsightsQueries",functionName:t,qualifier:r,qualifiers:i,widgetsPerRow:1}),l=a.a.createElement("h2",null,a.a.createElement(p.a,{id:"functionDetail.monitoring.cloudWatch.insights.title"}),a.a.createElement(be.a,{path:"functions.monitor.logs"}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"embedded-dashboard-header"},l,a.a.createElement(o.a,{tagName:"p",id:"functionDetail.monitoring.cloudWatch.insights.description.".concat(c),values:{qualifier:r}})),n&&s)}))),yt=n(2047);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var a=kt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){if(t&&("object"===Et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=Object(J.tagContextHoc)(pt),Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(s,e);var t,n,r,c=St(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Tt(_t(t=c.call(this,e)),"getMonitoringItems",(function(){return[{id:h.B.METRICS,content:a.a.createElement(mt.b,null),label:G.intl.formatMessage({id:"functionDesigner.tab.monitor.metrics"})},{id:h.B.LOGS,content:a.a.createElement(bt,null),label:G.intl.formatMessage({id:"functionDesigner.tab.monitor.logs"})},{id:h.B.TRACES,content:a.a.createElement(gt,null),label:G.intl.formatMessage({id:"functionDesigner.tab.monitor.traces"})}].filter((function(e){var n=e.id;return t.state.items.find((function(e){return e.id===n}))}))})),Tt(_t(t),"getLambdaAtEdgeAlert",(function(){var e=t.props,n=e.cloudfrontNode,r=e.hasCloudfrontTrigger,c=e.functionArn;return n&&r&&a.a.createElement("div",{className:"awsui-util-mb-s"},a.a.createElement(i.Alert,null,a.a.createElement(o.a,{id:"functionDetail.monitoring.lambdaAtEdge.blurb",values:{link:n["x-edge-monitoring-link"].format(c)}})))})),Tt(_t(t),"getCloudWatchLogsAlert",(function(){var e=t.props.missingCloudWatchLogsResult;return e&&Object(y.logEvent)(y.EVENT_NAMES.LOG_PERMISSIONS_ALERT_APPEAR),e&&a.a.createElement("div",{className:"awsui-util-mv-s","data-testid":"missing-logs-alert"},a.a.createElement(i.Alert,{dismissible:!0,onDismiss:function(){return Object(y.logEvent)(y.EVENT_NAMES.LOG_PERMISSIONS_ALERT_DISMISS)}},a.a.createElement(p.a,{id:"recEngine.logPermissions.title",tagName:"b"}),a.a.createElement(o.a,{id:"recEngine.logPermissions.description",values:{result:e.get(0)},tagName:"p"})))})),t.state={items:[{id:h.B.METRICS},Object(W.S)("sarmentose")&&{id:h.B.LOGS},e.isTracerAvailable&&e.isHub&&{id:h.B.TRACES}].filter((function(e){return!!e}))},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props.selectedSidebarItem;this.state.items.find((function(t){return t.id===e}))||this.props.resetSelectedSidebarItem(),this.props.showHelp()}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedSidebarItem,r=t.functionName,i=t.isTracerAvailable,o=t.isLambdaInsightsAvailable,c=t.isCodeGuruAvailable,s=this.getLambdaAtEdgeAlert(),l=this.getCloudWatchLogsAlert(),u="/cloudwatch/home?region=".concat(Object(W.L)(),"#servicelens:traces"),d="/cloudwatch/home?region=".concat(Object(W.L)(),"#lambda-insights:functions/").concat(r),f="/codeguru/profiler?region=".concat(Object(W.L)()),m=a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{iconName:"external",iconAlign:"right",href:vt(r),target:"_blank"},a.a.createElement(p.a,{id:"functionDetail.monitoring.cloudWatch.logsLink"})),i&&a.a.createElement(me.default,{iconName:"external",iconAlign:"right",href:u,target:"_blank"},a.a.createElement(p.a,{id:"functionDetail.monitoring.serviceLens.link"})),o&&a.a.createElement(me.default,{iconName:"external",iconAlign:"right",href:d,target:"_blank"},a.a.createElement(p.a,{id:"functionDetail.monitoring.lambdaInsights.logsLink"})),c&&a.a.createElement(me.default,{iconName:"external",iconAlign:"right",href:f,target:"_blank"},a.a.createElement(p.a,{id:"functionDetail.monitoring.codeguru.link"})));return a.a.createElement("div",null,l,s,a.a.createElement(Ct,{items:this.getMonitoringItems(),persistContent:!0,direction:"row",rightSide:m,activeItemId:n,onClick:function(t){var n=t.detail;return e.props.setSelectedSidebarItem(n.activeItemId)},tag:y.WorkflowTags.monitoringSidebar}))}}])&&Ot(t.prototype,n),r&&Ot(t,r),s}(a.a.Component),xt=Object(c.connect)((function(e){var t,n=!1,r=Object(v.eb)(e,"relationParser");r&&(n=r.get("nodes").some((function(e){return"trigger"===e.get("type")&&"cloudfront"===e.getIn(["data","id"])})));var a=Object(v.q)(e),i=Object(v.y)(e),o=i.isLatest,c=i.qualifier,s=i.isHub;return{cloudfrontNode:ot.c.getNodes(e).cloudfront,functionArn:a,isLatest:o,hasCloudfrontTrigger:n,functionName:Object(v.z)(e),missingCloudWatchLogsResult:Object(v.m)(e,at.a),qualifier:c,selectedSidebarItem:null===(t=ot.c.getSelectedSidebarItem(e))||void 0===t?void 0:t.get("monitoringTab"),isHub:s,isLambdaInsightsAvailable:!!Object(yt.f)(e).find((function(e){return"lambdaInsights"===e.id})),isCodeGuruAvailable:!!Object(yt.f)(e).find((function(e){return"codeGuru"===e.id})),isTracerAvailable:!!Object(yt.f)(e).find((function(e){return"tracer"===e.id}))}}),(function(e){return{showHelp:function(){return e(Object(it.m)("functionDetail.tab.monitoring.helpContent"))},setSelectedSidebarItem:function(t){return e(Object(it.p)("monitoringTab",t))},resetSelectedSidebarItem:function(){return e(Object(it.f)("monitoringTab"))}}}))(Object(d.F)(["urlParser","functionParser","simulateRoleForExtensions","relationParser","recommendationEngine"])(Pt)),Nt=n(2141),It=n(554),Dt=n(2255),At=n(87);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var a=Bt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(s,e);var t,n,r,c=Lt(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=c.call(this,e,t)).state={eventName:null,eventNameErrorMessage:null},n}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.showHelp,n=e.modalCreate,r=e.setEventIdToInvoke,a=e.templateEventId,i=e.configurationOption;t(),n&&a&&(Object(W.S)("mandarinquat1")?r(Object(A.f)()):r(a));var o=y.WorkflowTags.testing,c=y.WorkflowTags.testEventConfiguration;y.panorama.logWorkflowEvent({tagPath:this.context.nextTag([o,c]),eventDetail:i})}},{key:"componentDidUpdate",value:function(e){this.props.modalCreate&&e.templateEventId!==this.props.templateEventId&&(Object(W.S)("mandarinquat1")?this.props.setEventIdToInvoke(Object(A.f)()):this.props.setEventIdToInvoke(this.props.templateEventId));var t=this.props,n=t.savedEventId,r=t.modalCreate,a=t.dirtyEventCode,i=t.eventIdToInvoke,o=t.setEventIdToInvoke;if(!r&&a&&Object(W.S)("mandarinquat1")&&n&&Object(A.e)(n)!==i&&o(Object(A.e)(n)),e.configurationOption!==this.props.configurationOption){var c=y.WorkflowTags.testing,s=y.WorkflowTags.testEventConfiguration;y.panorama.logWorkflowEvent({tagPath:this.context.nextTag([c,s]),eventDetail:this.props.configurationOption})}}},{key:"resetEventState",value:function(){this.setState({eventName:null,eventNameErrorMessage:null}),this.props.dispatch(D.a.updateEventModal({hasParseError:!1}))}},{key:"validateTestEvent",value:function(){var e=!1;try{var t;JSON.parse(null!==(t=this.props.dirtyEventCode)&&void 0!==t?t:this.props.codeForEventInDropdown)}catch(t){e=!0}return e&&this.props.dispatch(D.a.updateEventModal({hasParseError:e})),!e}},{key:"formatTestEvent",value:function(){var e,t=null!==(e=this.props.dirtyEventCode)&&void 0!==e?e:this.props.codeForEventInDropdown,n=!1;try{t=Object(W.q)(t,!0)}catch(e){n=!0}this.props.dispatch(D.a.updateEventModal({dirtyEventCode:t,hasParseError:n}))}},{key:"saveSampleEvent",value:function(){if(this.props.modalCreate){if(this.state.eventNameErrorMessage)return;if(null===this.state.eventName)return void this.eventNameChanged({detail:{value:""}})}if(this.validateTestEvent()){Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD("save"));var e=this.props,t=e.functionName,n=e.qualifier;this.props.modalCreate?this.props.dispatch(D.a.testingTabSaveTestEvent(t,n,this.state.eventName,this.props.dirtyEventCode||this.props.codeForEventInDropdown)):this.props.dispatch(D.a.testingTabSaveTestEvent(t,n,this.props.savedEventId,this.props.dirtyEventCode)),this.resetEventState()}}},{key:"eventRadioGroupChanged",value:function(e){e.detail.value===h.P.CONFIGURATION_OPTION_EDIT&&this.props.setEventIdToInvoke(this.props.savedEventId),this.props.dispatch(D.a.changeConfigurationOption(e.detail.value)),h.P.CONFIGURATION_OPTION_CREATE===e.detail.value?Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD_CREATE_INTENT):Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD_EDIT_INTENT)}},{key:"templateChanged",value:function(e){this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value))}},{key:"savedEventChanged",value:function(e){this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value)),this.props.setEventIdToInvoke(e.detail.selectedOption.value)}},{key:"eventNameChanged",value:function(e){var t,n=Nt.a.validate(null!==(t=e.detail.value)&&void 0!==t?t:""),r=n.valid,a=n.errors;this.setState({eventNameErrorMessage:r?null:a[0].message,eventName:e.detail.value}),this.props.setEventIdToInvoke(e.detail.value)}},{key:"testFunction",value:function(){var e;if(Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD_INVOKE),this.validateTestEvent()){var t=null!==(e=this.props.dirtyEventCode)&&void 0!==e?e:this.props.codeForEventInDropdown;this.props.dispatch(D.a.testingTabInvokeTest(t,this.props.configurationOption))}}},{key:"codeChanged",value:function(e){this.props.dispatch(D.a.updateEventModal({dirtyEventCode:e,hasParseError:!1}))}},{key:"delete",value:function(){this.props.dispatch(D.a.deleteTestEvent(this.props.functionName,this.props.savedEventId)),this.resetEventState()}},{key:"render",value:function(){var e,t,n,r,c,s,l,u=this,d=function(e){return G.intl.formatMessage({id:e})},f=this.delete.bind(this),m=this.props,g=m.groupedSampleEvents,v=m.hasParseError,b=m.isEventLoading,E=m.isTestButtonDisabled,O=m.isInvoking,w=m.isSaving,S=m.loading,j=m.error,_=m.showExecutionResults,k=S||b||v||!!j,C=m.configurationOption===h.P.CONFIGURATION_OPTION_CREATE,P=g.filter((function(e){return e.label===At.q})).map((function(e){return Ut(Ut({},e),{},{label:d(e.value)})})),x=g.map((function(e){return Ut(Ut({},e),{},{label:d(e.value)})})),N=a.a.createElement(i.Button,{className:"awsui-util-ml-s",variant:"icon",icon:"refresh",onClick:function(){return u.props.dispatch(D.a.refreshTestEvents(u.props.functionName))}}),I=a.a.createElement(i.FormField,{id:"savedEvent",label:d("functionDesigner.tab.testing.testEvent.saved"),secondaryControl:N},a.a.createElement(i.Select,{filteringType:(null===(e=P[0])||void 0===e||null===(t=e.options)||void 0===t?void 0:t.length)>1?"auto":"none",options:P,onChange:this.savedEventChanged.bind(this),selectedOption:{label:this.props.savedEventId,id:this.props.savedEventId}})),A=a.a.createElement(a.a.Fragment,null,a.a.createElement(i.FormField,{id:"eventTemplate",stretch:!0,label:d("functionDesigner.tab.testing.testEvent.eventTemplate")},a.a.createElement(i.Select,{filteringType:"auto",options:x,onChange:this.templateChanged.bind(this),selectedOption:{label:this.props.templateEventId,id:this.props.templateEventId}})),a.a.createElement(i.FormField,{id:"eventName",stretch:!0,label:d("functionDesigner.tab.testing.testEvent.eventName"),errorText:this.state.eventNameErrorMessage},a.a.createElement(i.Input,{placeholder:"MyEventName",onInput:this.eventNameChanged.bind(this),value:this.state.eventName}))),M=Object(W.I)({id:"functionDesigner.tab.testing.testEvent.radio.".concat(h.P.CONFIGURATION_OPTION_CREATE)}),F=Object(W.I)({id:"functionDesigner.tab.testing.testEvent.radio.".concat(h.P.CONFIGURATION_OPTION_EDIT)}),L=k||!this.props.dirtyEventCode||this.props.dirtyEventCode===this.props.codeForEventInDropdown,z=this.saveSampleEvent.bind(this),B=a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.header"});this.props.modalCreate&&(L=(null===(s=P[0])||void 0===s||null===(l=s.options)||void 0===l?void 0:l.length)>9||k);var q=a.a.createElement(he.a,{header:B},this.props.modalCreate?null:a.a.createElement(i.Button,{onClick:f,"data-analytics":y.WorkflowTags.delete},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.delete"})),a.a.createElement(i.Button,{onClick:function(){return u.formatTestEvent()},disabled:w,"data-analytics":y.WorkflowTags.formatJson},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.format"})),a.a.createElement(i.Button,{onClick:z,disabled:L,loading:w,"data-analytics":y.WorkflowTags.save},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.saveChanges"})),a.a.createElement(i.Button,{key:"invoke",variant:"primary",onClick:function(){return u.testFunction()},loading:O,disabled:E||v,"data-analytics":y.WorkflowTags.invoke,"data-testid":"testTabInvokeButton"},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.test"}))),U=null!==(n=this.props.dirtyEventCode)&&void 0!==n?n:this.props.codeForEventInDropdown,V=C?"functionDetail.testEvents.create.testWithoutSaving":"functionDetail.testEvents.edit.testWithoutSaving",H=a.a.createElement("div",null,this.props.hasParseError?a.a.createElement(i.Alert,{type:"error"},Object(W.I)({id:"functionDesigner.tab.testing.testEvent.jsonParseError"})):null,(null===(r=P[0])||void 0===r||null===(c=r.options)||void 0===c?void 0:c.length)>9&&"create"===this.props.configurationOption?a.a.createElement(i.Alert,{type:"error"},Object(W.I)({id:"functionDesigner.tab.testing.testEvent.exceedNumError"})):null,a.a.createElement(R.b,{scope:"event-modal"}),a.a.createElement(o.a,{id:V}),a.a.createElement(i.FormField,{id:"createEditRadioGroup",stretch:!0},a.a.createElement(i.RadioGroup,{onChange:this.eventRadioGroupChanged.bind(this),value:this.props.configurationOption,items:[{value:h.P.CONFIGURATION_OPTION_CREATE,label:M},{value:h.P.CONFIGURATION_OPTION_EDIT,label:F,disabled:!this.props.hasSavedEvents}]})),this.props.modalCreate?A:I);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dt.a,{className:_?"awsui-util-mb-l":""}),a.a.createElement(he.c,{id:"testEventContainer",header:q,tag:y.WorkflowTags.testing,loading:S,error:j},a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},H,a.a.createElement(T.a,{cond:b,overlay:!0},a.a.createElement("div",{"data-analytics":y.WorkflowTags.editor},a.a.createElement(It.a,{id:"eventCode",mode:"json",value:U,onChange:function(e){u.codeChanged(null!=e?e:U)}})),this.props.hasParseError?a.a.createElement("div",{className:"awsui-util-mt-s"},a.a.createElement(i.Alert,{type:"error"},Object(W.I)({id:"functionDetail.testEvents.modal.jsonParseError"}))):null)))))}}])&&Mt(t.prototype,n),r&&Mt(t,r),s}(a.a.Component);Wt(Vt,"contextType",J.TagContext);var Ht=Object(d.F)(["testingSource"])(Object(c.connect)((function(e,t){var n=new W.i(Object(v.p)(e)||""),r=n.functionName,a=n.qualifier,i=n.arn;return Ut({savedEventId:D.c.getEventModalState(e,"savedEventId"),codeForEventInDropdown:D.c.getCodeToShow(e),dirtyEventCode:D.c.getDirtyEventCode(e),hasParseError:D.c.getEventModalState(e,"hasParseError"),groupedSampleEvents:D.c.getGroupedSampleEvents(e),loading:D.c.getEventModalState(e,"loading"),isSaving:D.c.getEventModalState(e,"isSaving"),isEventLoading:D.c.getIsEventLoading(e),isTestButtonDisabled:Object(v.J)(e),showExecutionResults:D.c.getShowExecutionResults(e),isInvoking:D.c.getIsInvoking(e),eventsById:D.c.getEventsById(e),modalCreate:D.c.getEventModalState(e,"configurationOption")===h.P.CONFIGURATION_OPTION_CREATE,configurationOption:D.c.getEventModalState(e,"configurationOption"),templateEventId:D.c.getEventModalState(e,"templateEventId"),hasSavedEvents:D.c.getHasSavedEvents(e),eventIdToInvoke:D.c.getEventIdToInvoke(e),selectedFunctionArn:i,functionName:r,qualifier:a,eventModalOpen:D.c.getEventModalOpen(e)},t)}),(function(e){return{showHelp:function(){return e(Object(it.m)("functionDesigner.tab.testing.helpContent"))},setEventIdToInvoke:function(t){return e(D.a.setEventIdToInvoke(t))},dispatch:e}}))(Vt)),Gt=n(415),Zt=n(555),Jt=n(300),Kt=n(557);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var a=rn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(o,e);var t,n,r,i=en(o);function o(){var e;Yt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return an(nn(e=i.call.apply(i,[this].concat(n))),"handleEventTypeChanges",(function(t){var n=t.detail.value;e.props.dispatch(D.a.updateEventType(n))})),e}return t=o,(n=[{key:"render",value:function(){var e=function(e){return G.intl.formatMessage({id:e})},t=e("functionDetail.testEvents.shared.form.eventType.shared"),n=e("functionDetail.testEvents.shared.form.eventType.user"),r=a.a.createElement($e.b,{id:"functionDetail.testEvents.shared.form.eventType.shared.desc",href:"https://docs.aws.amazon.com/lambda/latest/dg/testing-functions.html"}),i=a.a.createElement($e.b,{id:"functionDetail.testEvents.shared.form.eventType.user.desc",href:"https://docs.aws.amazon.com/lambda/latest/dg/testing-functions.html"});return a.a.createElement(Gt.default,null,a.a.createElement(Zt.default,{stretch:!0,label:e("functionDetail.testEvents.modal.eventName"),constraintText:e("functionDetail.testEvents.modal.eventName.hint"),errorText:this.props.eventNameErrorMessage},a.a.createElement(Jt.default,{placeholder:"MyEventName",onChange:this.props.eventNameChanged,value:this.props.eventName})),a.a.createElement(Zt.default,{stretch:!0,id:"eventType",label:e("functionDetail.testEvents.shared.form.eventType.label")},a.a.createElement(Kt.default,{onChange:this.handleEventTypeChanges,value:this.props.eventType,items:[{value:h.P.TYPE_USER,label:n,description:i},{value:h.P.TYPE_SHARED,label:t,description:r}]})))}}])&&Xt(t.prototype,n),r&&Xt(t,r),o}(a.a.Component),cn=Object(c.connect)((function(e){return{eventType:D.c.getEventModalState(e,"eventType")}}),(function(e){return{dispatch:e}}))(on),sn=n(2067),ln=n(562);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var a=yn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(o,e);var t,n,r,i=vn(o);function o(){return mn(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"savedEventChanged",value:function(e){this.props.isDeleteOpen&&this.props.closeDelete(),this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value)),this.props.setEventIdToInvoke(e.detail.selectedOption.value),this.props.setEventTypeToInvoke(e.detail.selectedOption.group)}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeDelete,r=t.isDeleteOpen,i=t.isEventLoading,o=t.isInline,c=t.loading,s=t.functionName,l=t.groupedSampleEvents,u=t.onDelete,d=t.openDelete,f=t.savedEventId,m=t.eventType,g=function(e){return G.intl.formatMessage({id:e})},v=l.filter((function(e){return e.label===h.P.GROUP_SHARED||e.label===h.P.GROUP_SAVED})).map((function(e){return fn(fn({},e),{},{label:g("functionDetail.testEvents.saved"===e.value?"functionDetail.testEvents.user":e.value)})})),b=a.a.createElement(me.default,{onClick:d,disabled:r,"propsdata-analytics":y.WorkflowTags.delete},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.delete"})),E=a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{className:"awsui-util-ml-s",variant:"normal",iconName:"refresh",loading:c||i,onClick:function(){return e.props.dispatch(D.a.refreshTestEvents(s))}}),o&&b);return a.a.createElement(Gt.default,null,a.a.createElement(Zt.default,{id:"savedEvent",label:g("functionDetail.testEvents.modal.eventName"),secondaryControl:E},a.a.createElement(ln.default,{filteringType:v.length>1?"auto":"none",options:v,onChange:this.savedEventChanged.bind(this),selectedOption:{label:f,value:f}})),a.a.createElement(sn.b,{eventId:f,functionName:s,isInline:o,isShared:m===h.P.GROUP_SHARED,onClose:n,onDelete:u}))}}])&&hn(t.prototype,n),r&&hn(t,r),o}(a.a.Component),On=Object(c.connect)((function(e){var t=new W.i(Object(v.p)(e)||"").functionName;return{groupedSampleEvents:D.c.getGroupedSampleSharedEvents(e),templateEventId:D.c.getEventModalState(e,"templateEventId"),functionName:t,savedEventId:D.c.getEventModalState(e,"savedEventId"),eventType:D.c.getEventTypeToInvoke(e),isEventLoading:D.c.getIsEventLoading(e),loading:D.c.getEventModalState(e,"loading"),isDeleteOpen:Object(B.isModalOpen)(e,sn.a)}}),(function(e){return{closeDelete:function(){return e(Object(B.setModalOpen)(sn.a,!1))},openDelete:function(){return e(Object(B.setModalOpen)(sn.a,!0))},setEventIdToInvoke:function(t){return e(D.a.setEventIdToInvoke(t))},setEventTypeToInvoke:function(t){return e(D.a.setEventTypeToInvoke(t))},dispatch:e}}))(En),wn=n(2199),Sn=n(840),jn=n(570);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=An(e);if(t){var a=An(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return In(this,n)}}function In(e,t){if(t&&("object"===_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=a.a.createElement(z.default,{type:"error",dismissible:!0},a.a.createElement($e.b,{id:"functionDetail.testEvents.shared.form.noPermission",href:"https://docs.aws.amazon.com/lambda/latest/dg/testing-functions.html"})),Fn=Object(J.tagContextHoc)(wn.a);var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(c,e);var t,n,r,i=Nn(c);function c(){var e;Cn(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rn(Dn(e=i.call.apply(i,[this].concat(n))),"handleEventConfigurationOptions",(function(t){var n=t.detail.value;e.props.dispatch(D.a.changeConfigurationOption(n)),e.props.dispatch(Object(B.setModalOpen)(sn.a,!1)),h.P.CONFIGURATION_OPTION_CREATE===n?y.logEvent(y.EVENT_NAMES.TESTEVENT_FD_CREATE_INTENT):y.logEvent(y.EVENT_NAMES.TESTEVENT_FD_EDIT_INTENT)})),e}return t=c,(n=[{key:"templateChanged",value:function(e){this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value))}},{key:"codeChanged",value:function(e){this.props.dispatch(D.a.updateEventModal({dirtyEventCode:e,hasParseError:!1}))}},{key:"formatTestEvent",value:function(){var e,t=null!==(e=this.props.dirtyEventCode)&&void 0!==e?e:this.props.codeForEventInDropdown,n=!1;try{t=Object(W.q)(t,!0)}catch(e){n=!0}this.props.dispatch(D.a.updateEventModal({dirtyEventCode:t,hasParseError:n}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.codeForEventInDropdown,r=t.configurationOption,i=t.dirtyEventCode,c=t.eventName,s=t.eventNameChanged,l=t.eventNameErrorMessage,u=t.groupedSampleEvents,d=t.hasParseError,f=t.hasSavedEvents,m=t.isEventLoading,g=t.isInline,v=t.loading,b=t.onDelete,E=t.showJsonParserError,O=t.templateEventId,w=Object(W.I)({id:"functionDetail.testEvents.shared.modal.radio.".concat(h.P.CONFIGURATION_OPTION_CREATE)}),S=Object(W.I)({id:"functionDetail.testEvents.shared.modal.radio.".concat(h.P.CONFIGURATION_OPTION_EDIT)}),j=null!=i?i:n,_=r===h.P.CONFIGURATION_OPTION_CREATE,k=this.formatTestEvent.bind(this),C=u.map((function(e){return Tn(Tn({},e),{},{label:Object(W.I)({id:"functionDetail.testEvents.saved"===e.value?"functionDetail.testEvents.user":e.value})})})),P=a.a.createElement(cn,{eventNameChanged:s,eventName:c,eventNameErrorMessage:l}),x=a.a.createElement(Sn.default,{variant:"h2",actions:a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{disabled:v,onClick:k,"data-analytics":y.WorkflowTags.formatJson},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.formatJson"})))},a.a.createElement(p.a,{id:"functionDetail.testEvents.shared.form.eventJson"})),N=a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{id:"functionDetail.testEvents.shared.form.eventTemplate.label"})," - ",a.a.createElement(p.a,{tagName:"i",id:"optional"})),I=a.a.createElement(Zt.default,{id:"eventTemplate",stretch:!0,label:N},a.a.createElement(ln.default,{filteringType:"auto",options:C,onChange:this.templateChanged.bind(this),selectedOption:{label:O,value:O}})),D=_?"functionDetail.testEvents.create.testWithoutSaving":"functionDetail.testEvents.edit.testWithoutSaving",A=d&&E?a.a.createElement("div",{className:"awsui-util-mt-s"},a.a.createElement(z.default,{type:"error"},a.a.createElement(p.a,{id:"functionDetail.testEvents.modal.jsonParseError"}))):null;return a.a.createElement(Gt.default,{columns:1},a.a.createElement(o.a,{id:D}),a.a.createElement(Zt.default,{id:"eventConfig",stretch:!0,label:Object(W.I)({id:"functionDetail.testEvents.shared.modal.radio.label"})},a.a.createElement(jn.default,{onChange:this.handleEventConfigurationOptions,value:r,items:[{value:h.P.CONFIGURATION_OPTION_CREATE,label:w},{value:h.P.CONFIGURATION_OPTION_EDIT,label:S,disabled:!f}]})),_&&P,_?I:a.a.createElement(On,{isInline:g,onDelete:b}),a.a.createElement(Fn,{id:"testEventCodeContainer",header:x,tag:y.WorkflowTags.testing,disableContentPaddings:!0},a.a.createElement(T.a,{cond:m,overlay:!0},a.a.createElement("div",{"data-analytics":y.WorkflowTags.editor},a.a.createElement(It.a,{id:"eventCode",mode:"json",value:j,onChange:function(t){e.codeChanged(null!=t?t:j)}})))),A)}}])&&Pn(t.prototype,n),r&&Pn(t,r),c}(a.a.Component),zn=Object(J.tagContextHoc)(Object(c.connect)((function(e){var t=new W.i(Object(v.p)(e)||"").functionName;return{codeForEventInDropdown:D.c.getSharedCodeToShow(e),dirtyEventCode:D.c.getDirtyEventCode(e),hasParseError:D.c.getEventModalState(e,"hasParseError"),configurationOption:D.c.getEventModalState(e,"configurationOption"),hasSavedEvents:D.c.getHasUserSharedSavedEvents(e),loading:D.c.getEventModalState(e,"loading"),isEventLoading:D.c.getIsEventLoading(e),groupedSampleEvents:D.c.getGroupedSampleSharedEvents(e),templateEventId:D.c.getEventModalState(e,"templateEventId"),functionName:t}}),(function(e){return{dispatch:e}}))(Ln),!1);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var a=Hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vn(this,n)}}function Vn(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gn,Zn,Jn,Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(c,e);var t,n,r,o=Wn(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=o.call(this,e,t)).state={eventName:null,eventNameErrorMessage:null},n}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.showHelp,n=e.modalCreate,r=e.setEventIdToInvoke,a=e.templateEventId,i=e.configurationOption;t(),this.props.dispatch(D.a.updateShowPermissionError(!1)),this.props.dispatch(Object(M.b)("__key","event-modal")),n&&a&&(Object(W.S)("mandarinquat1")?r(A.f()):r(a));var o=y.WorkflowTags.testing,c=y.WorkflowTags.testEventConfiguration;y.panorama.logWorkflowEvent({tagPath:this.context.nextTag([o,c]),eventDetail:i})}},{key:"componentDidUpdate",value:function(e){this.props.modalCreate&&e.templateEventId!==this.props.templateEventId&&(Object(W.S)("mandarinquat1")?this.props.setEventIdToInvoke(A.f()):this.props.setEventIdToInvoke(this.props.templateEventId));var t=this.props,n=t.savedEventId,r=t.modalCreate,a=t.dirtyEventCode,i=t.eventIdToInvoke,o=t.setEventIdToInvoke;if(!r&&a&&Object(W.S)("mandarinquat1")&&n&&A.e(n)!==i&&o(A.e(n)),e.configurationOption!==this.props.configurationOption){var c=y.WorkflowTags.testing,s=y.WorkflowTags.testEventConfiguration;y.panorama.logWorkflowEvent({tagPath:this.context.nextTag([c,s]),eventDetail:this.props.configurationOption})}}},{key:"resetEventState",value:function(){this.setState({eventName:null,eventNameErrorMessage:null}),this.props.dispatch(D.a.updateEventModal({hasParseError:!1}))}},{key:"updateEventState",value:function(e){this.setState(e)}},{key:"saveSampleEvent",value:function(){this.props.configurationOption===h.P.CONFIGURATION_OPTION_CREATE?this.create():this.edit()}},{key:"create",value:function(){var e={eventNameErrorMessage:this.state.eventNameErrorMessage,dirtyEventCode:this.props.dirtyEventCode,codeForEventInDropdown:this.props.codeForEventInDropdown,checkEventName:this.checkEventName.bind(this),eventName:this.state.eventName,eventType:this.props.eventType,functionName:this.props.functionName,qualifier:this.props.qualifier,dispatch:this.props.dispatch,actions:D.a};A.a(e)&&this.updateEventState({eventName:this.state.eventName,eventNameErrorMessage:null})}},{key:"edit",value:function(){var e={eventName:this.props.savedEventId,dirtyEventCode:this.props.dirtyEventCode,codeForEventInDropdown:this.props.codeForEventInDropdown,functionName:this.props.functionName,qualifier:this.props.qualifier,savedSharedEvents:this.props.savedSharedEvents,dispatch:this.props.dispatch,actions:D.a};A.d(e)}},{key:"eventNameChanged",value:function(e){var t=e.detail.value;this.checkEventName(t)}},{key:"checkEventName",value:function(e){var t=A.i(e,this.props.allSavedTestEvents);return this.updateEventState({eventName:e,eventNameErrorMessage:t.message}),t}},{key:"testFunction",value:function(){Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD_INVOKE),this.props.dispatch(D.a.testWithSharedEvents(!0))}},{key:"delete",value:function(){var e={eventName:this.props.savedEventId,savedSharedEvents:this.props.savedSharedEvents,eventInline:!1,dispatch:this.props.dispatch,actions:D.a};A.c(e),this.resetEventState()}},{key:"render",value:function(){var e=this,t=this.delete.bind(this),n=this.props,r=n.codeForEventInDropdown,o=n.dirtyEventCode,c=n.error,s=n.eventType,l=n.hasParseError,u=n.isDeleteOpen,d=n.isEventLoading,f=n.isTestButtonDisabled,m=n.isInvoking,g=n.isSaving,v=n.loading,b=n.modalCreate,E=n.openDelete,O=n.savedEventId,w=n.savedEvents,S=n.savedSharedEvents,j=n.showExecutionResults,_=n.showPermissionError,k=n.tabLoading,T=v||d||l,C=S.find((function(e){return e.value===O})),P=s===h.P.TYPE_USER&&(null==w?void 0:w.size)>9,x=T||!o||o===r,N=this.saveSampleEvent.bind(this),I=!b&&C?"functionDetail.testEvents.shared.save.overwrite":"functionDetail.button.save",D=a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.header"});b&&(x=!!P);var A=a.a.createElement(he.a,{header:D},!b&&a.a.createElement(i.Button,{key:"delete",onClick:E,disabled:v||u,"data-analytics":y.WorkflowTags.delete},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.delete"})),a.a.createElement(i.Button,{key:"save",onClick:N,disabled:x,loading:g,"data-analytics":y.WorkflowTags.save},a.a.createElement(p.a,{id:I})),a.a.createElement(i.Button,{key:"invoke",variant:"primary",onClick:function(){return e.testFunction()},loading:m,disabled:f||l,"data-analytics":y.WorkflowTags.invoke,"data-testid":"testTabInvokeButton"},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.test"}))),M=l?a.a.createElement("div",{className:"awsui-util-mt-s"},a.a.createElement(z.default,{type:"error"},a.a.createElement(p.a,{id:"functionDetail.testEvents.modal.jsonParseError"}))):null;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dt.a,{className:j?"awsui-util-mb-l":""}),a.a.createElement(he.c,{id:"testEventContainer",header:A,tag:y.WorkflowTags.testing,loading:k,error:c},a.a.createElement(i.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement(R.b,{scope:"event-modal"}),_?Mn:null,M,a.a.createElement(zn,{eventName:this.state.eventName,eventNameChanged:this.eventNameChanged.bind(this),eventNameErrorMessage:this.state.eventNameErrorMessage,isInline:!1,onDelete:t,tag:y.WorkflowTags.testingTab,showJsonParserError:!1})))))}}])&&qn(t.prototype,n),r&&qn(t,r),c}(a.a.Component);Gn=Kn,Zn="contextType",Jn=J.TagContext,Zn in Gn?Object.defineProperty(Gn,Zn,{value:Jn,enumerable:!0,configurable:!0,writable:!0}):Gn[Zn]=Jn;var Qn=Object(d.F)(["testingSharedSource"])(Object(c.connect)((function(e,t){var n=t.loading,r=t.error,a=new W.i(Object(v.p)(e)||""),i=a.functionName,o=a.qualifier,c=Object(v.lb)(e,"testingSharedSource");return{savedEventId:D.c.getEventModalState(e,"savedEventId"),codeForEventInDropdown:D.c.getSharedCodeToShow(e),dirtyEventCode:D.c.getDirtyEventCode(e),hasParseError:D.c.getEventModalState(e,"hasParseError"),loading:D.c.getEventModalState(e,"loading"),error:null!=r?r:c.error,isSaving:D.c.getEventModalState(e,"isSaving"),isEventLoading:D.c.getIsEventLoading(e),isTestButtonDisabled:Object(v.J)(e),showExecutionResults:D.c.getShowExecutionResults(e),isInvoking:D.c.getIsInvoking(e),modalCreate:D.c.getEventModalState(e,"configurationOption")===h.P.CONFIGURATION_OPTION_CREATE,configurationOption:D.c.getEventModalState(e,"configurationOption"),tabLoading:null!=n?n:c.loading,templateEventId:D.c.getEventModalState(e,"templateEventId"),eventIdToInvoke:D.c.getEventIdToInvoke(e),eventTypeToInvoke:D.c.getEventTypeToInvoke(e),functionName:i,qualifier:o,allSavedTestEvents:D.c.getAllSavedEvents(e),eventType:D.c.getEventModalState(e,"eventType"),savedSharedEvents:D.c.getSavedSharedTests(e),savedEvents:D.c.getSavedEvents(e),showPermissionError:D.c.getShowPermissionError(e),isDeleteOpen:Object(B.isModalOpen)(e,sn.a)}}),(function(e){return{openDelete:function(){return e(Object(B.setModalOpen)(sn.a,!0))},showHelp:function(){return e(Object(it.m)("functionDesigner.tab.testing.helpContent"))},setEventIdToInvoke:function(t){return e(D.a.setEventIdToInvoke(t))},dispatch:e}}))(Kn)),Yn=n(92),Xn=n(841),$n=n.n(Xn),er=ot.c.getSelectedSidebarItem,tr=["items","sidebarId"];function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ar=function(e){var t=e.items,n=e.sidebarId,r=rr(e,tr),i=function(e){var t=Object(c.useDispatch)();return{selectedSidebarItem:Object(c.useSelector)(er).get(e),setSelectedSidebarItem:function(n){var r=n.detail;t(Object(it.p)(e,r.activeItemId))},resetSelectedSidebarItem:function(){t(Object(it.f)(e))}}}(n),o=i.selectedSidebarItem,s=i.setSelectedSidebarItem,l=i.resetSelectedSidebarItem;return a.a.useEffect((function(){Object(W.hb)(t,"id").includes(o)||l()}),[t,o]),a.a.createElement(pt,nr({activeItemId:o,items:t,onClick:s},r))};function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dr(e);if(t){var a=dr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(c,e);var t,n,r,i=lr(c);function c(){return or(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dlq,n=e.role,r=e.dlqArn,a=e.checkPermissions;t&&"None"!==t&&a(t,n,r)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dlq,r=t.role,a=t.dlqArn;r!==e.role&&n&&"None"!==n&&this.props.checkPermissions(n,r,a)}},{key:"getDlqError",value:function(){var e=this.props,t=e.dlq,n=e.hasDLQPermission,r=e.role,i=null;if("implicitDeny"===n){var c={service:t.toUpperCase(),subject:"sns"===t?"topic":"queue",permission:"sns"===t?"Publish":"SendMessage",region:Object(W.L)(),role:new W.h(r).roleName};i=a.a.createElement(o.a,{tagName:"p",id:"dlq.roleLink.html",values:c})}return i}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.dlq,r=e.dlqArn,i=e.error,o=e.loading,c=e.qualifier,s=e.maxEventAge,l=e.maxRetryAttempts,u=Math.floor(s/3600),d=Math.floor(s/60)%60,f=s%60,m=Object(W.S)("bananaslug")?[{key:a.a.createElement(p.a,{id:"editAsync.maxEventAge.field.label"}),value:a.a.createElement("div",null,a.a.createElement("span",{className:"awsui-util-pr-xs"},u),a.a.createElement("span",{className:"awsui-util-pr-s"},a.a.createElement(p.a,{id:"config.timeout.hour.label"})),a.a.createElement("span",{className:"awsui-util-pr-xs"},d),a.a.createElement("span",{className:"awsui-util-pr-s"},a.a.createElement(p.a,{id:"config.timeout.min.label"})),a.a.createElement("span",{className:"awsui-util-pr-xs"},f),a.a.createElement(p.a,{id:"config.timeout.sec.label"}))},{key:a.a.createElement(p.a,{id:"editAsync.maxRetryAttempts.field.label"}),value:l}]:[];m.push({key:a.a.createElement(p.a,{id:"editAsync.dlq.field.label"}),value:a.a.createElement(p.a,{id:"None"===n?"none":"editAsync.dlqOptions.".concat(n)})}),n&&"None"!==n&&m.push({key:a.a.createElement(p.a,{id:"editAsync.".concat(n,"Arn.field.label")}),value:new W.b(r).resource});var h=!c,g=!Object(W.S)("bananaslug")&&!h;return a.a.createElement(N.a,{id:"async",editPage:"async",loading:o,error:i,showInfoLink:!0,readonly:g},a.a.createElement(he.f,{flat:!0,columns:null!=t?t:2,items:m}))}}])&&cr(t.prototype,n),r&&cr(t,r),c}(a.a.Component),pr=Object(d.F)(["functionParser"])(Object(c.connect)((function(e,t){return{dlq:Object(v.N)(e,t.nodeId,"dlq"),dlqArn:Object(v.N)(e,t.nodeId,"dlqArn"),hasDLQPermission:Object(v.N)(e,t.nodeId,"hasDLQPermission"),maxEventAge:Object(v.N)(e,t.nodeId,"eventInvokeConfig.maxEventAge"),maxRetryAttempts:Object(v.N)(e,t.nodeId,"eventInvokeConfig.maxRetryAttempts"),role:Object(v.N)(e,t.nodeId,"role")}}),(function(e,t){return{checkPermissions:function(n,r,a){return e(Object(f.e)(n,t.nodeId,r,a))}}}))(fr)),mr=n(2205);var hr=Object(d.F)(["functionParser"])(Object(c.connect)((function(e,t){var n,r,a,i,o,c,s,l=null===(n=Object(v.L)(e,t.nodeId))||void 0===n?void 0:n.get("data");return{description:null!==(r=null==l?void 0:l.get("description"))&&void 0!==r?r:null,ephemeralStorage:null!==(a=null==l?void 0:l.get("ephemeralStorage"))&&void 0!==a?a:null,initCaching:null!==(i=null==l?void 0:l.get("initCaching"))&&void 0!==i?i:null,memory:null!==(o=null==l?void 0:l.get("memory"))&&void 0!==o?o:null,runtime:null!==(c=null==l?void 0:l.get("runtime"))&&void 0!==c?c:null,timeout:null!==(s=null==l?void 0:l.get("timeout"))&&void 0!==s?s:null}}),null)((function(e){var t=e.columns,n=void 0===t?1:t,r=e.description,i=e.ephemeralStorage,o=e.error,c=e.initCaching,s=e.loading,l=e.memory,u=e.readonly,d=e.runtime,f=e.timeout,m=Math.floor(f/60),h=f%60,g=[{key:a.a.createElement(p.a,{id:"config.description.label"}),value:r||"-"},{key:a.a.createElement(p.a,{id:"config.memory.label"}),value:a.a.createElement("span",null,a.a.createElement("span",{className:"awsui-util-pr-xs"},l),a.a.createElement(p.a,{id:"config.memory.size.label"}))},{key:a.a.createElement(p.a,{id:"config.timeout.label"}),value:a.a.createElement("span",null,a.a.createElement("span",{className:"awsui-util-pr-xs"},m),a.a.createElement("span",{className:"awsui-util-pr-s"},a.a.createElement(p.a,{id:"config.timeout.min.label"})),a.a.createElement("span",{className:"awsui-util-pr-xs"},h),a.a.createElement(p.a,{id:"config.timeout.sec.label"}))}];return Object(W.S)("tempo")&&g.splice(2,0,{key:a.a.createElement(p.a,{id:"config.ephemeralStorage.label"}),value:a.a.createElement("span",null,a.a.createElement("span",{className:"awsui-util-pr-xs"},i),a.a.createElement(p.a,{id:"config.ephemeralStorage.size.label"}))}),Object(W.S)("molasses")&&H.b.includes(d)&&g.push({key:a.a.createElement(p.a,{id:"config.initCaching.label"}),value:c}),a.a.createElement(N.a,{id:"generalConfiguration",helpMsgIdOverride:"basic",showInfoLink:!0,readonly:u,editPage:"basic-settings",loading:s,error:o},a.a.createElement(Ne,{task:"functionSource"},a.a.createElement(he.f,{flat:!0,items:g,columns:n}),Object(W.S)("spartan")&&a.a.createElement(mr.a,{alertId:"basicSettings",alertMargin:"awsui-util-mt-xl"})))})));function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wr(e);if(t){var a=wr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr=[{id:"source",header:function(){return a.a.createElement(p.a,{id:"editDestination.source.field.label"})},cell:function(e){return a.a.createElement(p.a,{id:"destination.source.".concat(e.source)})}},{id:"sourceArn",header:function(){return a.a.createElement(p.a,{id:"editDestination.esmId.field.label"})},cell:function(e){return e.sourceArn?new W.b(e.sourceArn).resource:"-"}},{id:"condition",header:function(){return a.a.createElement(p.a,{id:"editDestination.condition.field.label"})},cell:function(e){return a.a.createElement(p.a,{id:"destination.condition.".concat(e.condition)})}},{id:"destArn",header:function(){return a.a.createElement(p.a,{id:"editDestination.destArn.field.label"})},cell:function(e){return e.destArn}}],_r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(c,e);var t,n,r,o=yr(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Sr(Or(n=o.call(this,e,t)),"getMessage",void 0),Sr(Or(n),"onSelectionChange",(function(e){return n.setState({selectedItems:e.detail.selectedItems})})),n.state={selectedItems:[]},n.getMessage=function(e){return G.intl.formatMessage({id:e})},n}return t=c,(n=[{key:"componentWillUnmount",value:function(){this.props.clearFilteringText()}},{key:"onDelete",value:function(){var e=this.state.selectedItems[0],t=e.source,n=e.condition,r=e.id;this.props.deleteDestination(t,n,r)}},{key:"onEdit",value:function(){var e=this.props,t=e.func,n=e.qualifier,r=this.state.selectedItems[0],a=r.source,i=r.condition,o=r.id,c=a===h.m?"condition=".concat(i,"&uuid=").concat(o):"condition=".concat(i);this.props.navigateToEditDestination(t,n,c)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.addDestinationButton,o=n.error,c=n.loading,s=n.isDestinationModalOpen,l=void 0!==s&&s,u=n.isDeleting,d=void 0!==u&&u,f=n.nodes,m=n.setDestinationModalStatus,h=n.title,g=this.state.selectedItems[0],v=a.a.createElement(he.a,{header:null!=h?h:f.get(0).get("name"),info:"editDestination.section.destination.header.info"},a.a.createElement(i.Button,{disabled:0===this.state.selectedItems.length,onClick:function(){return m(!0)}},a.a.createElement(p.a,{id:"remove"})),a.a.createElement(i.Button,{disabled:0===this.state.selectedItems.length,onClick:this.onEdit.bind(this)},a.a.createElement(p.a,{id:"edit"})),null!=r?r:null),b=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:function(){return m(!1)}},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",loading:d,onClick:this.onDelete.bind(this)},a.a.createElement(p.a,{id:"remove"})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Table,{id:"destination-table",columnDefinitions:jr,items:f.toJS(),loading:!!c,header:v,features:["filtering","selection"],noMatch:a.a.createElement(he.d,{id:"functionDesigner.destinationsSection.noMatch",onClick:this.props.clearFilteringText}),empty:o?a.a.createElement(he.b,{error:o}):a.a.createElement(he.d,{id:"destinations.table.noItems.empty",noButton:!r,button:r})},a.a.createElement(i.TableFiltering,{filteringFields:["name","condition","sourceArn","destArn"],filteringText:null!==(e=this.props.filteringText)&&void 0!==e?e:"",onFilteringChange:function(e){var n=e.detail;return t.props.setFilteringText(n.filteringText)},filteringPlaceholder:G.intl.formatMessage({id:"functionDesigner.destinationsSection.filter.placeholder"}),filteringCountTextFunction:he.j}),a.a.createElement(i.TableSelection,{selectionType:"single",trackBy:"id",selectedItems:this.state.selectedItems,onSelectionChange:this.onSelectionChange})),a.a.createElement(i.Modal,{expandToFit:!0,size:"large",header:a.a.createElement(p.a,{id:"destination.modal.header"}),footer:b,visible:l,onDismiss:function(){return m(!1)}},g?a.a.createElement(a.a.Fragment,null,a.a.createElement(R.b,{scope:"deleteDestinationModal"}),a.a.createElement(p.a,{id:"destination.modal.message"}),a.a.createElement("ul",null,["source","condition","destArn"].map((function(e){return a.a.createElement("li",{key:e},a.a.createElement(p.a,{id:"separator",values:{key:t.getMessage("editDestination.".concat(e,".field.label")),value:"destArn"===e?g.destArn:t.getMessage("destination.".concat(e,".").concat(g[e]))}}))}))),a.a.createElement(p.a,{id:"destination.modal.checkMessage"})):null))}}])&&vr(t.prototype,n),r&&vr(t,r),c}(a.a.Component),kr=Object(c.connect)((function(e){return{func:Object(v.z)(e),qualifier:Object(v.S)(e),isDeleting:Object(B.isModalLoading)(e,"destination"),isDestinationModalOpen:Object(B.isModalOpen)(e,"destination"),filteringText:Object(v.i)(e)}}),(function(e){return{deleteDestination:function(t,n,r){return e(Object(f.k)(t,n,r))},navigateToEditDestination:function(t,n,r){e(Object(f.J)(!0)),e(Object(g.f)(t,n,"destination",r,!1))},setDestinationModalStatus:function(t){return e(Object(B.setModalOpen)("destination",t))},setFilteringText:function(t){return e(Object(f.H)(t))},clearFilteringText:function(){return e(Object(f.H)(""))}}}))(_r),Tr=function(){var e=Object(g.j)("destination").goToCreate;return a.a.createElement(i.Button,{id:"add-destination",onClick:function(){e(),Object(y.logEvent)(y.EVENT_NAMES.DESTINATION_ADD_CARD)}},a.a.createElement(p.a,{id:"destination.create.title"}))},Cr=Object(d.F)(["destinationParser"])(Object(c.connect)((function(e){return{destinationNodes:Object(v.O)(e,"destination")}}),null)((function(e){var t=e.destinationNodes,n=e.error,r=e.loading;return a.a.createElement(kr,{addDestinationButton:a.a.createElement(Tr,null),error:n,loading:r,nodes:t,title:G.intl.formatMessage({id:"functionDesigner.configureTab.destinations.header"})})})));function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr={creating:["loading","Creating"],available:["success","Available"],modifying:["pending","Modifying"],deleting:["loading","Deleting"]},Ar=function(e){var t,n,r,i,o,c,s;return{name:a.a.createElement($e.d,{href:Object(W.v)("rds","proxy",e.get("dbproxyName"))},e.get("dbproxyName")),status:(r=e.get("status"),o=Nr(null!==(i=Dr[r])&&void 0!==i?i:["error",r],2),c=o[0],s=o[1],a.a.createElement(he.i,{status:c},s)),database:e.get("engineFamily"),endpoint:e.get("endpoint"),iam:null===(t=e.get("auth"))||void 0===t||null===(n=t.get(0))||void 0===n?void 0:n.get("iamauth"),arn:e.get("dbproxyArn")}},Rr=["name","status","database","iam"].map((function(e){return{id:e,header:function(){return a.a.createElement(p.a,{id:"databaseProxy.header.".concat(e)})},cell:function(t){return t[e]}}})),Mr=Object(d.F)(["functionParser","databaseProxySource","vpcSource","urlParser"])(Object(c.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({databaseProxies:Object(v.lb)(e,"databaseProxySource"),vpc:Object(v.lb)(e,"vpcSource"),functionName:Object(je.b)(e).params.functionName,runtime:Object(v.N)(e,t.nodeId,"runtime")},t)}))((function(e){var t,n,r,o=e.databaseProxies,c=e.error,s=e.functionName,l=e.vpc,u=(null==o?void 0:o.error)?[]:null==o||null===(t=o.result)||void 0===t?void 0:t.toArray().map(Ar),d="#/add/database-proxy?function=".concat(s),f=a.a.createElement(he.a,{header:a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{id:"functionDetail.sections.databaseProxy.title"}),a.a.createElement(be.a,{path:"addDatabaseProxy.helpContent"}))},a.a.createElement(i.Button,{href:d},a.a.createElement(p.a,{id:"databaseProxy.button.add"})));return null!==(n=o.result)&&void 0!==n&&n.size&&!l.result&&(r=a.a.createElement("div",{className:"awsui-util-mv-s"},a.a.createElement(i.Alert,{dismissible:!0},a.a.createElement(p.a,{id:"databaseProxy.section.missingVpc.title",tagName:"b"}),a.a.createElement("p",null,a.a.createElement(p.a,{id:"databaseProxy.section.missingVpc.description"}),a.a.createElement($e.c,{href:Object(W.w)("configuration-database.html")}))))),a.a.createElement("div",{className:"awsui-util-mb-l",id:"dbProxySection"},r,a.a.createElement(i.Table,{columnDefinitions:Rr,items:u||[],loading:null==o?void 0:o.loading,header:f,empty:c?a.a.createElement(he.b,{error:c}):a.a.createElement(he.d,{id:"databaseProxy.empty",href:d})}))})));function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br=["key","value"].map((function(e){return{id:e,header:a.a.createElement(p.a,{id:"environmentVariables.attributeEditor.".concat(e,".label")}),cell:function(t){return t[e]}}}));var qr=Object(d.F)(["functionParser","urlParser"])(Object(c.connect)((function(e,t){var n;return{envVars:null!==(n=Object(v.l)(e,t.nodeId))&&void 0!==n?n:Object(Yn.List)(),envVarsError:Object(v.N)(e,t.nodeId,"envVarsError"),kmsKeyArn:Object(v.N)(e,t.nodeId,"kmsKeyArn"),functionName:Object(v.z)(e),qualifier:Object(v.S)(e)}}),(function(e){return{navigateToEdit:function(t,n){e(Object(f.J)(!0)),e(Object(g.f)(t,n,"environment-variables"))}}}),(function(e,t,n){return Lr(Lr(Lr(Lr({},n),e),t),{},{navigateToEdit:function(){return t.navigateToEdit(e.functionName,e.qualifier)}})}))((function(e){var t=e.envVars,n=e.envVarsError,r=e.error,c=e.kmsKeyArn,s=e.loading,l=e.navigateToEdit,u=e.readonly,d=a.a.createElement(i.Table,{variant:"borderless",columnDefinitions:Br,items:t.toJS(),empty:a.a.createElement(he.d,{id:"environmentVariables.empty",noButton:u,onClick:l,"data-analytics":y.WorkflowTags.edit})}),f=t.isEmpty()?null:a.a.createElement(o.a,{id:"functionDesigner.section.environmentVariables.kmsKeyArn.".concat(c?"customer":"default"),values:{keyId:null==c?void 0:c.split("/")[1]}});return a.a.createElement(N.a,{id:"envVars",editPage:"environment-variables",error:r,counter:" (".concat(t.size,")"),description:f,loading:s,readonly:u,noGutters:!0},n&&a.a.createElement(i.Alert,{type:"error"},n.get("message")),d)})));function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr=function(e){return a.a.createElement($e.d,{href:Object(W.v)("efs","accessPoint",e)},e)},Jr={creating:["in-progress","Creating"],available:["success","Available"],updating:["in-progress","Updating"],deleting:["pending","Deleting"],deleted:["stopped","Deleted"]},Kr=function(e){var t,n=Hr(null!==(t=Jr[e])&&void 0!==t?t:["error",e],2),r=n[0],i=n[1];return a.a.createElement(he.i,{status:r},i)};var Qr=Object(d.F)(["elasticFileSystemSource","vpcSource","urlParser"])(Object(c.connect)((function(e){return{fileSystems:Object(v.U)(e,"elasticFileSystemSource"),vpc:Object(v.U)(e,"vpcSource"),functionName:Object(je.b)(e).params.functionName,isDeleting:Object(B.isModalLoading)(e,"elasticFileSystem"),isEfsModalOpen:Object(B.isModalOpen)(e,"elasticFileSystem"),qualifier:Object(v.S)(e)}}),(function(e){return{navigateTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;Object(y.logEvent)(y.EVENT_NAMES.EFS_CLICK(n?"a":"e")),e(Object(f.J)(!0)),e(Object(g.f)(t,r,"elastic-file-system",null,n))},onDelete:function(t){return e(Object(f.l)(t))},setModalStatus:function(t){return e(Object(B.setModalOpen)("elasticFileSystem",t))}}}),(function(e,t,n){return Wr(Wr(Wr(Wr({},n),e),t),{},{navigateToEdit:function(n){return t.navigateTo(e.functionName,!1,n)},navigateToCreate:function(n){return t.navigateTo(e.functionName,!0,n)},onDelete:function(){Object(y.logEvent)(y.EVENT_NAMES.EFS_CLICK("raprv")),t.onDelete(e.functionName)},onCloseModal:function(){Object(y.logEvent)(y.EVENT_NAMES.EFS_CLICK("clrem")),t.setModalStatus(!1)},onOpenModal:function(){Object(y.logEvent)(y.EVENT_NAMES.EFS_CLICK("r")),t.setModalStatus(!0)}})}))((function(e){var t,n,r,o,c,s,l,u,d,f=e.error,m=e.fileSystems,h=e.isDeleting,g=e.isEfsModalOpen,v=e.loading,b=e.navigateToEdit,y=e.navigateToCreate,E=e.onDelete,O=e.onCloseModal,w=e.onOpenModal,S=e.qualifier,j=e.readonly,_=e.vpc,k=!(null!=m&&m.length),T=m instanceof Error,C=k?{}:m[0],P=null!=_?_:null,x=a.a.createElement(me.default,{onClick:function(){return y(S)}},a.a.createElement(p.a,{id:"elasticFileSystem.button.add"})),N=a.a.createElement(me.default,{onClick:function(){return b(S)}},a.a.createElement(p.a,{id:"elasticFileSystem.button.edit"})),I=a.a.createElement(me.default,{onClick:w},a.a.createElement(p.a,{id:"elasticFileSystem.button.remove"})),D=null;j||(D=k&&T?I:k&&!T?x:a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},N,I));var A,R=a.a.createElement(Sn.default,{actions:D,info:a.a.createElement(be.a,{path:"editElasticFileSystem.helpContent"})},a.a.createElement(p.a,{id:"functionDetail.sections.elasticFileSystem.title"})),M=null===(t=W.f.fromId(null==C||null===(n=C.fileSystem)||void 0===n?void 0:n.fileSystemId))||void 0===t?void 0:t.arn,F=a.a.createElement(a.a.Fragment,null,a.a.createElement(he.f,{columns:3,flat:!0,variant:"text-grid",items:[{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.id"}),value:null!=C&&null!==(r=C.fileSystem)&&void 0!==r&&r.fileSystemId?(A=C.fileSystem.fileSystemId,a.a.createElement($e.d,{href:Object(W.v)("efs","fileSystem",A)},A)):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.state"}),value:null!=C&&null!==(o=C.fileSystem)&&void 0!==o&&o.lifeCycleState?Kr(C.fileSystem.lifeCycleState):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.arn"}),value:null!=C&&null!==(c=C.fileSystem)&&void 0!==c&&c.fileSystemId?a.a.createElement(Fe.a,{text:M,value:M}):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.accessPoint.id"}),value:null!=C&&null!==(s=C.accessPoint)&&void 0!==s&&s.accessPointId?Zr(C.accessPoint.accessPointId):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.status"}),value:null!=C&&null!==(l=C.accessPoint)&&void 0!==l&&l.lifeCycleState?Kr(C.accessPoint.lifeCycleState):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.accessPoint.arn"}),value:null!=C&&null!==(u=C.accessPoint)&&void 0!==u&&u.accessPointArn?a.a.createElement(Fe.a,{text:C.accessPoint.accessPointArn,value:C.accessPoint.accessPointArn}):"-"},{key:a.a.createElement(p.a,{id:"elasticFileSystem.detail.localPath"}),value:null!==(d=null==C?void 0:C.localMountPath)&&void 0!==d?d:"-"}]})),z=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:O},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",loading:h,onClick:E},a.a.createElement(p.a,{id:"remove"}))),B=null;return T||(B=v?a.a.createElement(L.default,{size:"large"}):k&&!P?a.a.createElement(he.d,{id:"elasticFileSystem.vpc.empty",noButton:!0}):k&&P?a.a.createElement(he.d,{id:"elasticFileSystem.empty",onClick:function(){return y(S)}}):F),a.a.createElement(a.a.Fragment,null,a.a.createElement(he.c,{header:R},a.a.createElement(he.b,{error:f}),B),a.a.createElement(i.Modal,{expandToFit:!0,size:"medium",header:a.a.createElement(p.a,{id:"elasticFileSystem.modal.header"}),footer:z,visible:g,onDismiss:O},a.a.createElement(p.a,{id:"elasticFileSystem.modal.message"})))})));function Yr(e){var t=e.count,n=e.onEdit,r=e.showDelete,o=e.selectedPermission,c=a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{id:"resourcePolicy.tableHeader"})," ",a.a.createElement("span",{className:"awsui-util-header-counter"},a.a.createElement(p.a,{id:"wrapper",values:{value:t}})));return a.a.createElement(he.a,{header:c},a.a.createElement(i.Button,{id:"resourcePolicyEditButton",onClick:function(){return n(!1)},disabled:!o},a.a.createElement(p.a,{id:"edit"})),a.a.createElement(i.Button,{id:"resourcePolicyDeleteButton",onClick:function(){return r(!0)},disabled:!o},a.a.createElement(p.a,{id:"resourcePolicy.buttons.delete"})),a.a.createElement(i.Button,{variant:"primary",id:"resourcePolicyAddButton",onClick:function(){return n(!0)}},a.a.createElement(p.a,{id:"resourcePolicy.buttons.add"})))}var Xr=n(2207),$r=n(2132);function ea(e){var t=e.items,n=e.showDelete,r=e.openDetailsModal,o=e.onSelectionChange,c=e.noData,s=e.onEdit,l=e.selectedPermission,u=e.loading,d=["sid","principal","action"].map((function(e){return{id:e,field:e}})),f=[{id:"sid",header:function(){return a.a.createElement(p.a,{id:"resourcePolicy.sid"})},cell:function(e){return a.a.createElement("a",{href:"#",onClick:function(t){return r(t,e)}},e.sid)}},{id:"principal",header:function(){return a.a.createElement(p.a,{id:"resourcePolicy.principal"})},cell:function(e){return e.principal}},At.d.includes("pumpkin")&&{id:"principalOrgID",header:function(){return a.a.createElement(p.a,{id:"editResourcePolicy.principalOrgID.field.label"})},cell:function(e){return e.principalOrgID||"-"}},{id:"condition",header:function(){return a.a.createElement(p.a,{id:"resourcePolicy.condition"})},cell:function(e){return e.hasConditions?Object.keys(e.conditions).join(", "):a.a.createElement(p.a,{id:"resourcePolicy.noConditions"})}},{id:"action",header:function(){return a.a.createElement(p.a,{id:"resourcePolicy.action"})},cell:function(e){return e.action}}];At.d.includes("pumpkin")&&d.push({id:"principalOrgID",field:"principalOrgID"});var m=Object(W.L)(),h=$r.b.map((function(e){return $r.a[e.value].principal.replace("<region>",m)}));h.pop();var g=[{groupValuesLabel:G.intl.formatMessage({id:"resourcePolicy.principal"}),propertyKey:"principal",propertyLabel:G.intl.formatMessage({id:"resourcePolicy.principal"}),values:h},{groupValuesLabel:G.intl.formatMessage({id:"resourcePolicy.action"}),propertyKey:"action",propertyLabel:G.intl.formatMessage({id:"resourcePolicy.action"}),values:Xr.a.map((function(e){return e.value}))}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Table,{className:"resourcePolicyPermissionsTable",columnDefinitions:f,header:a.a.createElement(Yr,{count:t.length,onEdit:s,showDelete:n,selectedPermission:l}),items:t,empty:c(),variant:"borderless",loading:u},a.a.createElement(i.TablePagination,{pageSize:5}),a.a.createElement(i.TableSorting,{sortingColumn:"principal",sortableColumns:d}),a.a.createElement(i.TableSelection,{selectionType:"single",onSelectionChange:o,trackBy:"sid"}),a.a.createElement(i.TablePropertyFiltering,{allowFreeTextFiltering:!0,filteringOptions:g,groupValuesText:G.intl.formatMessage({id:"groupValuesText"}),groupPropertiesText:G.intl.formatMessage({id:"groupPropertiesText"}),placeholder:G.intl.formatMessage({id:"resourcePolicy.filterPlaceholder"}),clearFiltersText:G.intl.formatMessage({id:"clearFiltersText"}),operationAndText:G.intl.formatMessage({id:"operationAndText"}),operationNotAndText:G.intl.formatMessage({id:"operationNotAndText"}),operationOrText:G.intl.formatMessage({id:"operationOrText"}),operationNotOrText:G.intl.formatMessage({id:"operationNotOrText"}),filteringCountTextFunction:he.j})))}var ta=n(2045);function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var a=da(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ua(this,n)}}function ua(e,t){if(t&&("object"===na(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(l,e);var t,n,r,o,c,s=la(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={deleteModalOpen:!1,detailsModalOpen:!1,selectedPermission:null,detailsPermission:null,removePermissionLoading:!1},t}return t=l,(n=[{key:"onDelete",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showDelete(!1),t=this.props.functionName,n=this.props.qualifier,r=this.state.selectedPermission.sid,e.prev=4,this.setState({removePermissionLoading:!0}),e.next=8,V.a.removePermission({functionName:t,qualifier:n,statementId:r});case 8:this.props.refresh(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.props.alert(e.t0.message);case 14:return e.prev=14,this.setState({selectedPermission:null,removePermissionLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){oa(a,n,r,i,c,"next",e)}function c(e){oa(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return c.apply(this,arguments)})},{key:"onSelectionChange",value:function(e){e.detail.selectedItems.length&&this.setState({selectedPermission:e.detail.selectedItems[0]});var t=this.state.selectedPermission,n=t.isAccount?"":this.getServiceKey(t.principal);this.props.updateForm(t,n)}},{key:"onEdit",value:function(e){this.props.navigateToEdit(this.props.functionName,this.props.qualifier,e)}},{key:"getServiceKey",value:function(e){var t=e.split(".")[0];return t in $r.a?t:"placeholder"}},{key:"showDelete",value:function(e){this.setState({deleteModalOpen:e})}},{key:"showDetails",value:function(e,t){if(this.setState({detailsModalOpen:e,detailsPermission:t}),e){var n=t.isAccount?"":this.getServiceKey(t.principal);this.props.updateForm(t,n)}}},{key:"openDetailsModal",value:function(e,t){e.preventDefault(),this.showDetails(!0,t)}},{key:"noData",value:function(){var e=this;return a.a.createElement(he.d,{id:"resourcePolicy.empty",noDescription:!0,onClick:function(){return e.onEdit(!0)}})}},{key:"detailsContent",value:function(e){return e?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"awsui-util-spacing-v-s"},a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},"Statement ID"),a.a.createElement("div",null,e.sid)),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},"Principal"),a.a.createElement("div",null,e.principal)),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},"Effect"),a.a.createElement("div",null,e.effect)),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},"Action"),a.a.createElement("div",null,e.action)),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-label"},"Conditions"),e.hasConditions?a.a.createElement("pre",null,JSON.stringify(e.conditions,null,1)):a.a.createElement(p.a,{id:"resourcePolicy.noConditions"})))):null}},{key:"render",value:function(){var e,t,n,r=this,o=this.props.loading||this.state.removePermissionLoading,c=a.a.createElement(p.a,{id:"modal.policy.delete.title"}),s=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:function(){return r.showDelete(!1)}},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(i.Button,{variant:"primary",onClick:this.onDelete.bind(this)},a.a.createElement(p.a,{id:"delete"}))),l=a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{id:"modal.policy.delete.warning"}),a.a.createElement(i.ExpandableSection,{className:"awsui-util-mt-m",header:a.a.createElement(p.a,{id:"modal.policy.delete.expandableTitle"})},this.detailsContent(this.state.selectedPermission))),u=a.a.createElement(p.a,{id:"modal.policy.details.title"}),d=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:function(){return r.showDetails(!1)}},a.a.createElement(p.a,{id:"close"}))),f=a.a.createElement("div",{className:"awsui-util-spacing-v-s"},this.detailsContent(this.state.detailsPermission),a.a.createElement(i.Button,{onClick:function(){return r.onEdit(!1)}},a.a.createElement(p.a,{id:"edit"}))),m=a.a.createElement(he.a,{header:a.a.createElement(p.a,{id:"functionDesigner.tab.permissions.resourcePolicy.title"}),info:"functionDesigner.tab.permissions.resourcePolicy.info"},a.a.createElement(i.Button,{id:"viewResourcePolicy",onClick:function(){return r.props.openPolicyModal(!0)},disabled:o||!!this.props.error},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},o&&a.a.createElement(L.default,null),a.a.createElement(p.a,{id:"functionDesigner.tab.permissions.resourcePolicy.viewJson"}))));return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Modal,{size:"large",id:"permissionDeleteModal",header:c,footer:s,visible:this.state.deleteModalOpen,onDismiss:function(){return r.showDelete(!1)},expandToFit:!0},l),a.a.createElement(i.Modal,{size:"large",id:"permissionDetailsModal",header:u,footer:d,visible:this.state.detailsModalOpen,onDismiss:function(){return r.showDetails(!1)},expandToFit:!0},f),a.a.createElement(he.c,{id:"resourcePolicySection",header:m,noGutters:!0,error:this.props.error},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement(i.ColumnLayout,{columns:1,variant:"text-grid",className:"awsui-util-ph-l awsui-util-pb-l awsui-util-pt-m"},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement("div",{className:"awsui-util-spacing-v-s"},a.a.createElement(p.a,{id:"functionDesigner.tab.permissions.resourcePolicy.description"}))))),a.a.createElement(ea,{items:null!==(e=null===(t=this.props.result)||void 0===t||null===(n=t.toJS())||void 0===n?void 0:n.statements)&&void 0!==e?e:[],showDelete:this.showDelete.bind(this),openDetailsModal:this.openDetailsModal.bind(this),onSelectionChange:this.onSelectionChange.bind(this),noData:this.noData.bind(this),onEdit:this.onEdit.bind(this),selectedPermission:this.state.selectedPermission,loading:o})))}}])&&ca(t.prototype,n),r&&ca(t,r),l}(a.a.Component),pa=Object(d.F)(["urlParser","relationParser","resourcePolicyParser"])(Object(c.connect)((function(e,t){return aa(aa({},Object(v.lb)(e,"resourcePolicyParser")),{},{functionName:Object(v.z)(e),qualifier:Object(v.S)(e)},t)}),(function(e){return{alert:function(t){return e(Object(M.d)({message:t}))},navigateToEdit:function(t,n,r){return e(Object(g.f)(t,n,"resource-policy",null,r))},refresh:function(){return e(Object(f.x)(["resourcePolicySource","resourcePolicyParser","vertexSource","relationParser"]))},updateForm:function(t,n){var r,a,i,o,c,s,l,u,d=t.isAccount?"account":"service";e(Object(q.setFieldValue)("editResourcePolicy","source",t.action===ta.a.ACTION?"functionUrl":d)),e(Object(q.setFieldValue)("editResourcePolicy","arn",t.isAccount?t.principal:"")),e(Object(q.setFieldValue)("editResourcePolicy","service",t.isAccount?"":n)),e(Object(q.setFieldValue)("editResourcePolicy","principal",t.principal)),e(Object(q.setFieldValue)("editResourcePolicy","principalOrgID",t.principalOrgID)),e(Object(q.setFieldValue)("editResourcePolicy","statementId",t.sid)),e(Object(q.setFieldValue)("editResourcePolicy","action",t.action)),e(Object(q.setFieldValue)("editResourcePolicy","sourceAccount",null===(r=Object(Yn.fromJS)(t.conditions))||void 0===r||null===(a=r.get("StringEquals",null))||void 0===a?void 0:a.get("AWS:SourceAccount",null))),e(Object(q.setFieldValue)("editResourcePolicy","sourceArn",null===(i=Object(Yn.fromJS)(t.conditions))||void 0===i||null===(o=i.get("ArnLike",null))||void 0===o?void 0:o.get("AWS:SourceArn",null))),e(Object(q.setFieldValue)("editResourcePolicy","eventSourceToken",null===(c=Object(Yn.fromJS)(t.conditions))||void 0===c||null===(s=c.get("StringEquals",null))||void 0===s?void 0:s.get("lambda:EventSourceToken",null))),e(Object(q.setFieldValue)("editResourcePolicy","authType",null===(l=Object(Yn.fromJS)(t.conditions))||void 0===l||null===(u=l.get("StringEquals",null))||void 0===u?void 0:u.get("lambda:FunctionUrlAuthType",null))),e(Object(q.setFieldValue)("editResourcePolicy","urlStatementId",t.sid)),e(Object(q.setFieldValue)("editResourcePolicy","urlPrincipal",t.principal))}}}))(fa));function ma(e){var t=e.atom,n=e.type;return"*"===t?a.a.createElement(p.a,{tagName:"b",id:"functionDesigner.node.resource.".concat(n,".all")}):a.a.createElement("span",null,t)}function ha(e){var t=e.statement,n=e.other,r=t.get("effect"),i=a.a.createElement(ma,{atom:t.get(n),type:n});return a.a.createElement("span",{className:st()({"awsui-util-status-negative":"Deny"===r})},a.a.createElement(p.a,{id:"separator",values:{key:r,value:i}}))}var ga=function(e,t){return[{id:e,header:function(){return a.a.createElement(p.a,{id:"functionDesigner.node.resource.focus.".concat(e)})},cell:function(t){return a.a.createElement(ma,{atom:t[0],type:e})}},{id:t,header:function(){return a.a.createElement(p.a,{id:"functionDesigner.node.resource.other.".concat(e)})},cell:function(e){return a.a.createElement("ul",null,e[1].map((function(e,n){return a.a.createElement("li",{key:n},a.a.createElement(ha,{statement:e,other:t}))})))}}]};function va(e){var t=e.statements,n=e.focus,r="action"===n?"resource":"action",o=t.groupBy((function(e){return e.get(n)})).map((function(e){return e.map((function(e){return e.delete("source")}))})).map(Yn.Set).entrySeq().toArray();return a.a.createElement(i.Table,{variant:"borderless",columnDefinitions:ga(n,r),items:o})}function ba(e){var t=e.source,n={name:t.get("policyName"),index:t.get("index")};return a.a.createElement(p.a,{id:"functionDesigner.node.resource.source.".concat(t.get("policyType")),values:n})}var ya=function(e){var t=e.nodes,n=e.bare,r=t.get(0),o=r.getIn(["data","statements"]),c=["action","resource"].map((function(e){return{id:e,label:function(){return a.a.createElement(p.a,{id:"functionDesigner.node.resource.tab.".concat(e)})},content:a.a.createElement(va,{statements:o,focus:e})}})),s=o.map((function(e){return e.get("source")})).toSet(),l=r.get("name"),u="*"===l?a.a.createElement(p.a,{id:"functionDesigner.node.resource.all"}):l,d=a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{tagName:"div",id:"functionDesigner.node.resource.blurb"}),a.a.createElement(i.Tabs,{id:"resourceTabs",tabs:c,activeTabId:"resource"}),a.a.createElement(i.Alert,null,a.a.createElement(p.a,{id:"functionDesigner.node.resource.source.blurb"}),a.a.createElement("ul",null,s.map((function(e,t){return a.a.createElement("li",{key:t,className:"awsui-util-ml-l"},a.a.createElement(ba,{source:e}))})))));return n?d:a.a.createElement("div",{className:"awsui-util-container awsui-util-no-gutters"},a.a.createElement("div",{className:"awsui-util-container-header"},u),a.a.createElement("div",{className:"awsui-util-clearfix"},d))};function Ea(){return a.a.createElement(N.a,{id:"auditing"},a.a.createElement(o.a,{tagName:"p",id:"functionDetail.sections.auditing.blurb"}))}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ja=Object(d.F)(["functionSource"])(Object(c.connect)((function(e,t){return wa(wa({functionArn:Object(v.p)(e)},Object(v.lb)(e,"functionSource")),t)}))((function(e){var t,n=e.functionArn,r=e.loading,i=e.error,o=e.result;if(!r&&!i){var c=new W.h(o.get("role")).roleName,s={key:a.a.createElement(p.a,{id:"role.name.label"}),value:a.a.createElement($e.d,{href:"/iam/home#/roles/".concat(c,"?section=permissions")},c)};t=a.a.createElement(he.f,{flat:!0,items:[s]})}var l=!0;return n&&(l=!!new W.i(n).qualifier),a.a.createElement(N.a,{id:"role",editPage:"basic-settings",readonly:l,loading:r,error:i},t)})));function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xa(e);if(t){var a=xa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pa(this,n)}}function Pa(e,t){if(t&&("object"===_a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Da=Object(c.connect)((function(e){return{executionRole:Object(v.U)(e,"executionRoleSource"),resourcesLoading:!Object(v.a)(e,"resource"),resources:Object(v.O)(e,"resource")}}))((function(e){var t=e.executionRole,n=e.resourcesLoading,c=e.resources;if(n)return a.a.createElement(L.default,{size:"large"});if(c.isEmpty())return a.a.createElement("div",{className:"resource-node awsui-util-mt-m"},a.a.createElement(o.a,{id:"functionDesigner.permissionsTab.noResources"}));var s=c.getIn([0,"data","service","name"]),l=Na(Object(r.useState)(s),2),u=l[0],d=l[1],f=c.map((function(e){var t=e.getIn(["data","service","name"]),n=e.getIn(["data","statements"]);return{id:t,label:"*"===t?G.intl.formatMessage({id:"functionDesigner.node.resource.all"}):t,description:G.intl.formatMessage({id:"functionDesigner.permissionsTab.resource.description"},{actions:n.map((function(e){return e.get("action")})).toSet().size,resources:n.map((function(e){return e.get("resource")})).toSet().size}),iconUrl:e.getIn(["data","service","icon"])}})).toArray(),p=f.find((function(e){return e.id===u}));return a.a.createElement(a.a.Fragment,null,(null==t?void 0:t.partial)&&a.a.createElement(i.Alert,{className:"awsui-util-mb-m"},a.a.createElement(o.a,{id:"functionDesigner.permissionsTab.role.partial",values:{roleName:t.roleName}})),a.a.createElement(i.Select,{filteringType:"auto",triggerVariant:"option",options:f,selectedOption:p,onChange:function(e){return d(e.detail.selectedOption.id)}}),a.a.createElement("div",{className:"resource-node awsui-util-mt-m"},a.a.createElement(ya,{bare:!0,nodes:c.filter((function(e){return e.getIn(["data","service","name"])===u}))})))})),Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(s,e);var t,n,r,c=Ca(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={roleModalOpen:!1,policyModalOpen:!1},t}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.showHelp()}},{key:"setRoleModalOpen",value:function(e){this.setState({roleModalOpen:e})}},{key:"setPolicyModalOpen",value:function(e){this.setState({policyModalOpen:e})}},{key:"render",value:function(){var e,t,n=this;if(this.props.resourcePolicyLoading)e=a.a.createElement(L.default,{size:"large"});else if(this.props.resourcePolicyFailed)e=a.a.createElement(i.Alert,{type:"warning"},this.props.resourcePolicy.message);else if(this.props.resourcePolicy){var r=JSON.stringify(this.props.resourcePolicy,null,2);e=a.a.createElement(It.a,{id:"resourcePolicy",mode:"json",readOnly:!0,value:r})}else e=a.a.createElement(o.a,{tagName:"p",id:"modal.policy.empty"});if(this.props.executionRoleLoading||!this.props.executionRole)t=a.a.createElement(L.default,{size:"large"});else if(this.props.executionRoleFailed)t=a.a.createElement(i.Alert,{type:"warning"},this.props.executionRole.message);else{var c=JSON.stringify(this.props.executionRole,null,2);t=a.a.createElement(It.a,{id:"executionRole",mode:"json",readOnly:!0,value:c})}var s,l,u=a.a.createElement(he.a,{header:a.a.createElement(p.a,{id:"functionDesigner.permissionsTab.role.header"})},a.a.createElement(i.Button,{onClick:function(){return n.setRoleModalOpen(!0)}},a.a.createElement(p.a,{id:"functionDesigner.permissionsTab.role.actions.viewJson"}))),d=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:function(){return n.setRoleModalOpen(!1)}},a.a.createElement(p.a,{id:"close"}))),f=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(i.Button,{variant:"link",onClick:function(){return n.setPolicyModalOpen(!1)}},a.a.createElement(p.a,{id:"close"})));return s=this.props.executionRoleFailed?t:a.a.createElement(Da,null),l=this.props.resourcePolicyFailed?e:a.a.createElement(pa,{openPolicyModal:this.setPolicyModalOpen.bind(this)}),a.a.createElement(a.a.Fragment,null,a.a.createElement(ja,null),a.a.createElement(he.c,{tag:null,header:u},s),l,a.a.createElement(Ea,null),a.a.createElement(i.Modal,{size:"large",expandToFit:!0,visible:this.state.roleModalOpen,header:a.a.createElement(p.a,{id:"functionDesigner.permissionsTab.roleJson.header"}),footer:d,onDismiss:function(){return n.setRoleModalOpen(!1)}},t),a.a.createElement(i.Modal,{size:"large",id:"resourcePolicyModal",expandToFit:!0,visible:this.state.policyModalOpen,header:a.a.createElement(p.a,{id:"functionDesigner.tab.permissions.resourcePolicy.json.header"}),footer:f,onDismiss:function(){return n.setPolicyModalOpen(!1)}},e))}}])&&ka(t.prototype,n),r&&ka(t,r),s}(a.a.Component),Ra=Object(d.F)(["executionRoleParser","resourcePolicyParser"])(Object(c.connect)((function(e){return{resourcePolicyLoading:!Object(v.d)(e).includes("resourcePolicySource"),resourcePolicy:Object(v.U)(e,"resourcePolicySource"),resourcePolicyFailed:Object(v.P)(e).contains("resourcePolicySource"),executionRoleLoading:!Object(v.d)(e).includes("executionRoleSource"),executionRole:Object(v.U)(e,"executionRoleSource"),executionRoleFailed:Object(v.P)(e).contains("executionRoleSource")}}),(function(e){return{showHelp:function(){return e(Object(it.m)("functionDesigner.tab.permissions.helpContent"))}}}))(Aa)),Ma=n(2011),Fa=n(2091);function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Va(e);if(t){var a=Va(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(e,t){if(t&&("object"===La(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(c,e);var t,n,r,o=Ua(c);function c(){return za(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"onEditButtonClick",value:function(){this.goToProvisionedConcurrencyEditPage()}},{key:"goToProvisionedConcurrencyEditPage",value:function(){var e=new W.i(this.props.functionArn),t=Object(W.W)(e.qualifier)?"versions":"aliases";this.props.goToUrl("/functions/".concat(e.functionName,"/").concat(t,"/").concat(e.qualifier,"/edit/provisioned-concurrency"))}},{key:"render",value:function(){var e=this,t=new W.i(this.props.functionArn),n=a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{id:"provisionedConcurrency.versionsAndAliases.title"})," ",a.a.createElement("span",{className:"awsui-util-header-counter"},!this.props.refreshing&&a.a.createElement(p.a,{id:"wrapper",values:{value:this.props.count}})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(he.a,{header:n},a.a.createElement(i.Button,{id:"provisionedConcurrencyRefreshButton",icon:"refresh",loading:this.props.refreshing,onClick:this.props.refreshTable}),a.a.createElement(i.Button,{id:"provisionedConcurrencyEditButton",disabled:this.props.isDisabledForEditButton,onClick:this.onEditButtonClick.bind(this)},a.a.createElement(p.a,{id:"edit"})),a.a.createElement(i.Button,{id:"provisionedConcurrencyDeleteButton",disabled:!t.qualifier,onClick:function(){return e.props.showDeleteProvisionedConcurrencyModal()}},a.a.createElement(p.a,{id:"provisionedConcurrency.buttons.delete"})),a.a.createElement(i.Button,{id:"provisionedConcurrencyCreateButton",href:"#/functions/".concat(t.functionName,"/create/provisioned-concurrency")},a.a.createElement(p.a,{id:"provisionedConcurrency.buttons.create"}))),a.a.createElement("div",{className:"awsui-util-header-description awsui-util-mt-xs"},a.a.createElement(p.a,{id:"provisionedConcurrency.description.html",values:{"learn-more":function(){return a.a.createElement($e.c,{href:"https://docs.".concat(Object(W.y)(),"/console/lambda/provisioned-concurrency")})}}})),a.a.createElement(R.b,{scope:"provisioned-concurrency"}))}}])&&Ba(t.prototype,n),r&&Ba(t,r),c}(a.a.Component),Ga={READY:"ready",IN_PROGRESS:"in-progress",FAILED:"failed"};function Za(e){var t=e.functionArn,n=e.onDelete;if(!t)return a.a.createElement(T.a,null,a.a.createElement("div",null));var r=new W.i(t).qualifier,i=Object(W.W)(r)?"version":"alias";return a.a.createElement(B.Modal,{id:"deleteProvisionedConcurrency",size:"medium",header:a.a.createElement(p.a,{id:"modal.delete.title.provisionedConcurrency.".concat(i),values:{qualifier:r}}),footerProvider:function(e){var r=e.isLoading,i=e.close;return a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:i},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",loading:r,onClick:function(){return n(t)}},a.a.createElement(p.a,{id:"remove"}))))}},a.a.createElement(o.a,{tagName:"p",id:"modal.delete.text.provisionedConcurrency.".concat(i),values:{qualifier:r}}))}function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ei(e);if(t){var a=ei(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xa(this,n)}}function Xa(e,t){if(t&&("object"===Ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $a(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ti=[{id:"qualifier",field:"qualifier"},{id:"type",field:"type"},{id:"availableConcurrency",field:"availableConcurrency"},{id:"status",field:"status"}],ni=[{id:"qualifier",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.qualifier"})},cell:function(e){return a.a.createElement("a",{href:e.href},e.qualifier)}},{id:"type",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.type"})},cell:function(e){return a.a.createElement(p.a,{id:"".concat(e.type)})}},{id:"availableConcurrency",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.availableProvisionedConcurrency"})},cell:function(e){return e.availableConcurrency}},{id:"status",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.status"})},cell:function(e){return e.status?a.a.createElement(a.a.Fragment,null,a.a.createElement(he.i,{status:Ga[e.status]})," ",e.statusReason,("IN_PROGRESS"===e.status||"FAILED"===e.status)&&a.a.createElement(p.a,{id:"provisionedConcurrency.status.details",values:{allocated:e.provisionedConcurrency,requested:e.requestedConcurrency}})):"-"}},{id:"details",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.details"})},cell:function(e){return e.details}}],ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(c,e);var t,n,r,o=Ya(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}($a(n=o.call(this,e,t)),"filteringOptions",[{groupValuesLabel:G.intl.formatMessage({id:"provisionedConcurrency.types"}),propertyKey:"type",propertyLabel:G.intl.formatMessage({id:"provisionedConcurrency.type"}),values:[G.intl.formatMessage({id:"version"}),G.intl.formatMessage({id:"alias"})]}]),n.state={selectedFunctionArn:null,isWeightedAlias:!1},n}return t=c,(n=[{key:"onSelectionChange",value:function(e){var t=e.detail.selectedItems;if(t.length){var n=t[0];this.setState({selectedFunctionArn:n.functionArn}),"alias"===n.type&&this.props.qualifiers.aliases.getIn([new W.i(n.functionArn).qualifier,"additionalVersionWeight","version"])?this.setState({isWeightedAlias:!0}):this.setState({isWeightedAlias:!1})}}},{key:"onDeleteProvisionedConcurrency",value:function(){this.props.onDelete(this.state.selectedFunctionArn),this.setState({selectedFunctionArn:void 0})}},{key:"onRefresh",value:function(){this.props.refreshTable(),this.setState({selectedFunctionArn:void 0})}},{key:"noMatch",value:function(){return a.a.createElement("div",{className:"awsui-util-t-c"},a.a.createElement("div",{className:"awsui-util-pt-s awsui-util-mb-xs"},a.a.createElement(p.a,{tagName:"b",id:"noMatch"})))}},{key:"noData",value:function(){var e=new W.i(this.props.functionArn).functionName;return a.a.createElement(he.d,{id:"provisionedConcurrency.empty",noDescription:!0,href:"#/functions/".concat(e,"/create/provisioned-concurrency")})}},{key:"render",value:function(){var e=Object(d.q)(this.props.qualifiers.aliases),t=[];return this.props.provisionedConcurrencyConfigs.versions.forEach((function(n){var r,a=!(null===(r=e[n.qualifier])||void 0===r||!r.length);t.push({functionArn:n.functionArn,qualifier:n.qualifier,href:"#".concat(Object(g.d)(new W.i(n.functionArn).functionName,n.qualifier)),type:"version",requestedConcurrency:n.requestedConcurrency,provisionedConcurrency:n.provisionedConcurrency,availableConcurrency:n.availableConcurrency,status:n.status,statusReason:n.statusReason,details:a?n.aliases:"-"})})),this.props.provisionedConcurrencyConfigs.aliases.forEach((function(e){t.push({functionArn:e.functionArn,qualifier:e.qualifier,href:"#".concat(Object(g.d)(new W.i(e.functionArn).functionName,e.qualifier)),type:"alias",requestedConcurrency:e.requestedConcurrency,provisionedConcurrency:e.provisionedConcurrency,availableConcurrency:e.availableConcurrency,status:e.status,statusReason:e.statusReason,details:e.versions})})),a.a.createElement(a.a.Fragment,null,this.state.isWeightedAlias&&a.a.createElement(i.Alert,{className:"awsui-util-mb-xs"},a.a.createElement(p.a,{id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.weightedAlias.edit"})),a.a.createElement(Za,{functionArn:this.state.selectedFunctionArn,onDelete:this.onDeleteProvisionedConcurrency.bind(this)}),a.a.createElement(i.Table,{className:"provisionedConcurrencyVersionsAndAliasesTable",columnDefinitions:ni,header:a.a.createElement(Ha,{functionArn:this.state.selectedFunctionArn||this.props.functionArn,count:t.length,isDisabledForEditButton:!this.state.selectedFunctionArn||this.state.isWeightedAlias,refreshing:this.props.refreshing,refreshTable:this.onRefresh.bind(this),showDeleteProvisionedConcurrencyModal:this.props.showDeleteProvisionedConcurrencyModal.bind(this),goToUrl:this.props.goToUrl}),noMatch:this.noMatch(),items:t,empty:this.noData(),loading:this.props.refreshing,features:["selection","propertyFiltering","sorting"]},a.a.createElement(i.TableSorting,{sortingColumn:"availableConcurrency",sortingDescending:!0,sortableColumns:ti}),a.a.createElement(i.TableSelection,{selectionType:"single",trackBy:"functionArn",onSelectionChange:this.onSelectionChange.bind(this)}),a.a.createElement(i.TablePropertyFiltering,{filteringOptions:this.filteringOptions,groupValuesText:G.intl.formatMessage({id:"groupValuesText"}),groupPropertiesText:G.intl.formatMessage({id:"groupPropertiesText"}),operationAndText:G.intl.formatMessage({id:"operationAndText"}),operationNotAndText:G.intl.formatMessage({id:"operationNotAndText"}),operationOrText:G.intl.formatMessage({id:"operationOrText"}),operationNotOrText:G.intl.formatMessage({id:"operationNotOrText"}),clearFiltersText:G.intl.formatMessage({id:"clearFiltersText"}),placeholder:G.intl.formatMessage({id:"provisionedConcurrency.filterPlaceholder"}),allowFreeTextFiltering:!0,filteringCountTextFunction:he.j})))}}])&&Ka(t.prototype,n),r&&Ka(t,r),c}(a.a.Component),ai=Object(c.connect)((function(e){var t;return{provisionedConcurrencyConfigs:(null===(t=Object(v.eb)(e,"provisionedConcurrencyConfigsParser"))||void 0===t?void 0:t.toJS())||{versions:[],aliases:[]},qualifiers:Object(v.U)(e,"functionQualifiersSource")||{versions:Object(Yn.Map)(),aliases:Object(Yn.Map)()},functionArn:Object(v.p)(e),refreshing:At.d.includes("hyperion")&&!Object(v.R)(e)}}),(function(e){return{refreshTable:function(){return e(Object(f.x)(["functionQualifiersSource","provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]))},showDeleteProvisionedConcurrencyModal:function(){return e(Object(B.setModalOpen)("deleteProvisionedConcurrency",!0))},onDelete:function(t){return e(Object(f.p)(t))},goToUrl:function(t){return e(Object(u.c)(t))},alert:function(t){return e(Object(M.f)(t))}}}))(ri);function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ui(e);if(t){var a=ui(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){if(t&&("object"===ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(o,e);var t,n,r,i=si(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={originalReservedConcurrentExecutionsOverride:e.originalReservedConcurrentExecutions,reservedConcurrentExecutions:null},t}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.originalReservedConcurrentExecutions,r=e.userSettingsLoading,a=t.originalReservedConcurrentExecutionsOverride;return r||a===n?null:{originalReservedConcurrentExecutionsOverride:n}}}],(n=[{key:"componentDidMount",value:function(){var e;null===this.state.reservedConcurrentExecutions&&this.setState({reservedConcurrentExecutions:this.props.reservedConcurrentExecutions||(null===(e=this.props.provisionedConcurrencyConfigs)||void 0===e?void 0:e.get("provisionedConcurrency"))||0})}},{key:"getUnreservedPoolSize",value:function(){var e=this.props,t=e.reservedConcurrentExecutions,n=void 0===t?null:t,r=e.unreservedConcurrentExecutions,a=e.concurrencyPoolType,i=this.state.originalReservedConcurrentExecutionsOverride,o=void 0===i?null:i,c=r;return a===Fa.a.UNRESERVED&&null!==o?c+=o:a===Fa.a.RESERVED&&null!==n&&(c+=o-n),c}},{key:"render",value:function(){var e;e=this.props.concurrencyPoolType===Fa.a.UNRESERVED?[{key:a.a.createElement(p.a,{id:"concurrency.poolOptions.label"}),value:a.a.createElement(p.a,{id:"concurrency.poolOptions.unreserved"})},{key:a.a.createElement(p.a,{id:"concurrency.label.unreservedPool"}),value:this.getUnreservedPoolSize()}]:[{key:a.a.createElement(p.a,{id:"concurrency.poolOptions.label"}),value:a.a.createElement(p.a,{id:"concurrency.poolOptions.useReserved"})},{key:a.a.createElement(p.a,{id:"concurrency.label.reservedPool"}),value:this.props.reservedConcurrentExecutions}];var t=a.a.createElement("div",{className:"awsui-util-pv-m awsui-util-ph-l"},a.a.createElement(he.f,{flat:!0,columns:2,items:e}));return a.a.createElement("div",{className:"concurrencyComponent"},t,Object(W.S)("hyperion")&&a.a.createElement(ai,null))}}])&&oi(t.prototype,n),r&&oi(t,r),o}(a.a.Component),fi=["loading","error"];function pi(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var mi=Object(c.connect)((function(e,t){var n=Object(Ma.e)(e),r=Object(v.L)(e,t.nodeId).get("data"),a=Object(v.g)(e,t.nodeId).get("data");return{concurrencyPoolType:r.get("concurrencyPoolType"),reservedConcurrentExecutions:r.get("reservedConcurrentExecutions"),originalReservedConcurrentExecutions:a.get("reservedConcurrentExecutions"),userSettingsLoading:e.user.get("isLoading"),concurrentExecutions:n.getIn(["accountLimit","concurrentExecutions"]),unreservedConcurrentExecutions:n.getIn(["accountLimit","unreservedConcurrentExecutions"]),unreservedConcurrentExecutionsMinimum:n.getIn(["accountLimit","unreservedConcurrentExecutionsMinimum"]),provisionedConcurrencyConfigs:Object(W.S)("hyperion")?Object(v.U)(e,"provisionedConcurrencyConfigsParser"):Object(Yn.Map)()}}))(di),hi=Object(d.F)(["functionParser","provisionedConcurrencyConfigsParser"])((function(e){var t=e.loading,n=e.error,r=pi(e,fi),i=Object(W.S)("hyperion")?"concurrencyAndProvisionedConcurrency":"concurrency";return a.a.createElement(N.a,{id:i,editPage:"concurrency",error:n,loading:t,noGutters:!0},a.a.createElement(mi,r))}));function gi(e){var t,n=e.provisionedConcurrencyConfigs,r=e.qualifiers,i=e.qualifier,o=e.refreshing;if(!r||n.isEmpty())return o?a.a.createElement(T.a,null,a.a.createElement("div",null)):null;var c=null===(t=n.get("aliases"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===i}));if(!c)return a.a.createElement(he.f,{columns:1,items:[[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:"-"}]]});var s=c.get("status"),l=c.get("provisionedConcurrency"),u=c.get("requestedConcurrency");return a.a.createElement(he.f,{columns:2,items:[[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:a.a.createElement("span",null,c.get("availableConcurrency"))}],[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.status"}),value:a.a.createElement(a.a.Fragment,null,a.a.createElement(he.i,{status:o?"loading":Ga[s]})," ",!o&&c.get("statusReason"),!o&&("IN_PROGRESS"===s||"FAILED"===s)&&a.a.createElement(p.a,{id:"provisionedConcurrency.status.details",values:{allocated:l,requested:u}}))}]]})}var vi=[{id:"qualifier",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.version"})},cell:function(e){return e.qualifier}},{id:"weight",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.weight"})},cell:function(e){return"".concat(e.weight,"%")}},{id:"requestedConcurrency",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.requestedConcurrency"})},cell:function(e){return void 0===e.requestedConcurrency?"-":e.requestedConcurrency}},{id:"provisionedConcurrency",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.allocatedProvisionedConcurrency"})},cell:function(e){return void 0===e.provisionedConcurrency?"-":e.provisionedConcurrency}},{id:"status",header:function(){return a.a.createElement(p.a,{id:"provisionedConcurrency.status"})},cell:function(e){return e.status?a.a.createElement(a.a.Fragment,null,a.a.createElement(he.i,{status:Ga[e.status]})," ",e.statusReason):"-"}}];var bi=Object(c.connect)((function(e){return{provisionedConcurrencyConfigs:Object(v.U)(e,"provisionedConcurrencyConfigsParser")||Object(Yn.Map)(),qualifiers:Object(v.T)(e)||Object(Yn.Map)()}}))((function(e){var t,n,r=e.qualifiers,o=e.qualifier,c=e.provisionedConcurrencyConfigs,s=e.refreshing,l=r.getIn(["aliases",o]),u=null==l?void 0:l.get("version"),d=[{qualifier:u,weight:100}],f=null===(t=c.get("aliases"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===(null==l?void 0:l.get("qualifier"))})),m=null===(n=c.get("versions"))||void 0===n?void 0:n.find((function(e){return e.get("qualifier")===u}));f&&"READY"===f.get("status")?(d[0].requestedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.fromAlias",values:{provisionedConcurrency:f.get("requestedConcurrency")}}),d[0].provisionedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.fromAlias",values:{provisionedConcurrency:f.get("provisionedConcurrency")}})):m&&(d[0].requestedConcurrency=m.get("requestedConcurrency"),d[0].provisionedConcurrency=m.get("provisionedConcurrency"),d[0].status=m.get("status"));var h,g=null==l?void 0:l.getIn(["additionalVersionWeight","version"]);if(g){var v,b=null==l?void 0:l.getIn(["additionalVersionWeight","weight"]),y=100-b;d[0].weight=y,d.push({qualifier:g,weight:b}),h=null===(v=c.get("versions"))||void 0===v?void 0:v.find((function(e){return e.get("qualifier")===g})),f&&"READY"===f.get("status")?(d[0].requestedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[0].provisionedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[1].requestedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[1].provisionedConcurrency=a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"})):h&&(d[1].requestedConcurrency=h.get("requestedConcurrency"),d[1].provisionedConcurrency=h.get("provisionedConcurrency"),d[1].status=h.get("status"))}return a.a.createElement(a.a.Fragment,null,(f||m||h)&&a.a.createElement("div",{className:"awsui-util-mt-l"},a.a.createElement(i.Table,{className:"versionsMappedToAliasTable",columnDefinitions:vi,header:a.a.createElement("h2",null,a.a.createElement(p.a,{id:"provisionedConcurrency.versionsMappedToAlias.header"})),items:d,empty:a.a.createElement(p.a,{id:"functions.grid.noData"}),loading:s})))})),yi=n(2135);var Ei=Object(d.F)(["functionQualifiersSource","provisionedConcurrencyConfigsParser"])(Object(c.connect)((function(e){return{qualifiers:Object(v.T)(e)||Object(Yn.Map)(),provisionedConcurrencyConfigs:Object(v.U)(e,"provisionedConcurrencyConfigsParser")||Object(Yn.Map)(),refreshing:At.d.includes("hyperion")&&!Object(v.R)(e)}}),(function(e){return{refresh:function(){return e(Object(f.x)(["functionQualifiersSource","provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]))},showDeleteProvisionedConcurrencyModal:function(){return e(Object(B.setModalOpen)("deleteProvisionedConcurrency",!0))},onDelete:function(t){return e(Object(f.p)(t))}}}))((function(e){var t,n=e.loading,r=e.error,o=e.onDelete,c=e.showDeleteProvisionedConcurrencyModal,s=e.qualifier,l=e.qualifiers,u=e.provisionedConcurrencyConfigs,d=e.refreshing,f=e.refresh,m=null===(t=u.get("aliases"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===s})),h=!!m,g=!!l.getIn(["aliases",s,"additionalVersionWeight","version"]),v=m&&m.get("functionArn"),b=[];h&&g?b.push({message:G.intl.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.weightedAlias.edit"})}):b=Object(yi.a)(s,l,u);var y=0===b.length&&a.a.createElement(i.Button,{id:"provisionedConcurrencyDeleteButton",disabled:!h,onClick:function(){return c()}},a.a.createElement(p.a,{id:"provisionedConcurrency.buttons.delete"}));return a.a.createElement(N.a,{id:"provisionedConcurrency",loading:n,error:r,refresh:f,refreshing:d,editPage:b.length>0?void 0:"provisioned-concurrency",actionsButton:y},a.a.createElement(Za,{functionArn:v,onDelete:function(){return o(v)}}),a.a.createElement(R.b,{scope:"provisioned-concurrency"}),b.length>0&&a.a.createElement(i.Alert,{className:"awsui-util-mb-s"},b[0].message),(0===b.length||h)&&a.a.createElement(gi,{qualifier:s,qualifiers:l,provisionedConcurrencyConfigs:u,refreshing:d}),a.a.createElement(bi,{qualifier:s,refreshing:d}))})));function Oi(e){var t,n=e.qualifier,r=e.provisionedConcurrencyConfigs,i=e.refreshing;if(r.isEmpty())return a.a.createElement(T.a,null,a.a.createElement("div",null));var o=null===(t=r.get("versions"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===n}));if(!o)return a.a.createElement(he.f,{columns:1,items:[[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:"-"}]]});var c=o.get("status"),s=o.get("provisionedConcurrency"),l=o.get("requestedConcurrency");return a.a.createElement(he.f,{columns:2,items:[[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:a.a.createElement("span",null,o.get("availableConcurrency"))}],[{key:a.a.createElement(p.a,{id:"provisionedConcurrency.status"}),value:a.a.createElement(a.a.Fragment,null,a.a.createElement(he.i,{status:i?"loading":Ga[c]})," ",o.get("statusReason"),!i&&("IN_PROGRESS"===c||"FAILED"===c)&&a.a.createElement(p.a,{id:"provisionedConcurrency.status.details",values:{allocated:s,requested:l}}))}]]})}var wi=Object(d.F)(["functionQualifiersSource","provisionedConcurrencyConfigsParser"])(Object(c.connect)((function(e){return{qualifiers:Object(v.T)(e)||Object(Yn.Map)(),provisionedConcurrencyConfigs:Object(v.U)(e,"provisionedConcurrencyConfigsParser")||Object(Yn.Map)(),refreshing:At.d.includes("hyperion")&&!Object(v.R)(e)}}),(function(e){return{refresh:function(){return e(Object(f.x)(["provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]))},showDeleteProvisionedConcurrencyModal:function(){return e(Object(B.setModalOpen)("deleteProvisionedConcurrency",!0))},onDelete:function(t){return e(Object(f.p)(t))}}}))((function(e){var t,n=e.loading,r=e.error,o=e.onDelete,c=e.showDeleteProvisionedConcurrencyModal,s=e.qualifier,l=e.qualifiers,u=e.provisionedConcurrencyConfigs,d=e.refresh,f=e.refreshing,m=Object(yi.e)(s,l,u),h=null===(t=u.get("versions"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===s})),g=!!h,v=h&&h.get("functionArn"),b=0===m.length&&a.a.createElement(i.Button,{id:"provisionedConcurrencyDeleteButton",disabled:!g,onClick:function(){return c()}},a.a.createElement(p.a,{id:"provisionedConcurrency.buttons.delete"}));return a.a.createElement(N.a,{id:"provisionedConcurrency",loading:n,error:r,refresh:d,refreshing:f,editPage:m.length>0?void 0:"provisioned-concurrency",actionsButton:b},a.a.createElement(Za,{functionArn:v,onDelete:function(){return o(v)}}),a.a.createElement(R.b,{scope:"provisioned-concurrency"}),m.length>0&&a.a.createElement(i.Alert,{className:"awsui-util-mb-s"},m[0].message),0===m.length&&a.a.createElement(Oi,{qualifier:s,provisionedConcurrencyConfigs:u,refreshing:f}))}))),Si=n(2189),ji=function(e){return e===yt.b.DISABLED?a.a.createElement(p.a,{id:"functionDetail.sections.monitoringTools.status.".concat(e)}):a.a.createElement(he.i,{status:e},a.a.createElement(p.a,{id:"functionDetail.sections.monitoringTools.status.".concat(e)}))},_i=Object(c.connect)((function(e,t){return{loading:!(null==t||!t.loading),extensionsStatusValue:Object(yt.e)(e),columns:Math.ceil((Object(yt.f)(e).length+1)/2)}}))((function(e){var t=e.loading,n=e.columns,r=void 0===n?1:n,i=e.extensionsStatusValue.map((function(e){var t=e.id,n=e.status;return{key:a.a.createElement(p.a,{id:"editMonitoringTools.".concat(t,".field.label")}),value:ji(n)}}));return a.a.createElement(T.a,{cond:t},a.a.createElement(pe.default,{size:"l"},!t&&a.a.createElement(he.f,{flat:!0,items:i,columns:r}),a.a.createElement(Si.ExtensionsPageEntry,null)))}));var ki=Object(d.F)(["functionParser","simulateRoleForExtensions"])((function(e){var t=e.readonly,n=e.loading,r=e.error,i=e.columns,o=void 0===i?1:i;return a.a.createElement(N.a,{id:"monitoringTools",editPage:"monitoring-tools",error:r,loading:n,readonly:t,showInfoLink:!0},a.a.createElement(_i,{columns:o}))})),Ti=n(2256),Ci=n(2454),Pi=Object(d.F)(["sfnStateMachineData"])((function(e){return a.a.createElement("div",{className:"awsui-util-mb-l"},a.a.createElement(Ci.a,{tag:[y.WorkflowTags.stepFunctions,y.WorkflowTags.stateMachine],qualifiedFunctionName:e.qualifiedFunctionName}))}));function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Di=Object(d.F)(["tagParser","urlParser"])(Object(c.connect)((function(e,t){return Ni(Ni({functionName:new W.i(Object(v.p)(e)).functionName},Object(v.lb)(e,"tagParser")),t)}),(function(e){return{navigateToEdit:function(t){e(Object(f.J)(!0)),e(Object(g.f)(t,null,"tags"))}}}))((function(e){var t,n=e.functionName,r=e.loading,c=e.error,s=e.result,l=e.qualifier,u=e.navigateToEdit,d=(null==s?void 0:s.get("systemTags"))||Object(Yn.List)(),f=(null==s?void 0:s.get("userTags"))||Object(Yn.List)(),m=Object(W.K)(l),h="version"!==m&&"alias"!==m,g=!0;if(h){var v=[{id:"key",header:a.a.createElement(p.a,{id:"tags.table.keyHeader"}),cell:function(e){return e.key}},{id:"value",header:a.a.createElement(p.a,{id:"tags.table.valueHeader"}),cell:function(e){return e.value||"-"}}];t=a.a.createElement(i.Table,{columnDefinitions:v,items:d.concat(f).toJS(),variant:"borderless",empty:a.a.createElement(he.d,{id:"tags.emptyTags",onClick:function(){return u(n)}})})}else g=!1,t=a.a.createElement(o.a,{id:"tags.".concat(m,"Description.html"),values:{functionName:n},tagName:"p"});return a.a.createElement(N.a,{id:"tags",counter:h?" (".concat(d.size+f.size,")"):null,description:a.a.createElement(p.a,{id:"functionDetail.sections.tags.description"}),editPage:h?"tags":"",showInfoLink:!0,error:c,loading:r,noGutters:g},t)}))),Ai=n(249),Ri=n(838),Mi=n(1999),Fi=n(844),Li=n(1992);function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function qi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Bi(i,r,a,o,c,"next",e)}function c(e){Bi(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ji(e);if(t){var a=Ji(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zi(this,n)}}function Zi(e,t){if(t&&("object"===zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=Object(J.tagContextHoc)(B.WorkflowModal),$i={info:"info",warning:"warning",error:"error",fatal:"error"},eo=function(e,t){return e.getMessage("data.".concat(t))||e.getMessage("schema.".concat(t,".name"))||t},to=function(e){return Object(Mi.h)().renderInline(e)},no=function(e){var t=e.exception;return t&&"info"!==t.get("level")},ro=function(e){var t=e.exception;return!(null!=t&&t.get("correctable"))},ao=function(e){return!e.service.toggle},io=function(e){return e.enabled},oo=function(e){return!e.enabled},co=function(e){var t=e.state;return t&&!["disabled","enabled"].includes(t.toLowerCase())},so=function(e,t){return!e.length||e.some((function(e){return t.some((function(t){return t(e)}))}))},lo=function(e){var t=e.children,n=e.href;return null!=n&&n.startsWith("http")?a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t):t||null};function uo(e){var t=e.formatted,n=e.link,r=e.name,i=a.a.createElement("strong",null,a.a.createElement(lo,{href:n},t));return a.a.createElement(p.a,{id:"separator",values:{key:r,value:i}})}function fo(e){var t,n=e.details,r=e.enabled,o=e.exception,s=e.name,l=e.service,u=e.sourceId,d=e.state,f=e.triggerType,m=e.url,h=null;if(l.toggle){var g=co({state:d})?d:a.a.createElement(p.a,{id:"trigger.table.".concat(r?"enabled":"disabled")});h=a.a.createElement(p.a,{id:"wrapper",values:{value:g}})}var v=Object(c.useSelector)((function(e){return ot.c.getNodes(e)[f]["x-lambda"].highlightDetails})),b={key:a.a.createElement("strong",null,l.name),value:a.a.createElement("span",null,a.a.createElement(lo,{href:m},s)," ",h)},E=n.toJS().map((function(e){return Qi(Qi({},e),{},{name:eo(l.config,e.key),formatted:Object(Mi.g)(e.value)})})).filter((function(e){return!!e.formatted})).filter((function(e){var t,n,r=null===(t=l.config.widgetAnnotations[e.key])||void 0===t||null===(n=t.visible)||void 0===n?void 0:n.preview;return!r||Object(W.S)(r)})).sort((function(e,t){return e.name.localeCompare(t.name)})),O=E.filter((function(e){return null==v?void 0:v.includes(e.key)}));E=E.filter((function(e){return!(null!=v&&v.includes(e.key))}));var w=a.a.createElement("div",null,a.a.createElement(lo,{href:u},a.a.createElement("small",null,u)));return a.a.createElement("div",{className:"trigger"},a.a.createElement("div",{className:"awsui-util-mr-s"},a.a.createElement("img",{alt:l.name,src:l.icon})),a.a.createElement("div",null,a.a.createElement(p.a,{tagName:"h5",id:"separator",values:b}),"kafka"!==(null==l||null===(t=l.config)||void 0===t?void 0:t.id)&&w,o&&a.a.createElement("p",null,a.a.createElement(he.i,{status:$i[o.get("level")]},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(W.lb)(to(o.get("message")))}}))),0===O.length?null:a.a.createElement("ul",null,O.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(uo,e))}))),0===E.length?null:a.a.createElement(i.ExpandableSection,{header:a.a.createElement(p.a,{id:"details"}),"data-analytics":y.WorkflowTags.details},a.a.createElement("ul",null,E.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(uo,e))}))))))}function po(e){var t=e.selectedAction,n=e.name,r=e.service,i=e.exception,o=a.a.createElement(p.a,{id:"separator",values:{key:r.name,value:n}});return i&&"fix"===t?a.a.createElement(Fi.default,{content:Object(W.lb)(i.get("action"))},o):o}var mo={enable:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ai.put)(Object(M.g)());case 2:return n=t.id,r=t.originalTrigger,e.next=5,Object(Ai.call)(Mi.m,!0,r.get("target"),r.toJS());case 5:return a=e.sent,i=a.data.state,e.next=9,Object(Ai.select)(v.L,n);case 9:if(o=e.sent,!i){e.next=18;break}return c=Object(Yn.fromJS)({state:i}),e.next=14,Object(Ai.put)(Object(f.z)(o,c));case 14:return e.next=16,Object(Ai.put)(Object(it.r)(n,{state:i}));case 16:e.next=23;break;case 18:return c=Object(Yn.fromJS)({enabled:!0,originalTrigger:Qi(Qi({},r.toJS()),{},{enabled:!0})}),e.next=21,Object(Ai.put)(Object(f.z)(o,c));case 21:return e.next=23,Object(Ai.put)(Object(it.r)(n,{enabled:!0}));case 23:case"end":return e.stop()}}),e)})),disable:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ai.put)(Object(M.g)());case 2:return n=t.id,r=t.originalTrigger,e.next=5,Object(Ai.call)(Mi.m,!1,r.get("target"),r.toJS());case 5:return a=e.sent,i=a.data.state,e.next=9,Object(Ai.select)(v.L,n);case 9:if(o=e.sent,!i){e.next=18;break}return c=Object(Yn.fromJS)({state:i}),e.next=14,Object(Ai.put)(Object(f.z)(o,c));case 14:return e.next=16,Object(Ai.put)(Object(it.r)(n,{state:i}));case 16:e.next=23;break;case 18:return c=Object(Yn.fromJS)({enabled:!1,originalTrigger:Qi(Qi({},r.toJS()),{},{enabled:!1})}),e.next=21,Object(Ai.put)(Object(f.z)(o,c));case 21:return e.next=23,Object(Ai.put)(Object(it.r)(n,{enabled:!1}));case 23:case"end":return e.stop()}}),e)})),fix:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ai.put)(Object(M.g)());case 2:return n=t.id,r=t.originalTrigger,e.next=5,Object(Ai.call)(Mi.f,r.toJS());case 5:return a=e.sent,i=a.exception,e.next=9,Object(Ai.select)(v.L,n);case 9:return o=e.sent,c=Object(Yn.fromJS)({exception:i,originalTrigger:Qi(Qi({},r.toJS()),{},{exception:i})}),e.next=13,Object(Ai.put)(Object(f.z)(o,c));case 13:return e.next=15,Object(Ai.put)(Object(it.r)(n,{exception:i}));case 15:case"end":return e.stop()}}),e)})),delete:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ai.put)(Object(M.g)());case 2:return n=t.id,r=t.originalTrigger,e.next=5,Object(Ai.call)(Mi.e,r.toJS());case 5:return a=e.sent,i=a.data.state,e.next=9,Object(Ai.select)(v.L,n);case 9:if(o=e.sent,!i){e.next=18;break}return c=Object(Yn.fromJS)({state:i}),e.next=14,Object(Ai.put)(Object(f.z)(o,c));case 14:return e.next=16,Object(Ai.put)(Object(it.r)(n,{state:i}));case 16:e.next=20;break;case 18:return e.next=20,Object(Ai.put)(Object(it.r)(n,{deleted:!0}));case 20:case"end":return e.stop()}}),e)}))},ho=[{id:"trigger",header:function(){return a.a.createElement(p.a,{id:"triggerTable.column.trigger"})},cell:function(e){return a.a.createElement(fo,e)}}],go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(c,e);var t,n,r,o=Gi(c);function c(){return Wi(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.select([])}},{key:"componentDidUpdate",value:function(e){this.props.title===e.title&&this.props.refreshLoading===e.refreshLoading||this.props.select([])}},{key:"componentWillUnmount",value:function(){this.props.clearFilteringText()}},{key:"render",value:function(){var e,t,n=this,r=this.props.triggers.filter((function(e){var t=e.exception;return"vertex.exception.node.internal.unsupported"!==(null==t?void 0:t.get("code"))})),o=this.props.triggers.length!==r.length,c=a.a.createElement(a.a.Fragment,null,a.a.createElement(he.a,{header:this.props.title,counter:" (".concat(this.props.triggers.length,")")},this.props.refreshButton,a.a.createElement(i.Button,{disabled:so(this.props.selected,[no,ao,io,co]),onClick:function(){return n.props.selectAction("enable")},"data-analytics":y.WorkflowTags.enable},a.a.createElement(p.a,{id:"triggerTable.button.enable"})),a.a.createElement(i.Button,{disabled:so(this.props.selected,[no,ao,oo,co]),onClick:function(){return n.props.selectAction("disable")},"data-analytics":y.WorkflowTags.disable},a.a.createElement(p.a,{id:"triggerTable.button.disable"})),a.a.createElement(i.Button,{disabled:so(this.props.selected,[ro]),onClick:function(){return n.props.selectAction("fix")},"data-analytics":y.WorkflowTags.fix},a.a.createElement(p.a,{id:"triggerTable.button.fix"})),a.a.createElement(i.Button,{disabled:so(this.props.selected,[co]),onClick:function(){return n.props.selectAction("delete")},"data-analytics":y.WorkflowTags.delete},a.a.createElement(p.a,{id:"triggerTable.button.delete"})),null!==(e=this.props.addTriggerButton)&&void 0!==e?e:null),o&&a.a.createElement("div",{className:"awsui-util-mt-m"},a.a.createElement(i.Alert,{type:"info"},a.a.createElement(p.a,{id:"triggerTable.unsupported"})))),s=a.a.createElement(Ri.RelationList,{type:"trigger",target:this.props.functionArn,targetType:"aws/lambda",correctRelation:V.a.correctRelation,deleteRelation:V.a.deleteRelation,listNodes:qi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.listNodes({type:"trigger",target:"aws/lambda"});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.body);case 4:case"end":return e.stop()}}),e)}))),listRelations:qi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.listRelations({type:"trigger",target:n.props.functionArn});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.body);case 4:case"end":return e.stop()}}),e)}))),onClickCreate:function(){window.open("#/add/relation?type=trigger&targetType=lambda&target=".concat(n.props.functionArn),"_self"),Object(y.logEvent)(y.EVENT_NAMES.TRIGGER_ADD_CARD)},onClickEdit:function(e){Object(Li.f)("user.edit-trigger",e),window.open("#/functions/".concat(n.props.functionArn,"/edit/relation"),"_self")},md:to,modifyString:W.lb,i18nStrings:{deleteModalHeader:G.intl.formatMessage({id:"triggerTable.modal.delete.header"}),deleteModalCompleteText:G.intl.formatMessage({id:"triggerTable.modal.delete.completed"}),deleteModalPendingText:G.intl.formatMessage({id:"triggerTable.modal.delete.message"}),deleteModalRunButtonText:G.intl.formatMessage({id:"triggerTable.modal.delete.buttonText"}),detailsHeader:G.intl.formatMessage({id:"details"}),detailsValueTrue:G.intl.formatMessage({id:"yes"}),detailsValueFalse:G.intl.formatMessage({id:"no"}),detailsValueNone:G.intl.formatMessage({id:"none"}),fixModalHeader:G.intl.formatMessage({id:"triggerTable.modal.fix.header"}),fixModalCompleteText:G.intl.formatMessage({id:"triggerTable.modal.fix.completed"}),fixModalPendingText:G.intl.formatMessage({id:"triggerTable.modal.fix.message"}),fixModalRunButtonText:G.intl.formatMessage({id:"triggerTable.modal.fix.buttonText"}),modalCancelButtonText:G.intl.formatMessage({id:"cancel"}),modalCloseButtonText:G.intl.formatMessage({id:"close"}),modalStopButtonText:G.intl.formatMessage({id:"triggerTable.modal.stop"}),tableActionsCreateText:G.intl.formatMessage({id:"trigger.create.title"}),tableActionsDeleteText:G.intl.formatMessage({id:"triggerTable.button.delete"}),tableActionsEditText:G.intl.formatMessage({id:"edit"}),tableActionsFixText:G.intl.formatMessage({id:"triggerTable.button.fix"}),tableColumnRelationHeader:G.intl.formatMessage({id:"triggerTable.column.trigger"}),tableEmptyTitle:G.intl.formatMessage({id:"triggerTable.noItems.empty.header"}),tableEmptySubtitle:G.intl.formatMessage({id:"triggerTable.noItems.empty.description"}),tableEmptyActionText:G.intl.formatMessage({id:"triggerTable.noItems.empty.buttonText"}),tableFilterCountText:function(e){return G.intl.formatMessage({id:"resourceList.filterCountText"},{matches:e})},tableFilteringPlaceholder:G.intl.formatMessage({id:"triggerTable.filter.placeholder"}),tableHeaderTitle:G.intl.formatMessage({id:"triggers"}),tableNoMatchTitle:G.intl.formatMessage({id:"triggerTable.noMatch.empty.header"}),tableNoMatchSubtitle:G.intl.formatMessage({id:"triggerTable.noMatch.empty.description"}),tableNoMatchActionText:G.intl.formatMessage({id:"triggerTable.noMatch.empty.buttonText"})}});return a.a.createElement(a.a.Fragment,null,Object(Mi.o)()?s:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Table,{id:"trigger-table",header:c,columnDefinitions:ho,items:r,features:["filtering","pagination","selection"],noMatch:a.a.createElement(he.d,{id:"triggerTable.noMatch.empty",onClick:this.props.clearFilteringText}),loading:!!this.props.loading,empty:this.props.error?a.a.createElement(he.b,{error:this.props.error}):a.a.createElement(he.d,{id:"triggerTable.noItems.empty",noButton:!this.props.addTriggerButton,button:this.props.addTriggerButton})},a.a.createElement(i.TableFiltering,{filteringFields:["name","sourceId","serviceName"],filteringText:null!==(t=this.props.filteringText)&&void 0!==t?t:"",onFilteringChange:function(e){var t=e.detail;return n.props.setFilteringText(t.filteringText)},filteringPlaceholder:G.intl.formatMessage({id:"triggerTable.filter.placeholder"}),filteringCountTextFunction:he.j}),a.a.createElement(i.TablePagination,{pageSize:10}),a.a.createElement(i.TableSelection,{keepSelection:!0,selectionType:"multi",trackBy:"id",selectedItems:this.props.selected,onSelectionChange:function(e){return n.props.select(e.detail.selectedItems)}})),a.a.createElement(Xi,{id:"trigger-table",size:"medium",expandToFit:!0,header:a.a.createElement(p.a,{id:"triggerTable.modal.".concat(this.props.selectedAction,".header")}),contentProvider:function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{tagName:"p",id:"triggerTable.modal.".concat(n.props.selectedAction,".").concat("COMPLETE"===t?"completed":"message")}),e)},footerProvider:Object(B.BasicWorkflowModalFooter)({i18nStrings:{cancelButtonText:G.intl.formatMessage({id:"cancel"}),closeButtonText:G.intl.formatMessage({id:"close"}),runButtonText:G.intl.formatMessage({id:"triggerTable.modal.".concat(this.props.selectedAction,".buttonText")}),stopButtonText:G.intl.formatMessage({id:"triggerTable.modal.stop"})}}),itemDetailsProvider:function(e){return t=n.props.selectedAction,r=e.service,(a=r.config.getMessage("".concat(t,".trigger.alert")))?"".concat(r.name,": ").concat(a):null;var t,r,a},itemProvider:function(e){return a.a.createElement(po,Ui({selectedAction:n.props.selectedAction},e))},itemTask:mo[this.props.selectedAction],items:this.props.selected,onClose:this.props.removeDeletedTriggers,tag:y.WorkflowTags.triggersModal})))}}])&&Vi(t.prototype,n),r&&Vi(t,r),c}(a.a.Component),vo=Object(c.connect)((function(e){return{selected:ot.c.getSelectedTriggers(e),selectedAction:ot.c.getSelectedTriggerAction(e),filteringText:Object(v.fb)(e),functionArn:Object(v.p)(e)}}),(function(e){return{select:function(t){return e(Object(it.h)(t))},selectAction:function(t){e(Object(it.g)(t)),e(Object(B.setModalOpen)("trigger-table",!0))},deleteTriggerNode:function(t){return e(Object(f.o)(t,!0))},removeSelectedDeletedTriggers:function(){return e(Object(it.e)())},setFilteringText:function(t){return e(Object(f.O)(t))},clearFilteringText:function(){return e(Object(f.O)(""))}}}),(function(e,t,n){return Qi(Qi(Qi(Qi({},n),e),t),{},{removeDeletedTriggers:function(){var n;null===(n=e.selected)||void 0===n||n.forEach((function(e){e.deleted&&t.deleteTriggerNode(e.id)})),t.removeSelectedDeletedTriggers()}})}))(go);function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oo=function(e,t){return e.get("nodes").filter((function(e){return"trigger"===e.get("type")})).map((function(e){var t=e.get("data"),n={};return["enabled","name","sourceId","url","exception","details","state","originalTrigger"].forEach((function(e){n[e]=t.get(e)})),["id","icon"].forEach((function(t){n[t]=e.get(t)})),n.serviceName=e.get("name"),n.triggerType=e.getIn(["data","id"]),n})).map((function(e){var n=t[e.triggerType],r={name:e.serviceName,icon:n.icon,toggle:n.toggle,config:n};return yo(yo({},e),{},{service:r})})).toArray()},wo=Object(d.F)(["vertexSource","relationParser"])(Object(c.connect)((function(e){return{functionArn:Object(v.p)(e),graph:Object(v.D)(e),refreshDisabled:!Object(v.X)(e).isEmpty(),refreshLoading:!Object(v.b)(e),triggersConfig:ot.c.getNodes(e)}}),(function(e){return{refreshTriggers:function(){return e(Object(f.x)(["vertexSource","relationParser"]))}}}))((function(e){var t=e.error,n=e.functionArn,r=e.graph,o=e.loading,c=e.refreshDisabled,s=e.refreshLoading,l=e.refreshTriggers,u=e.triggersConfig,d=a.a.createElement(i.Button,{id:"add-trigger",href:"#/add/relation?type=trigger&targetType=lambda&target=".concat(n),onClick:function(){Object(y.logEvent)(y.EVENT_NAMES.TRIGGER_ADD_CARD)},"data-analytics":y.WorkflowTags.addTrigger},a.a.createElement(p.a,{id:"trigger.create.title"})),f=a.a.createElement(i.Button,{icon:"refresh",disabled:c,loading:s,onClick:l,"data-analytics":y.WorkflowTags.refresh});return a.a.createElement(vo,{addTriggerButton:d,error:t,loading:o,refreshButton:f,refreshLoading:s,title:G.intl.formatMessage({id:"functionDesigner.configureTab.triggers.header"}),triggers:Oo(r,u)})}))),So=n(2257),jo=n(2217);function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=function(e){var t=e.type,n=e.id,r=e.mainDetail,i=e.otherDetails,o=null==i?void 0:i.filter(W.cb).join(", "),c=Object(W.v)("vpc",t,n);return a.a.createElement("span",null,a.a.createElement("a",{href:c},n)," (",r,")",o?a.a.createElement("span",null," | ",o):null)};var Po=Object(d.F)(["vpcSource","urlParser"])(Object(c.connect)((function(e,t){return ko(ko(ko({},Object(v.lb)(e,"vpcSource")),t),{},{functionName:Object(v.z)(e),qualifier:Object(v.S)(e)})}),(function(e){return{navigateToEdit:function(t){e(Object(g.f)(t,null,"vpc"))}}}),(function(e,t,n){return ko(ko(ko(ko({},n),e),t),{},{navigateToEdit:function(){return t.navigateToEdit(e.functionName,e.qualifier)}})}))((function(e){var t,n=e.loading,r=e.error,o=e.navigateToEdit,c=e.result,s=e.readonly;if(n)return a.a.createElement(L.default,{size:"large"});if(r)return a.a.createElement(i.Alert,{type:"error"},r.message);if(!c)return a.a.createElement(he.d,{id:"editVpc.vpcSelection.empty",onClick:o,noButton:s});var l=c.vpc,u=c.securityGroups,d=c.subnets,f=a.a.createElement("span",null,a.a.createElement(Co,{type:"vpc",id:l.vpcId,mainDetail:l.cidrBlock,otherDetails:[l.default&&G.intl.formatMessage({id:"default"})||"",null===(t=l.tags.find((function(e){return"Name"===e.key})))||void 0===t?void 0:t.value]})),m=a.a.createElement("ul",null,d.map((function(e,t){var n,r=e.subnetId,i=e.cidrBlock,o=e.availabilityZone,c=e.tags;return a.a.createElement("li",{key:t},a.a.createElement(Co,{type:"subnet",id:r,mainDetail:i,otherDetails:[null!=o?o:"",null===(n=c.find((function(e){return"Name"===e.key})))||void 0===n?void 0:n.value]}))}))),h=a.a.createElement("ul",null,u.map((function(e,t){var n,r,i=e.groupId,o=e.groupName,c=e.tags;return a.a.createElement("li",{key:t},a.a.createElement(Co,{type:"securityGroup",id:i,mainDetail:o,otherDetails:[null!==(n=null===(r=c.find((function(e){return"Name"===e.key})))||void 0===r?void 0:r.value)&&void 0!==n?n:""]}))}))),g=[{key:a.a.createElement(p.a,{id:"editVpc.vpcId.field.label"}),value:f},{key:a.a.createElement(p.a,{id:"editVpc.subnetIds.field.label"}),value:m},{key:a.a.createElement(p.a,{id:"editVpc.securityGroupIds.field.label"}),value:h}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(he.f,{flat:!0,columns:3,items:g}),a.a.createElement("div",{className:"awsui-util-mt-l"},a.a.createElement(jo.a,{securityGroups:u})))})));function xo(e){var t=e.readonly;return a.a.createElement(N.a,{id:"vpc",readonly:t,editPage:"vpc",showInfoLink:!0},a.a.createElement(Po,{readonly:t}))}var No=["isReplica"];function Io(){return(Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ro(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo=Object(J.tagContextHoc)(ar),zo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fo(this,"_itemDescriptors",void 0),Fo(this,"_itemIndexes",void 0),Fo(this,"idsForQualifierType",(function(e){switch(e){case h.H.ALIAS:return t._aliasedFunctionIds;case h.H.VERSION:return t._versionedFunctionIds;default:return t._allIds}})),Fo(this,"addItem",(function(e){var n=e.id,r=e.labelId,i=e.tag,c=e.content,s=e.preconditions,l=void 0===s?[]:s;t._itemIndexes.has(n)&&l.every(W.cb)&&t._itemDescriptors.set(n,{id:n,tag:i,content:c,label:a.a.createElement(o.a,{id:"functionDesigner.tab.configure.".concat(null!=r?r:n)})})})),Fo(this,"getItems",(function(e){return t.idsForQualifierType(e).toList().sortBy((function(e){return t._itemIndexes.get(e)})).filter((function(e){return t._itemDescriptors.has(e)})).map((function(e){return t._itemDescriptors.get(e)})).toArray()})),this._itemDescriptors=Object(Yn.Map)().asMutable(),this._itemIndexes=Object(Yn.List)([h.e.BASIC_SETTINGS,h.e.TRIGGERS,h.e.PERMISSIONS,h.e.DESTINATIONS,h.e.URL,h.e.ENV_VARS,h.e.TAGS,h.e.VPC,h.e.MONITORING_TOOLS,h.e.CONCURRENCY,h.e.ASYNC_INVOKE,h.e.CODE_SIGNING,h.e.DATABASE_PROXIES,h.e.FILE_SYSTEMS,h.e.STATE_MACHINES]).toMap().flip()}var t,n,r;return t=e,(n=[{key:"_aliasedFunctionIds",get:function(){return Object(Yn.Set)([h.e.ASYNC_INVOKE,h.e.BASIC_SETTINGS,h.e.CONCURRENCY,h.e.DESTINATIONS,h.e.MONITORING_TOOLS,h.e.PERMISSIONS,h.e.TRIGGERS,h.e.URL])}},{key:"_versionedFunctionIds",get:function(){return this._aliasedFunctionIds.union([h.e.ENV_VARS,h.e.DATABASE_PROXIES,h.e.FILE_SYSTEMS,h.e.STATE_MACHINES,h.e.VPC])}},{key:"_allIds",get:function(){return Object(Yn.Set)(this._itemIndexes.keys())}}])&&Mo(t.prototype,n),r&&Mo(t,r),e}(),Bo=Object(l.default)((function(e){var t=e.qualifier,n=e.isReplica;switch(Object(W.K)(t)){case h.H.ALIAS:return{Component:Ei,preconditions:[Object(W.S)("hyperion")]};case h.H.VERSION:return{Component:wi,preconditions:[Object(W.S)("hyperion"),!n,Object(W.W)(t)]};default:return{Component:hi}}}),$n.a),qo=Object(l.default)((function(e){return{Component:function(){switch(Object(W.K)(e)){case h.H.ALIAS:return function(){return a.a.createElement(Ti.b,{id:"generalConfiguration",qualifier:e,qualifierType:h.H.ALIAS})};case h.H.VERSION:return function(t){var n=t.isReplica,r=Ro(t,No);return a.a.createElement(a.a.Fragment,null,a.a.createElement(hr,r),!n&&a.a.createElement(Ti.b,{qualifier:e,qualifierType:h.H.VERSION}))};default:return hr}}()}})),Uo=Object(c.connect)((function(e){return{functionArn:Object(v.p)(e),functionSourceStat:Object(v.lb)(e,"functionSource")}}),null)((function(e){var t,n=e.functionArn,r=e.loading,i=e.functionSourceStat,o=new W.i(n),c=o.functionName,s=o.qualifier,l=Object(W.K)(s),u=Object(d.u)(n),f={nodeId:n,readonly:!!s},p=[{id:h.e.ASYNC_INVOKE,Component:pr,props:Ao(Ao({},f),{},{columns:3}),preconditions:[Object(W.S)("bananaslug"),!u],tag:y.WorkflowTags.asyncInvoke,requireFunctionSource:!0},Ao({id:h.e.BASIC_SETTINGS,props:Ao(Ao({},f),{},{isReplica:u,columns:3}),tag:y.WorkflowTags.general},qo(s)),{id:h.e.CODE_SIGNING,Component:He,props:f,preconditions:[Object(W.S)("ishikawa"),!u],tag:y.WorkflowTags.codeSigning,requireFunctionSource:!0},Ao(Ao({id:h.e.CONCURRENCY,labelId:s&&"provisionedConcurrency",props:Ao(Ao({},f),{},{qualifier:s}),tag:y.WorkflowTags.concurrency},Bo({qualifier:s,isReplica:u})),{},{requireFunctionSource:!0}),{id:h.e.DATABASE_PROXIES,Component:Mr,props:f,preconditions:[Object(W.S)("dittograph"),!u],tag:y.WorkflowTags.databaseProxies,requireFunctionSource:!0},{id:h.e.ENV_VARS,Component:qr,props:f,tag:y.WorkflowTags.envVars,requireFunctionSource:!0},{id:h.e.DESTINATIONS,Component:Cr,preconditions:[Object(W.S)("starfish")],tag:y.WorkflowTags.destinations},{id:h.e.FILE_SYSTEMS,Component:Qr,props:f,preconditions:[Object(W.S)("evanescent"),!u],tag:y.WorkflowTags.fileSystems,requireFunctionSource:!0},{id:h.e.MONITORING_TOOLS,Component:ki,props:Ao({},f),preconditions:[Object(W.S)("triscuit"),!u],tag:y.WorkflowTags.monitoringTools},{id:h.e.PERMISSIONS,Component:Ra,tag:y.WorkflowTags.permissions},{id:h.e.TAGS,Component:Di,tag:y.WorkflowTags.tags},{id:h.e.TRIGGERS,Component:wo,tag:y.WorkflowTags.triggers},{id:h.e.STATE_MACHINES,Component:Pi,props:{qualifiedFunctionName:"".concat(c,":").concat(null!=s?s:h.a)},preconditions:[Object(W.S)("orchestration")],tag:y.WorkflowTags.stateMachines},{id:h.e.URL,Component:So.b,preconditions:[Object(W.S)("ganondorf"),!u],tag:y.WorkflowTags.url},{id:h.e.VPC,Component:xo,props:f,tag:y.WorkflowTags.vpc,requireFunctionSource:!0}],m=(t=new zo,p.forEach((function(e){var n=e.id,o=e.labelId,c=e.tag,s=e.Component,l=e.props,u=void 0===l?{}:l,d=e.preconditions,f=void 0===d?[]:d,p=e.requireFunctionSource;void 0!==p&&p&&!i.result||t.addItem({id:n,labelId:o,tag:c,preconditions:f,content:a.a.createElement(J.TaggedDiv,{tag:c},a.a.createElement(T.a,{cond:r},a.a.createElement(s,Io({},u,{tag:c}))))})})),t.getItems(l));return a.a.createElement(T.a,{cond:i.loading},a.a.createElement(Lo,{items:m,sidebarId:h.K.CONFIGURE,tag:y.WorkflowTags.configurationSidebar}))})),Wo=Object(d.F)(["urlParser","functionSource"])(Uo);function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(r.useState)(e),n=Vo(t,2),a=n[0],i=n[1],o=function(e){var t,n;i(null!==(t=null==e||null===(n=e.detail)||void 0===n?void 0:n.filteringText)&&void 0!==t?t:"")},c=function(){i(e)};return{filteringText:a,onFilteringChange:o,resetFilteringText:c,setFilteringText:i}};function Zo(){return(Zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){Qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yo=Object(c.connect)((function(e){var t=Object(je.b)(e).params,n=t.functionName,r=t.version,a=t.alias;return{functionName:n,qualifier:r||a||"",isQualifiersDataLoaded:Object(v.F)(e),qualifiers:Object(v.U)(e,"functionQualifiersSource")}}),(function(e){return{goToQualifierFor:function(t){return function(n){e(Object(u.c)({pathname:Object(g.d)(t,n,null,void 0,!1)},{persistQuery:!0}))}}}}),(function(e,t,n){return Ko(Ko(Ko({},e),n),{},{goToQualifier:t.goToQualifierFor(e.functionName)})}))((function(e){var t=e.functionName,n=e.isQualifiersDataLoaded,r=e.qualifier,a=e.qualifiers,i=e.goToQualifier,o=e.children,c=Object(Yn.List)(),s=Object(Yn.List)();n&&(Object(d.u)(t)||(c=Object(d.g)(a.aliases,r,i)),s=Object(d.h)(a.versions,r,i,Object(d.q)(c)).filterNot((function(e){return Object(d.s)(e.get("version"))})));var l=void 0===a;return o({qualifiersData:{loading:l,error:!l&&a instanceof Error?a:null,aliases:c,versions:s}})})),Xo=function(e){return Object(d.F)(["functionQualifiersSource"])((function(t){return a.a.createElement(Yo,null,(function(n){var r,i=n.qualifiersData;return a.a.createElement(e,Zo({qualifiersData:Ko(Ko({},i),{},{loading:null!==(r=t.loading)&&void 0!==r?r:i.loading})},t))}))}))},$o=n(1976);function ec(){return(ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tc=Object(c.connect)(null,(function(e,t){return{deleteFunction:function(){return e(Object(f.m)(t))}}}))((function(e){var t=encodeURIComponent(e.functionName),n=encodeURI(e.qualifier);return a.a.createElement(B.Modal,{id:e.id,size:"medium",header:a.a.createElement(p.a,{id:"modal.delete.title.".concat(e.qualifierType),values:{functionName:t,qualifier:n}}),footerProvider:function(t){var n=t.isLoading,r=t.close;return a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:r},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",loading:n,onClick:e.deleteFunction},a.a.createElement(p.a,{id:"modal.delete.button.submit"}))))}},a.a.createElement(o.a,{id:"modal.delete.text.".concat(e.qualifierType)}))})),nc=function(e){return a.a.createElement(tc,ec({id:"deleteFunction"},e))};function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ic=Object(c.connect)((function(e){return{functionName:Object(v.z)(e)}}),(function(e){return{openDeleteAliasModal:function(){return Object($o.a)(e)("deleteAlias")}}}))((function(e){var t,n=e.count,r=e.functionName,o=e.selectedAlias,c=e.openDeleteAliasModal,s=Object(g.j)("alias"),l=s.goToEdit,u=s.goToCreate,d=[{intlId:"edit",onClick:function(){return l({qualifier:null==o?void 0:o.name})},disabled:!o},{intlId:"delete",onClick:c,disabled:!o},{intlId:"hub.aliases.button.createAlias",onClick:u}];return a.a.createElement(he.a,{header:a.a.createElement("span",null,a.a.createElement(p.a,{id:"hub.section.aliases.title"})," "),counter:n?a.a.createElement(p.a,{id:"wrapper",values:{value:n}}):null,info:"functions.hub.aliases.helpContent"},d.map((function(e){var t=e.intlId,n=e.onClick,r=e.disabled;return a.a.createElement(i.Button,{key:t,onClick:n,disabled:!!r},a.a.createElement(p.a,{id:t}))})),a.a.createElement(nc,{id:"deleteAlias",functionName:r,qualifier:null!==(t=null==o?void 0:o.name)&&void 0!==t?t:"",qualifierType:h.H.ALIAS}))})),oc=function(e){var t=e.functionName,n=e.version,r=e.weight;return n?a.a.createElement("p",null,Object(d.s)(n)?a.a.createElement("span",{className:"awsui-util-mr-xs"},a.a.createElement(p.a,{id:"version"}),": ",n):a.a.createElement("a",{href:Object(g.a)(t,n),className:"awsui-util-mr-xs"},a.a.createElement(p.a,{id:"version"}),": ",n),"(",a.a.createElement(p.a,{id:"weight"}),"=",r,"%)"):null},cc={pageSize:10,filteringFields:["name","description"],sortingColumn:"name",sortableColumns:[{id:"name",field:"name"},{id:"description",field:"description"}],selectionType:"single",trackSelectionBy:"name",columnDefinitions:[{id:"name",header:G.intl.formatMessage({id:"hub.aliases.table.name.label"}),cell:function(e){var t=e.name,n=e.goToQualifier;return a.a.createElement("a",{onClick:function(){n(t)}},t)}},{id:"versions",header:G.intl.formatMessage({id:"hub.aliases.table.versions.label"}),cell:function(e){var t=e.arn,n=e.version,r=e.weight,i=e.additionalVersionWeight,o=i.version,c=i.weight;if(!t)return"-";var s=new W.i(t).functionName;return a.a.createElement(a.a.Fragment,null,a.a.createElement(oc,{version:n,weight:r,functionName:s}),a.a.createElement(oc,{version:o,weight:c,functionName:s}))}},{id:"description",header:G.intl.formatMessage({id:"hub.aliases.table.description.label"}),cell:function(e){return e.description||"-"}}]},sc=Xo((function(e){var t=e.qualifiersData,n=t.loading,r=t.error,o=t.aliases,c=rc(a.a.useState(null),2),s=c[0],l=c[1],u=Go(),d=u.filteringText,f=u.onFilteringChange,p=u.resetFilteringText,m=Object(g.j)("alias").goToCreate;return a.a.createElement(i.Table,{header:a.a.createElement(ic,{selectedAlias:s,count:o.size}),columnDefinitions:cc.columnDefinitions,loading:n,items:o.toJS(),empty:r?a.a.createElement(he.b,{error:r}):a.a.createElement(he.d,{id:"functionDesigner.aliasesSection.empty",onClick:m}),"data-testId":"aliases-table",noMatch:a.a.createElement(he.d,{id:"hub.noMatch.aliasesTable.empty",onClick:p})},a.a.createElement(i.TableSelection,{selectionType:cc.selectionType,onSelectionChange:function(e){var t=e.detail;l(null==t?void 0:t.selectedItems[0])},trackBy:cc.trackSelectionBy}),a.a.createElement(i.TableFiltering,{filteringFields:cc.filteringFields,filteringPlaceholder:G.intl.formatMessage({id:"hub.aliases.table.filter.placeholder"}),filteringCountTextFunction:he.j,filteringText:d,onFilteringChange:f}),a.a.createElement(i.TableSorting,{sortingColumn:cc.sortingColumn,sortableColumns:cc.sortableColumns}),a.a.createElement(i.TablePagination,{pageSize:cc.pageSize}))})),lc=n(1972);function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pc={type:"object",properties:{description:{type:"string",maxLength:256}}};var mc=Object(c.connect)((function(e){return{hasAlerts:!e.alerts.getIn(["publishVersion","messages"],Object(Yn.Map)()).isEmpty()}}),(function(e,t){return{onPublish:function(n){return e(Object(f.h)(t.functionName,n))}}}))((function(e){var t=e.onPublish,n=e.hasAlerts,r={size:"large",expandToFit:!0,header:a.a.createElement(p.a,{id:"functionDetail.qualifiers.modal.publish.title"})},i={onSubmit:t,schema:pc};return a.a.createElement(B.FormModal,{id:"publishVersion",actionsProvider:function(e){var t=e.isLoading,n=e.close,r=e.submit;return a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(me.default,{variant:"link",onClick:n},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",loading:t,onClick:r},a.a.createElement(p.a,{id:"functionDetail.qualifiers.modal.publish.button.submit"})))},modalProps:r,formProps:dc(dc({},Object(lc.c)("publishVersion",n)),i)},a.a.createElement(p.a,{tagName:"p",id:"functionDetail.qualifiers.modal.publish.text"}),a.a.createElement(q.FormField,{id:"description",fieldTextProps:["label"],optional:!0},a.a.createElement(q.FormInput,null)))})),hc=["intlId","onClick","renderModal"];function gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ec=Object(c.connect)((function(e){return{functionName:Object(v.z)(e)}}),(function(e){return{openModal:Object($o.a)(e)}}))((function(e){var t=e.count,n=e.functionName,r=e.openModal,o=e.selectedVersion,c=[{intlId:"delete",onClick:function(){r("deleteVersion")},disabled:!o,"data-testid":"deleteVersion-cta",renderModal:function(){return a.a.createElement(nc,{id:"deleteVersion",functionName:n,qualifier:null==o?void 0:o.version,qualifierType:"version"})}},{intlId:"hub.versions.button.publishVersion",onClick:function(){r("publishVersion")},renderModal:function(){return a.a.createElement(mc,{functionName:n})}}];return a.a.createElement(he.a,{header:a.a.createElement("span",null,a.a.createElement(p.a,{id:"hub.section.versions.title"})," "),counter:t?a.a.createElement(p.a,{id:"wrapper",values:{value:t}}):null,info:"functions.hub.versions.helpContent"},c.map((function(e){var t=e.intlId,n=e.onClick,r=e.renderModal,o=yc(e,hc);return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(i.Button,bc({key:t,onClick:n},o),a.a.createElement(p.a,{id:t})),"function"==typeof r&&r())})))})),Oc={pageSize:10,filteringFields:["version","description"],sortingColumn:"version",sortableColumns:[{id:"version",comparator:function(e,t){return+e.version-+t.version}},{id:"description",field:"description"},{id:"lastModified",comparator:function(e,t){var n=e.lastModified,r=t.lastModified;return new Date(n).getTime()-new Date(r).getTime()}}],selectionType:"single",trackSelectionBy:"version",columnDefinitions:[{id:"version",header:G.intl.formatMessage({id:"hub.versions.table.version.label"}),cell:function(e){var t=e.version,n=e.goToQualifier;return a.a.createElement("a",{onClick:function(){n(t)}},t)}},{id:"aliases",header:G.intl.formatMessage({id:"hub.versions.table.aliases.label"}),cell:function(e){var t=e.arn,n=e.pills;return null!=n&&n.length?a.a.createElement(a.a.Fragment,null,n.map((function(e){return a.a.createElement("p",{key:e},a.a.createElement("a",{href:"#".concat(Object(g.d)(new W.i(t).functionName,e))},G.intl.formatMessage({id:"alias"}),": ",e))}))):"-"}},{id:"description",header:G.intl.formatMessage({id:"hub.versions.table.description.label"}),cell:function(e){return e.description||"-"}},{id:"lastModified",header:G.intl.formatMessage({id:"lastModified"}),cell:function(e){var t=e.lastModified;return t?a.a.createElement(Le.a,{value:t}):"-"}},{id:"architectures",header:function(){return a.a.createElement(p.a,{id:"functions.grid.architecture"})},cell:function(e){return Object(W.E)(e.architectures)}}].filter((function(e){return Object(ye.c)().length>1||"architectures"!==e.id}))},wc=Object(c.connect)(null,(function(e){return{openPublishVersionModal:function(){return Object($o.a)(e)("publishVersion")}}}))(Xo((function(e){var t=e.qualifiersData,n=t.loading,r=t.error,o=t.versions,c=e.openPublishVersionModal,s=gc(a.a.useState(null),2),l=s[0],u=s[1],d=Go(),f=d.filteringText,p=d.onFilteringChange,m=d.resetFilteringText;return a.a.createElement(i.Table,{"data-testId":"versions-table",header:a.a.createElement(Ec,{count:o.size,selectedVersion:l}),columnDefinitions:Oc.columnDefinitions,loading:n,items:o.toJS(),empty:r?a.a.createElement(he.b,{error:r}):a.a.createElement(he.d,{id:"functionDesigner.versionsSection.empty",onClick:c}),noMatch:a.a.createElement(he.d,{id:"hub.noMatch.versionsTable.empty",onClick:m})},a.a.createElement(i.TableSelection,{selectionType:Oc.selectionType,onSelectionChange:function(e){var t,n=e.detail;u(null==n||null===(t=n.selectedItems)||void 0===t?void 0:t[0])},trackBy:Oc.trackSelectionBy}),a.a.createElement(i.TableFiltering,{filteringFields:Oc.filteringFields,filteringPlaceholder:G.intl.formatMessage({id:"hub.versions.table.filter.placeholder"}),filteringCountTextFunction:he.j,filteringText:f,onFilteringChange:p}),a.a.createElement(i.TableSorting,{sortingDescending:!0,sortingColumn:Oc.sortingColumn,sortableColumns:Oc.sortableColumns}),a.a.createElement(i.TablePagination,{pageSize:Oc.pageSize}))}))),Sc=n(2455),jc=n(2241);function _c(){return c.useSelector((function(e){return!!Object(v.m)(e,jc.a)}))?(Object(y.logEvent)(y.EVENT_NAMES.S3_RECURSION_ALERT_APPEAR),a.a.createElement(fe.default,{"data-testid":"s3-recursion-alert",margin:{vertical:"s"}},a.a.createElement(z.default,{dismissible:!0,onDismiss:function(){return Object(y.logEvent)(y.EVENT_NAMES.S3_RECURSION_ALERT_DISMISS)}},a.a.createElement(p.a,{id:"recEngine.s3Recursion.title",tagName:"b"}),a.a.createElement(o.a,{id:"recEngine.s3Recursion.description",tagName:"p"})))):null}var kc=n(2031),Tc=Object(c.connect)((function(e){var t;return{loading:!Object(v.kb)(e),graph:Object(v.D)(e),functionArn:null!==(t=Object(v.p)(e))&&void 0!==t?t:"",selectedNodes:Object(v.ab)(e),destinationsLoading:!Object(v.a)(e,"destination"),resourcesLoading:!Object(v.a)(e,"resource"),triggersLoading:!Object(v.a)(e,"trigger"),appDesignerExpand:Object(Ma.b)(e)}}),(function(e){return{clickNodes:function(t){e(Object(f.G)(t));var n=null==t?void 0:t.first();if(n){var r=n.get("type"),a=n.get("name");e(Object(f.s)({nodeType:r,serviceName:a}))}},setUserPreference:function(t){return e(Object(kc.d)(t))},showHelp:function(){return e(Object(it.m)("functionDesigner.helpContent"))}}}))((function(e){var t=e.appDesignerExpand,n=e.changeTab,r=e.clickNodes,i=e.destinationsLoading,o=e.functionArn,c=e.graph,s=e.loading,l=e.resourcesLoading,u=e.selectedNodes,f=e.setUserPreference,p=e.showHelp,m=e.triggersLoading;return a.a.useEffect((function(){p()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(_c,null),a.a.createElement(Sc.a,{id:"overviewDesigner",loading:s,nodes:c.get("nodes"),edges:c.get("edges"),selectedNodes:Object(W.hb)(u,"id"),focus:o,leftNodes:{type:"trigger",loading:m,tag:y.WorkflowTags.triggers},rightNodes:Object(W.S)("starfish")?{type:"destination",loading:i,tag:y.WorkflowTags.destinations}:{type:"resource",loading:l},onClickNodes:r,setUserPreference:f,appDesignerExpand:t,readonly:!o||Object(d.u)(o),changeTab:n,tag:y.WorkflowTags.functionViz}))})),Cc=Object(c.connect)((function(e){return{provisionedConcurrencyConfigs:Object(v.U)(e,"provisionedConcurrencyConfigsParser")||Object(Yn.Map)()}}),(function(e,t){var n=t.functionArn;return{stopFunction:function(){return e(Object(f.S)(n))}}}))(Object(d.F)(["provisionedConcurrencyConfigsParser"])((function(e){var t=e.functionArn,n=e.provisionedConcurrencyConfigs,r=e.stopFunction,i=new W.i(t).functionName,c=!!n.get("provisionedConcurrency");return a.a.createElement(B.Modal,{id:"stop",size:"medium",header:a.a.createElement(p.a,{id:"modal.stop.title"}),footerProvider:function(e){var t=e.isLoading,n=e.close;return a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:n},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{disabled:c,variant:"primary",loading:t,onClick:r},a.a.createElement(p.a,{id:"modal.stop.button.submit"}))))}},a.a.createElement(R.b,{scope:"stop-function"}),c?a.a.createElement(p.a,{id:"error.throttleModal.provisionedConcurrency",values:{functionName:i}}):a.a.createElement(o.a,{id:"modal.stop.text",values:{functionName:i}}))})));function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nc=Object(c.connect)((function(e,t){var n=W.i.fromFunctionName(t.functionName,t.qualifier).arn,r=Object(v.g)(e,n),a=Object(v.t)(e);return{functionArn:n,isSaving:Object(v.H)(e),disabled:!r||0===r.getIn(["data","reservedConcurrentExecutions"])||!a.intersect(h.Q).isEmpty()}}),(function(e){return{openStopModal:function(){return e(Object(B.setModalOpen)("stop",!0))}}}))(Object(d.F)(["functionParser"])((function(e){var t=e.functionArn,n=e.qualifier,r=e.isSaving,o=e.disabled,c=e.openStopModal,s=Pc(a.a.useState(!1),2),l=s[0],u=s[1];if(n)return a.a.createElement("span",null);return a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(Cc,{functionArn:t}),a.a.createElement(i.Button,{className:"stop",onClick:function(){u(!0),c()},loading:r,disabled:o,variant:"normal"},a.a.createElement(p.a,{id:"designer.button.stop"})))}))),Ic=n(2143),Dc=n(2191);function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){Fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||zc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lc(e){return function(e){if(Array.isArray(e))return Bc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){if(e){if("string"==typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(e,t):void 0}}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?n:[]},Uc=function(e,t){return!t.intersect(e).isEmpty()},Wc=Object(c.connect)((function(e){return{metadata:Object(v.y)(e),functionCombinedStateSet:Object(v.t)(e),integrations:ot.c.getNodes(e),isSaveButtonDisabled:Object(v.G)(e),isQualifiersDataLoaded:Object(v.F)(e),packageType:Object(v.A)(e)}}),(function(e){return{bindNavigateToCreateAlias:function(t){return function(){e(Object(f.J)(!0)),e(t())}},openModal:Object($o.a)(e),runDeferredTriggerHandler:function(){return e(Object(f.B)(["deferredTriggerHandler"]))}}}),(function(e,t,n){var r=t.bindNavigateToCreateAlias,a=t.openModal,i=t.runDeferredTriggerHandler;return Rc(Rc(Rc({},n),e),{},{openModal:a,runDeferredTriggerHandler:i,navigateToCreateAlias:r((function(){return Object(g.f)(e.metadata.functionName,e.metadata.qualifier,"alias",null,!0)}))})}))(Object(d.F)(["functionParser","functionQualifiersSource","integrationConfigSource"])((function(e){var t,n,r=e.metadata,o=r.functionName,c=r.functionArn,s=r.qualifier,l=r.isReplica,u=r.detailsType,d=r.isAlias,f=r.isVersionButNotLatest,m=e.isQualifiersDataLoaded,g=e.isSaveButtonDisabled,v=e.integrations,b=e.functionCombinedStateSet,E=e.navigateToCreateAlias,O=e.openModal,w=e.packageType,S=e.runDeferredTriggerHandler,j=null===(t=v.cloudfront)||void 0===t?void 0:t.isAvailable,_=d||f?u:"func",k={createAlias:{id:"createAlias",text:G.intl.formatMessage({id:"functionDetail.button.createAlias"}),disabled:l||!m||Uc(h.f,b)},deleteFunctionOrQualifier:{id:"deleteFunction",text:G.intl.formatMessage({id:"functionDetail.button.delete.".concat(_)},{functionName:o,qualifier:s}),disabled:l||Uc(h.i,b)},exportToFlourish:{id:"exportToFlourish",text:G.intl.formatMessage({id:"exportFunction"}),disabled:l},deployToLambdaAtEdge:{id:"capabilities",text:G.intl.formatMessage({id:"functionDesigner.capabilities.title"}),items:[{id:"deployToLambdaAtEdge",text:G.intl.formatMessage({id:"functionDesigner.capabilities.deployToLambdaAtEdge"}),disabled:g||Uc(h.z,b)}]},publishVersion:{id:"publishVersion",text:G.intl.formatMessage({id:"functionDetail.button.publishVersion"}),disabled:!m||Uc(h.G,b)}},T=!Object(W.S)("parangopod")||w===h.D.ZIP,C=(Fc(n={},h.q.HUB,[k.publishVersion,k.createAlias].concat(Lc(qc(T,k.exportToFlourish)),Lc(qc(j,k.deployToLambdaAtEdge)),[k.deleteFunctionOrQualifier])),Fc(n,h.q.ALIAS,[k.deleteFunctionOrQualifier]),Fc(n,h.q.VERSION,[k.createAlias].concat(Lc(qc(T,k.exportToFlourish)),[k.deleteFunctionOrQualifier])),Fc(n,h.q.VERSION_LATEST,Lc(qc(T,k.exportToFlourish))),n),P=Mc(a.a.useState(Object(Yn.Set)()),2),x=P[0],N=P[1],I=function(e){return x.has(e)},D=function(e){return I(e)||N((function(t){return t.add(e)}))},A=function(e,t){return I(e)?t:null},R=function(e){D(e),O(e)};a.a.useEffect((function(){Object(Li.b)("user.deferred-trigger")&&(S(),D("lambdaAtEdge"))}),[Li.b]);var M={createAlias:function(){return E()},exportToFlourish:function(){return R("export")},deployToLambdaAtEdge:function(){Object(y.logEvent)(y.EVENT_NAMES.EDGE_MODAL_OPEN),R("lambdaAtEdge")},deleteFunction:function(){return R("deleteFunction")},publishVersion:function(){return R("publishVersion")}},F=A("deleteFunction",a.a.createElement(nc,{functionName:o,qualifier:s,qualifierType:_})),L=A("publishVersion",a.a.createElement(mc,{functionName:o})),z=A("export",a.a.createElement(Dc.b,null)),B=A("lambdaAtEdge",j?a.a.createElement(Ic.a,null):null),q=a.a.createElement(a.a.Fragment,null,F,z,B,L);return a.a.createElement(a.a.Fragment,null,q,a.a.createElement(a.a.Fragment,null,a.a.createElement(Nc,{functionName:o,qualifier:s}),a.a.createElement("span",{className:"awsui-util-p-xs"},a.a.createElement(Fe.a,{value:c,buttonStyle:!0,text:a.a.createElement(p.a,{id:"functionDetail.button.copyArn"})})),a.a.createElement(i.ButtonDropdown,{id:"function-designer-dropdown",disabled:l,items:C[u],onItemClick:function(e){return M[e.detail.id]()}},a.a.createElement(p.a,{id:"functionDetail.button.actions"}))))}))),Vc=n(843);function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$c(e);if(t){var a=$c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yc(this,n)}}function Yc(e,t){if(t&&("object"===Hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xc(e)}function Xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(c,e);var t,n,r,i=Qc(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),es(Xc(n=i.call(this,e,t)),"handleEventConfigurationOptions",(function(e){var t=e.detail.value;n.props.dispatch(D.a.changeConfigurationOption(t)),y.panorama.logWorkflowEvent({tagPath:n.props.nextTag(y.WorkflowTags.testEventConfiguration),eventDetail:t}),h.P.CONFIGURATION_OPTION_CREATE===t?y.logEvent(y.EVENT_NAMES.TESTEVENT_FD_CREATE_INTENT):y.logEvent(y.EVENT_NAMES.TESTEVENT_FD_EDIT_INTENT)})),n.state={eventName:null,eventNameErrorMessage:null},n}return t=c,(n=[{key:"componentDidUpdate",value:function(e){!e.eventModalOpen&&this.props.eventModalOpen&&y.panorama.logWorkflowEvent({tagPath:this.props.nextTag(y.WorkflowTags.show)},{tagPath:this.props.nextTag(y.WorkflowTags.testEventConfiguration),eventDetail:this.props.configurationOption})}},{key:"resetEventState",value:function(){this.setState({eventName:null,eventNameErrorMessage:null})}},{key:"formatTestEvent",value:function(){var e,t=null!==(e=this.props.dirtyEventCode)&&void 0!==e?e:this.props.codeForEventInDropdown,n=!1;try{t=Object(W.q)(t,!0)}catch(e){n=!0}this.props.dispatch(D.a.updateEventModal({dirtyEventCode:t,hasParseError:n}))}},{key:"saveSampleEvent",value:function(){if(this.props.modalCreate){if(this.state.eventNameErrorMessage)return;if(null===this.state.eventName)return void this.eventNameChanged({detail:{value:""}})}var e=!1;try{var t;JSON.parse(null!==(t=this.props.dirtyEventCode)&&void 0!==t?t:this.props.codeForEventInDropdown)}catch(t){e=!0}if(e)this.props.dispatch(D.a.updateEventModal({hasParseError:e}));else{Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD("save"));var n=this.props,r=n.functionName,a=n.qualifier;this.props.modalCreate?this.props.dispatch(D.a.saveTestEvent(r,a,this.state.eventName,this.props.dirtyEventCode||this.props.codeForEventInDropdown)):this.props.dispatch(D.a.saveTestEvent(r,a,this.props.savedEventId,this.props.dirtyEventCode)),this.resetEventState()}}},{key:"savedEventChanged",value:function(e){this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value))}},{key:"templateChanged",value:function(e){this.props.dispatch(D.a.loadTestEvent(this.props.functionName,e.detail.selectedOption.value))}},{key:"codeChanged",value:function(e){this.props.dispatch(D.a.updateEventModal({dirtyEventCode:e,hasParseError:!1}))}},{key:"eventNameChanged",value:function(e){var t,n=Nt.a.validate(null!==(t=e.detail.value)&&void 0!==t?t:""),r=n.valid,a=n.errors;this.setState({eventNameErrorMessage:r?null:a[0].message,eventName:e.detail.value})}},{key:"close",value:function(){Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD("close")),this.resetEventState(),this.props.hasSavedEvents&&!this.props.eventIdToInvoke.match(A.h())&&this.props.dispatch(D.a.loadTestEvent(this.props.functionName,this.props.eventIdToInvoke)),this.props.dispatch(D.a.toggleEventModal())}},{key:"closeFail",value:function(){this.props.dispatch(D.a.toggleEventModal())}},{key:"delete",value:function(){this.props.dispatch(D.a.deleteTestEvent(this.props.functionName,this.props.savedEventId)),this.resetEventState()}},{key:"render",value:function(){var e,t=this,n=function(e){return G.intl.formatMessage({id:e})},r=this.props,i=r.groupedSampleEvents,c=r.loading,s=r.isEventLoading,l=r.hasParseError,u=r.hasSavedEvents,d=r.loadSavedPrivateFailed,f=this.close.bind(this),m=this.closeFail.bind(this),g=this.delete.bind(this),v=c||s||l,b=v||!this.props.dirtyEventCode||this.props.dirtyEventCode===this.props.codeForEventInDropdown,E=a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:f,"data-analytics":y.WorkflowTags.cancel},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{disabled:c,onClick:function(){return t.formatTestEvent()},"data-analytics":y.WorkflowTags.formatJson},a.a.createElement(p.a,{id:"functionDesigner.tab.testing.testEvent.actions.formatJson"})),a.a.createElement(me.default,{variant:"primary",disabled:this.props.modalCreate?v:b,onClick:function(){return t.saveSampleEvent()},"data-analytics":y.WorkflowTags.save},this.props.modalCreate?n("functionDetail.testEvents.modal.create"):n("functionDetail.button.save")),this.props.modalCreate?null:a.a.createElement(me.default,{className:"awsui-util-f-l",variant:"normal",disabled:c,onClick:g,"data-analytics":y.WorkflowTags.delete},a.a.createElement(p.a,{id:"modal.delete.button.submit"})))),O=i.filter((function(e){return e.label===At.q})).map((function(e){return Zc(Zc({},e),{},{label:n(e.value)})})),w=i.map((function(e){return Zc(Zc({},e),{},{label:n(e.value)})})),S=O[0]?O[0].options.find((function(e){return e.value===t.props.savedEventId})):null,j=a.a.createElement(me.default,{className:"awsui-util-ml-s",variant:"icon",iconName:"refresh",loading:c||s,onClick:function(){return t.props.dispatch(D.a.refreshTestEvents(t.props.functionName))}}),_=a.a.createElement(Zt.default,{label:n("functionDetail.testEvents.saved"),secondaryControl:j},a.a.createElement(ln.default,{filteringType:O.length>1?"auto":"none",options:O,onChange:this.savedEventChanged.bind(this),selectedOption:S})),k=a.a.createElement("div",null,a.a.createElement(Zt.default,{stretch:!0,label:n("functionDetail.testEvents.modal.eventTemplate")},a.a.createElement(ln.default,{filteringType:"auto",options:w,onChange:this.templateChanged.bind(this),selectedOption:{label:this.props.templateEventId,value:this.props.templateEventId}})),a.a.createElement(Zt.default,{stretch:!0,label:n("functionDetail.testEvents.modal.eventName"),errorText:this.state.eventNameErrorMessage},a.a.createElement(Jt.default,{placeholder:"MyEventName",onChange:this.eventNameChanged.bind(this),value:this.state.eventName}))),C=Object(W.I)({id:"functionDetail.testEvents.modal.radio.".concat(h.P.CONFIGURATION_OPTION_CREATE)}),P=Object(W.I)({id:"functionDetail.testEvents.modal.radio.".concat(h.P.CONFIGURATION_OPTION_EDIT)}),x=null!==(e=this.props.dirtyEventCode)&&void 0!==e?e:this.props.codeForEventInDropdown,N=!(!d||u),I=a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"primary",onClick:m},"Ok"))),A=a.a.createElement(Vc.default,{className:"eventModal needs-old-form-field-override",header:n("functionDetail.button.configureTestEvent"),size:"large",visible:this.props.eventModalOpen,onDismiss:m,footer:I,id:"testEventModal"},a.a.createElement(o.a,{id:"functionDetail.testEvents.modal.toTestTab"}));return N?A:a.a.createElement(Vc.default,{className:"eventModal needs-old-form-field-override",header:n("functionDetail.button.configureTestEvent"),size:"large",visible:this.props.eventModalOpen,onDismiss:f,footer:E,id:"testEventModal","data-analytics":this.props.tag,"data-analytics-type":this.props.tagType},a.a.createElement(T.a,{cond:c||s,overlay:!0},a.a.createElement(Gt.default,null,a.a.createElement(R.b,{scope:"event-modal"}),a.a.createElement(o.a,{id:"functionDetail.testEvents.modal.text"}),a.a.createElement(Zt.default,{stretch:!0},a.a.createElement(Kt.default,{onChange:this.handleEventConfigurationOptions,value:this.props.configurationOption,items:[{value:h.P.CONFIGURATION_OPTION_CREATE,label:C},{value:h.P.CONFIGURATION_OPTION_EDIT,label:P,disabled:!this.props.hasSavedEvents}]})),this.props.modalCreate?k:_,a.a.createElement(It.a,{id:"eventCode",mode:"json",value:x,onChange:this.codeChanged.bind(this)}),this.props.hasParseError?a.a.createElement("div",{className:"awsui-util-mt-s"},a.a.createElement(z.default,{type:"error"},Object(W.I)({id:"functionDetail.testEvents.modal.jsonParseError"}))):null)))}}])&&Jc(t.prototype,n),r&&Jc(t,r),c}(a.a.Component);var ns=Object(J.tagContextHoc)(Object(c.connect)((function(e){var t=new W.i(Object(v.p)(e)||""),n=t.functionName,r=t.qualifier;return{savedEventId:D.c.getEventModalState(e,"savedEventId"),codeForEventInDropdown:D.c.getCodeToShow(e),dirtyEventCode:D.c.getDirtyEventCode(e),hasParseError:D.c.getEventModalState(e,"hasParseError"),groupedSampleEvents:D.c.getGroupedSampleEvents(e),loading:D.c.getEventModalState(e,"loading"),loadSavedPrivateFailed:D.c.getTestingStateField(e,"loadSavedPrivateFailed"),isEventLoading:D.c.getIsEventLoading(e),eventsById:D.c.getEventsById(e),modalCreate:D.c.getEventModalState(e,"configurationOption")===h.P.CONFIGURATION_OPTION_CREATE,configurationOption:D.c.getEventModalState(e,"configurationOption"),templateEventId:D.c.getEventModalState(e,"templateEventId"),hasSavedEvents:D.c.getHasSavedEvents(e),eventIdToInvoke:D.c.getEventIdToInvoke(e),functionName:n,qualifier:r,eventModalOpen:D.c.getEventModalOpen(e)}}),(function(e){return{dispatch:e}}))(ts));function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ss(e);if(t){var a=ss(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cs(this,n)}}function cs(e,t){if(t&&("object"===rs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(c,e);var t,n,r,i=os(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e,t)).state={eventName:null,eventNameErrorMessage:null},n}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.dispatch(D.a.updateShowPermissionError(!1)),this.props.dispatch(Object(M.b)("__key","event-modal"))}},{key:"componentDidUpdate",value:function(e){!e.eventModalOpen&&this.props.eventModalOpen&&y.panorama.logWorkflowEvent({tagPath:this.props.nextTag(y.WorkflowTags.show)},{tagPath:this.props.nextTag(y.WorkflowTags.testEventConfiguration),eventDetail:this.props.configurationOption})}},{key:"eventNameChanged",value:function(e){var t=e.detail.value;this.checkEventName(t)}},{key:"checkEventName",value:function(e){var t=A.i(e,this.props.allSavedTestEvents);return this.updateEventState({eventName:e,eventNameErrorMessage:t.message}),t}},{key:"updateEventState",value:function(e){this.setState(e)}},{key:"save",value:function(){this.props.configurationOption===h.P.CONFIGURATION_OPTION_CREATE?this.create():this.edit()}},{key:"create",value:function(){var e={eventNameErrorMessage:this.state.eventNameErrorMessage,dirtyEventCode:this.props.dirtyEventCode,codeForEventInDropdown:this.props.codeForEventInDropdown,checkEventName:this.checkEventName.bind(this),eventName:this.state.eventName,eventType:this.props.eventType,functionName:this.props.functionName,qualifier:this.props.qualifier,dispatch:this.props.dispatch,actions:D.a};A.a(e)&&this.updateEventState({eventName:this.state.eventName,eventNameErrorMessage:null})}},{key:"edit",value:function(){var e={eventName:this.props.savedEventId,dirtyEventCode:this.props.dirtyEventCode,codeForEventInDropdown:this.props.codeForEventInDropdown,functionName:this.props.functionName,qualifier:this.props.qualifier,savedSharedEvents:this.props.savedSharedEvents,dispatch:this.props.dispatch,actions:D.a};A.d(e)}},{key:"close",value:function(){Object(y.logEvent)(y.EVENT_NAMES.TESTEVENT_FD("close")),this.updateEventState({eventName:null,eventNameErrorMessage:null}),this.props.hasSavedEvents&&!this.props.eventIdToInvoke.match(A.h())&&this.props.dispatch(D.a.loadTestEvent(this.props.functionName,this.props.eventIdToInvoke)),this.props.dispatch(D.a.updateShowPermissionError(!1)),this.props.dispatch(Object(B.setModalOpen)(sn.a,!1)),this.props.dispatch(D.a.toggleEventModal()),this.props.dispatch(D.a.setShowInlineDeleteSuccess(null))}},{key:"closeFail",value:function(){this.props.dispatch(D.a.toggleEventModal())}},{key:"delete",value:function(){var e={actions:D.a,dispatch:this.props.dispatch,eventName:this.props.savedEventId,eventInline:!0,savedSharedEvents:this.props.savedSharedEvents};A.c(e),this.updateEventState({eventName:null,eventNameErrorMessage:null})}},{key:"render",value:function(){var e=function(e){return G.intl.formatMessage({id:e})},t=this.props,n=t.eventTypeToInvoke,r=t.loading,i=t.loadSavedPrivateFailed,c=t.loadSavedSharedFailed,s=t.isEventLoading,l=t.hasParseError,u=t.hasSavedEvents,d=t.showPermissionError,f=t.eventType,m=t.savedEvents,g=t.savedSharedEvents,v=this.close.bind(this),b=this.closeFail.bind(this),E=this.save.bind(this),O=this.delete.bind(this),w=r||s||l,S=this.props.configurationOption===h.P.CONFIGURATION_OPTION_CREATE,j=n===h.P.GROUP_SHARED,_=!S&&j?"functionDetail.testEvents.shared.save.overwrite":"functionDetail.button.save",k=f===h.P.TYPE_USER&&(null==m?void 0:m.size)>9,C=w||!this.props.dirtyEventCode||this.props.dirtyEventCode===this.props.codeForEventInDropdown;S&&(C=!!k);var P=a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"link",onClick:v,"data-analytics":y.WorkflowTags.cancel},a.a.createElement(p.a,{id:"cancel"})),a.a.createElement(me.default,{variant:"primary",disabled:C,onClick:E,"data-analytics":y.WorkflowTags.save},e(_)))),x=!!(i&&c&&!u&&(null==g?void 0:g.size)<1),N=a.a.createElement(fe.default,{float:"right"},a.a.createElement(pe.default,{direction:"horizontal",size:"xs"},a.a.createElement(me.default,{variant:"primary",onClick:b},"Ok"))),I=a.a.createElement(Vc.default,{className:"eventModal needs-old-form-field-override",header:e("functionDetail.button.configureTestEvent"),size:"large",visible:this.props.eventModalOpen,onDismiss:b,footer:N,id:"testEventModal"},a.a.createElement(o.a,{id:"functionDetail.testEvents.modal.toTestTab"}));return x?I:a.a.createElement(Vc.default,{className:"eventModal needs-old-form-field-override",header:e("functionDetail.button.configureTestEvent"),size:"large",visible:this.props.eventModalOpen,onDismiss:v,footer:P,id:"testEventModal","data-analytics":this.props.tag,"data-analytics-type":this.props.tagType},a.a.createElement(T.a,{cond:r||s,overlay:!0},a.a.createElement(Gt.default,null,a.a.createElement(o.a,{id:"functionDetail.testEvents.shared.modal.text"}),a.a.createElement(zn,{eventNameChanged:this.eventNameChanged.bind(this),eventName:this.state.eventName,eventNameErrorMessage:this.state.eventNameErrorMessage,isInline:!0,onDelete:O,tag:y.WorkflowTags.testEventModal,showJsonParserError:!0}),a.a.createElement(R.b,{scope:"event-modal"}),d?Mn:null)))}}])&&as(t.prototype,n),r&&as(t,r),c}(a.a.Component),us=Object(J.tagContextHoc)(Object(c.connect)((function(e){var t=new W.i(Object(v.p)(e)||""),n=t.functionName,r=t.qualifier;return{allSavedTestEvents:D.c.getAllSavedEvents(e),codeForEventInDropdown:D.c.getSharedCodeToShow(e),configurationOption:D.c.getEventModalState(e,"configurationOption"),dirtyEventCode:D.c.getDirtyEventCode(e),eventIdToInvoke:D.c.getEventIdToInvoke(e),eventTypeToInvoke:D.c.getEventTypeToInvoke(e),eventModalOpen:D.c.getEventModalOpen(e),eventType:D.c.getEventModalState(e,"eventType"),functionName:n,hasSavedEvents:D.c.getHasSavedEvents(e),hasParseError:D.c.getEventModalState(e,"hasParseError"),isEventLoading:D.c.getIsEventLoading(e),loading:D.c.getEventModalState(e,"loading"),loadSavedPrivateFailed:D.c.getTestingStateField(e,"loadSavedPrivateFailed"),loadSavedSharedFailed:D.c.getTestingStateField(e,"loadSavedSharedFailed"),qualifier:r,savedSharedEvents:D.c.getSavedSharedTests(e),savedEventId:D.c.getEventModalState(e,"savedEventId"),savedEvents:D.c.getSavedEvents(e),showPermissionError:D.c.getShowPermissionError(e)}}),(function(e){return{dispatch:e}}))(ls),!1);function ds(e){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fs=["content","tag"];function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hs(e,t){return(hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bs(e);if(t){var a=bs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vs(this,n)}}function vs(e,t){if(t&&("object"===ds(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bs(e){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ss(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var js=Object.values(h.N),_s=Object(l.default)((function(e,t){var n=e===h.H.ALIAS,r={parangopod:Object(W.S)("parangopod")};return[{id:h.N.CODE,content:a.a.createElement(Xe,null),preconditions:[!r.parangopod,!n],tag:y.WorkflowTags.codeTab},{id:h.N.CODE,content:a.a.createElement(Xe,null),preconditions:[r.parangopod,t===h.D.ZIP||null===t,!n],tag:y.WorkflowTags.codeTab},{id:h.N.IMAGE,content:a.a.createElement(rt,null),preconditions:[r.parangopod,t===h.D.IMAGE,!n],tag:y.WorkflowTags.imageTab},{id:h.N.LOADING,label:function(){return a.a.createElement(L.default,null)},preconditions:[r.parangopod,void 0===t,!n]},{id:h.N.TESTING,content:Object(W.S)("mandarinquat2")?a.a.createElement(Qn,null):a.a.createElement(Ht,null),tag:y.WorkflowTags.testingTab,preconditions:[]},{id:h.N.MONITORING,content:a.a.createElement(xt,null),labelId:"monitor",tag:y.WorkflowTags.monitoringTab},{id:h.N.CONFIGURE,content:a.a.createElement(Wo,null),tag:y.WorkflowTags.configureTab},{id:h.N.ALIASES,content:a.a.createElement(sc,null),preconditions:[!e],tag:y.WorkflowTags.aliasesTab},{id:h.N.VERSIONS,content:a.a.createElement(wc,null),preconditions:[!e],tag:y.WorkflowTags.versionsTab}].filter(d.x).map((function(e){var t=e.content,n=e.tag;return Os(Os({},Ss(e,fs)),{},{tag:n,content:n?a.a.createElement(J.TaggedDiv,{tag:n},t):t})})).map(Object(d.G)("functionDesigner"))})),ks=function(e){return e?isNaN(e)?"$LATEST"===e?y.EVENT_NAMES.FUNCTION_CONFIGURATION_QUALIFIER_LATEST:y.EVENT_NAMES.FUNCTION_CONFIGURATION_QUALIFIER_ALIAS:y.EVENT_NAMES.FUNCTION_CONFIGURATION_QUALIFIER_VERSION:y.EVENT_NAMES.FUNCTION_CONFIGURATION_QUALIFIER_UNQUALIFIER},Ts=function(e){var t,n;return{metadata:Object(v.y)(e),packageType:Object(v.A)(e),breadcrumbs:Object(v.hb)(e),query:Object(je.b)(e).query,tab:Object(v.e)(e),pageLoadError:Object(je.c)(e),functionState:null===(t=Object(v.U)(e,"functionSource"))||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t,"state")}},Cs=function(e){return{changeTab:(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(W.S)("translunar2")||!js.includes(n)){t.next=3;break}return t.next=3,Object(Li.g)("user.clicked-tab",n);case 3:Object(c.batch)((function(){e(Object(f.d)(n)),e(Object(u.d)({query:{tab:n}},{persistQuery:!0}))})),Object(y.logTab)("function-designer",n);case 5:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){ys(i,r,a,o,c,"next",e)}function c(e){ys(i,r,a,o,c,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)}),cancelPolling:function(){return e(Object(f.c)())}};var t,n},Ps=a.a.memo((function(e){var t=e.tabs,n=e.onChangeTab,r=Object(c.useSelector)(v.e);return a.a.createElement(i.Tabs,{className:r,tabs:t,activeTabId:r,onChange:n})}),(function(e,t){return e.tabs===t.tabs})),xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(l,e);var t,n,r,c=gs(l);function l(){return ps(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"componentDidMount",value:function(){this.logActiveTab();var e=this.props.metadata.qualifier;this.logQualifier(e)}},{key:"componentDidUpdate",value:function(e){if(e.tab!==this.props.tab){var t=this.getTabs().find((function(t){return t.id===e.tab}));this.logActiveTab(t)}var n=this.props.metadata.qualifier;e.metadata.qualifier!==n&&this.logQualifier(n)}},{key:"componentWillUnmount",value:function(){this.props.cancelPolling()}},{key:"getHeader",value:function(){var e,t=this.props,n=t.breadcrumbs,r=t.metadata.functionName,a=n.items.slice(-1)[0],i=a.text,o=a.formattedMessage;return null!==(e=null!=o?o:i)&&void 0!==e?e:r}},{key:"getTabs",value:function(){var e=this.props,t=e.metadata.qualifier,n=e.packageType;return _s(Object(W.K)(t),n)}},{key:"logActiveTab",value:function(e){var t,n,r=this.props.tab,a=null===(t=this.getTabs().find((function(e){return e.id===r})))||void 0===t?void 0:t.tag;a&&y.panorama.logWorkflowEvent({tagPath:this.props.nextTag(y.WorkflowTags[a]),eventName:"changeTab",eventDetail:{previousTab:null!==(n=null==e?void 0:e.tag)&&void 0!==n?n:""}})}},{key:"logQualifier",value:function(e){Object(y.logEvent)(ks(e))}},{key:"render",value:function(){var e=this;if(this.props.pageLoadError)return a.a.createElement(s.Redirect,{to:"/functions"});var t,n=this.props,r=n.metadata,c=r.functionName,l=r.masterArn,u=r.qualifier,f=r.editPage,p=r.isCreate,m=n.breadcrumbs,h=n.functionState,g=n.query,v=n.tag,E=n.tagType;if(f)return a.a.createElement(k,{breadcrumbs:m,functionName:c,qualifier:u,editPage:f,isCreate:p,tag:v,tagType:E});if(Object(d.z)(c,{functionName:c,qualifier:u,query:g}),Object(d.u)(c)&&l){var O=Object(d.n)(l);t=a.a.createElement("div",{className:"awsui-util-mb-s"},a.a.createElement(i.Alert,{dismissible:!0},a.a.createElement(o.a,{id:"designer.banner.replicaPage",values:{functionLink:O}})))}var w=Object(W.S)("mandarinquat2")?a.a.createElement(us,{tag:y.WorkflowTags.testEventModal}):a.a.createElement(ns,{tag:y.WorkflowTags.testEventModal});return a.a.createElement(b.a,{id:"functionDesigner",breadcrumbs:m,tag:v,tagType:E},a.a.createElement("div",{id:"functionDesignerActionStripe","data-functionstate":h,className:"ellipsize"},a.a.createElement(he.a,{large:!0,header:this.getHeader()},a.a.createElement(Wc,null))),t,a.a.createElement(R.b,null),a.a.createElement(Tc,{changeTab:this.props.changeTab}),a.a.createElement(Ps,{tabs:this.getTabs(),onChangeTab:function(t){return e.props.changeTab(t.detail.activeTabId)}}),w)}}])&&ms(t.prototype,n),r&&ms(t,r),l}(a.a.Component);t.default=Object(J.tagContextHoc)(Object(c.connect)(Ts,Cs)(xs),!0)},2762:function(e,t,n){"use strict";n.r(t),n.d(t,"AddDatabaseProxyPageComponent",(function(){return R}));var r=n(0),a=n.n(r),i=n(219),o=n(211),c=n(297),s=n(1989),l=function(){return Object(s.v)().pipe((function(e){return e.map((function(e){return{value:e.dbproxyArn,label:e.dbproxyName,description:"".concat(e.dbproxyArn)}}))})).take(1e3)};function u(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.FormField,{id:"existingEndpoint",label:a.a.createElement(i.a,{id:"addDatabaseProxy.chooseExisting.existingEndpoint.label"}),paginator:l},a.a.createElement(c.FormSelect,{filteringType:"auto"})))}var d=n(568),f=n(2194),p=n(2130),m=n(1972),h=n(2065),g=n(87),v=n(100);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=Object.values(f.a).find((function(t){return t.values.includes(e.engine)}));if(!t)return!1;if(!g.d.includes("karma")&&t.family===f.b)return!1;if(e.engineMode){var n=g.d.includes("dittomm")?/^serverless$/:/^(serverless|multimaster)$/;if(-1!==e.engineMode.search(n))return!1}return!!t.supportedVersions.some((function(t){return function(e,t){if(!e)return!1;var n=b(e.split(".").slice(0,2).map((function(e){return parseInt(e,10)})),2),r=n[0],a=n[1],i=b(t.replace("^","").split(".").map((function(e){return parseInt(e,10)})),2),o=i[0],c=i[1];return r===o&&(t.startsWith("^")?a>=c:a===c)}(e.engineVersion,t)}))&&(!e.dbinstanceIdentifier||!e.dbclusterIdentifier&&-1!==e.dbinstanceStatus.search(/available|modify|backing/i))},O=function(e){var t,n,r,a=e.dbclusterIdentifier&&!e.dbinstanceIdentifier;return{value:a?e.dbclusterIdentifier:e.dbinstanceIdentifier,label:a?e.dbclusterIdentifier:e.dbinstanceIdentifier,description:(t=e.engine.toLowerCase(),n=a,v.intl.formatMessage({id:"addDatabaseProxy.createNew.description.".concat(n?"cluster":"db")},{dbName:(null===(r=Object.values(f.a).find((function(e){return e.values.includes(t)})))||void 0===r?void 0:r.description)||""})),engine:e.engine,dbType:a?"cluster":"db",_original:e}},w=function(){return Object(s.d)().pipe((function(e){return e.filter(E).map(O)})).take(1e3)},S=function(){return Object(s.y)().pipe((function(e){return e.map((function(e){var t=e.arn;return{value:t,label:t,needsKms:!!e.kmsKeyId}}))})).take(1e3)},j=[{label:v.intl.formatMessage({id:"addDatabaseProxy.createNew.iamAuthentication.enabled.label"}),value:"REQUIRED",description:v.intl.formatMessage({id:"addDatabaseProxy.createNew.iamAuthentication.enabled.description"})},{label:v.intl.formatMessage({id:"addDatabaseProxy.createNew.iamAuthentication.disabled.label"}),value:"DISABLED",description:v.intl.formatMessage({id:"addDatabaseProxy.createNew.iamAuthentication.disabled.description"})}],_=Object(o.connect)((function(e){return{instanceSelections:Object(c.getFieldValue)(e,"addDatabaseProxy","rdsInstance")||"",iamSelection:Object(c.getFieldValue)(e,"addDatabaseProxy","iamAuthentication")||"DISABLED"}}),(function(e){return{onChangeRoleCombination:function(){return e(Object(p.a)())}}}))((function(e){var t=e.iamSelection,n=e.instanceSelections,r=e.onChangeRoleCombination;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.FormField,{id:"databaseProxyIdentifier",label:a.a.createElement(i.a,{id:"addDatabaseProxy.createNew.proxyIdentifier.label"}),description:a.a.createElement(d.a,{id:"addDatabaseProxy.createNew.proxyIdentifier.tooltip"})},a.a.createElement(c.FormInput,null)),a.a.createElement(c.FormField,{id:"rdsInstance",label:a.a.createElement(i.a,{id:"addDatabaseProxy.createNew.rdsInstance.label"}),description:a.a.createElement(d.a,{id:"addDatabaseProxy.createNew.rdsInstance.tooltip"}),paginator:w},a.a.createElement(c.FormSelect,{placeholder:v.intl.formatMessage({id:"addDatabaseProxy.createNew.rdsInstance.placeholder"}),filteringType:"auto",selectedOption:{value:n,label:n}})),a.a.createElement(c.FormField,{id:"secretManagerArn",label:a.a.createElement(i.a,{id:"addDatabaseProxy.createNew.secretManagerArn.label"}),description:a.a.createElement(d.a,{id:"addDatabaseProxy.createNew.secretManagerArn.tooltip"}),paginator:S,onChange:r},a.a.createElement(m.a,{filteringType:"auto",placeholder:v.intl.formatMessage({id:"addDatabaseProxy.createNew.secretManagerArn.placeholder"}),empty:v.intl.formatMessage({id:"addDatabaseProxy.createNew.secretManagerArn.empty"})})),a.a.createElement(h.a,{formId:"addDatabaseProxy",roleFilter:"rds.amazonaws.com",showRadioSelection:!1,onChange:r}),a.a.createElement(c.FormField,{id:"iamAuthentication",label:a.a.createElement(i.a,{id:"addDatabaseProxy.createNew.iamAuthentication.label"}),description:a.a.createElement(d.a,{id:"addDatabaseProxy.createNew.iamAuthentication.tooltip"})},a.a.createElement(c.FormSelect,{options:j,selectedOption:j.find((function(e){return e.value===t}))})))})),k=n(250),T=n(298),C=n(1969),P=n(1985),x=n(38),N=n(2004),I=n(1977),D={pattern:"^[0-9a-z-]+$",maxLength:60},A={type:"object",anyOf:[{properties:{proxySelection:{enum:["chooseExisting"]}},required:["existingEndpoint"]},{properties:{proxySelection:{enum:["createNew"]},databaseProxyIdentifier:D,rdsInstance:D,secretManagerArn:{pattern:"^$|^arn:".concat(Object(x.t)(),":secretsmanager:.+:\\d{12}:secret:.+$")},existingRole:{type:"string",pattern:"^arn:".concat(Object(x.t)(),":iam::\\d{12}:role\\/?[a-zA-Z_0-9+=,.@\\-/]+$"),maxLength:607,errorMessage:{pattern:N.b["role.pattern"]}}},required:["databaseProxyIdentifier","rdsInstance","secretManagerArn","existingRole"]}]};function R(e){var t=e.selection,n=e.add,r=e.cancel,o=e.creating,s=["createNew","chooseExisting"].map((function(e){return{value:e,label:a.a.createElement(i.a,{id:"addDatabaseProxy.selection.".concat(e,".radioLabel")})}}));return a.a.createElement(P.a,{id:"addDatabaseProxy",breadcrumbs:{items:[{text:v.intl.formatMessage({id:"addDatabaseProxy.header"}),href:"#/add/database-proxy"}]}},a.a.createElement(m.b,{id:"addDatabaseProxy",header:a.a.createElement(i.a,{tagName:"h1",id:"addDatabaseProxy.header"}),actionsProvider:function(e){return a.a.createElement(k.default,{direction:"horizontal",size:"xs"},a.a.createElement(T.default,{variant:"link",onClick:r},a.a.createElement(i.a,{id:"cancel"})),a.a.createElement(T.default,{variant:"primary",onClick:e,loading:o},a.a.createElement(i.a,{id:"add.button.submit"})))},onSubmit:n,schema:A},a.a.createElement(C.e,{header:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{id:"addDatabaseProxy.section.databaseProxy"}),a.a.createElement(I.a,{path:"addDatabaseProxy.helpContent"}))},a.a.createElement(c.FormField,{id:"proxySelection"},a.a.createElement(c.FormRadioGroup,{items:s})),"createNew"===t?a.a.createElement(_,null):a.a.createElement(u,null))))}t.default=Object(o.connect)(p.d,p.c)(R)},2769:function(e,t,n){"use strict";n.r(t),n.d(t,"ListFunctionsPageComponent",(function(){return N}));var r=n(92),a=n(0),i=n.n(a),o=n(219),c=n(211),s=n(2258),l=n(2030),u=n(568),d=n(2006),f=n(414),p=n(558),m=n(250),h=n(2198),g=n(298),v=n(1976),b=n(837),y=n(100),E=n(1955),O=n(38),w=n(101),S=n(1973),j=Object(E.tagContextHoc)(b.WorkflowModal),_=function(e){var t,n=Object(c.useDispatch)(),r=Object(v.a)(n),a=1!==e.selectedFunctions.length,s="#/functions/".concat(null===(t=e.selectedFunctions[0])||void 0===t?void 0:t.functionArn),E=[{id:"view",text:y.intl.formatMessage({id:"functions.button.view"}),href:s,disabled:a},{id:"test",text:y.intl.formatMessage({id:"functions.button.test"}),href:"".concat(s,"?tab=").concat(S.N.TESTING),disabled:a},{id:"delete",text:y.intl.formatMessage({id:"functions.button.delete"})}],_="functionlisttable.modal.delete.triggerWarning".concat(Object(O.S)("mandarinquat2")?".schema":"");return i.a.createElement(m.default,{direction:"horizontal",size:"xs"},i.a.createElement(h.a,{disabled:0===e.selectedFunctions.length,items:E,onItemClick:function(t){if("delete"===t.detail.id){r("function-list-delete");var n=w.WorkflowTags.deleteMultipleFunctions,a=w.WorkflowTags.begin;w.panorama.logWorkflowEvent({tagPath:e.nextTag([n,a])})}}},i.a.createElement(o.a,{id:"functionDetail.button.actions"})),i.a.createElement(g.default,{variant:"primary",href:"#/create/function",disabled:e.overLimit},i.a.createElement(o.a,{id:"functions.button.create"})),i.a.createElement(j,{tag:[w.WorkflowTags.deleteMultipleFunctions,w.WorkflowTags.deleteMultipleFunctionsModal],id:"function-list-delete",size:"large",expandToFit:!0,header:i.a.createElement(o.a,{id:"functionlisttable.modal.delete.header",values:{size:e.selectedFunctions.length}}),contentProvider:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.default,{margin:{top:"l"}},i.a.createElement(p.default,{visible:!0,type:"warning"},i.a.createElement(o.a,{id:_}))),e)},footerProvider:Object(b.BasicWorkflowModalFooter)({i18nStrings:{cancelButtonText:y.intl.formatMessage({id:"cancel"}),closeButtonText:y.intl.formatMessage({id:"close"}),runButtonText:y.intl.formatMessage({id:"functionlisttable.modal.delete.buttonText"}),stopButtonText:y.intl.formatMessage({id:"functionlisttable.modal.delete.stop"})}}),itemProvider:function(e){return e.functionName},itemTask:d.d,items:e.selectedFunctions,parallel:!0,confirmationMessage:i.a.createElement(u.a,{id:"functionlisttable.modal.delete.confirmMessage"}),confirmationText:"delete",onClose:function(t,r){var a=[];r.forEach((function(t,r){t===b.workflowItemStatus.SUCCESS&&(a.push(e.selectedFunctions[r].functionArn),n(Object(l.optimisticallyDeleteItem)("functions",e.selectedFunctions[r])))})),e.setSelectedFunctions((function(e){return e.filter((function(e){return!a.includes(e.functionArn)}))}))}}))},k=n(1979),T=n(1985);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){var t,n=e.overLimit,a=null===(t=e.unmatchedTags.map((function(e){return e.get("tags")})).reduce((function(e,t){return e.concat(t)})))||void 0===t?void 0:t.groupBy((function(e){return e.get("key")})).map((function(e){return Object(r.Set)(e.map((function(e){return e.get("value")})))})),c=null;return e.hasErrors||(c=i.a.createElement(s.a,{headerPropsProvider:function(t,r){return{children:i.a.createElement(o.a,{id:"functions.title"}),actions:i.a.createElement(_,{nextTag:e.nextTag,overLimit:n,selectedFunctions:t,setSelectedFunctions:r})}},filterCustomGroupsText:[{group:"tags",properties:y.intl.formatMessage({id:"functions.resourceList.customGroups.tags.properties"}),values:y.intl.formatMessage({id:"functions.resourceList.customGroups.tags.values"})}],extraFilteringOptions:null==a?void 0:a.map((function(e,t){return e.toArray().sort().map((function(e){return{propertyKey:t,value:e}}))})).reduce((function(e,t){return e.concat(t)})),extraFilteringProperties:null==a?void 0:a.keySeq().toArray().sort().map((function(e){return{key:e,groupValuesLabel:y.intl.formatMessage({id:"resourceList.filterOptionGroupValuesText"},{label:e}),propertyLabel:e,operators:[":","!:","=","!="],group:"tags"}})),transformItem:function(t){var n;return P(P({},t),{},{tags:null===(n=e.unmatchedTags.getIn([t.functionArn,"tags"]))||void 0===n?void 0:n.toJS()})},persistStateToUrl:!0})),i.a.createElement(T.a,{id:"listFunctions",breadcrumbs:{items:[{text:y.intl.formatMessage({id:"functions.title"}),href:"#/functions"}]},tag:e.tag},i.a.createElement(k.b,{scope:"listFunctions"}),c)};t.default=Object(E.tagContextHoc)(Object(c.connect)(d.g)(N),!0)},296:function(e,t,n){"use strict";n.r(t),n.d(t,"defineMessages",(function(){return y})),n.d(t,"injectIntl",(function(){return c.c})),n.d(t,"RawIntlProvider",(function(){return c.b})),n.d(t,"IntlContext",(function(){return c.a})),n.d(t,"useIntl",(function(){return f.a})),n.d(t,"IntlProvider",(function(){return p.b})),n.d(t,"createIntl",(function(){return p.a})),n.d(t,"FormattedDate",(function(){return E})),n.d(t,"FormattedTime",(function(){return O})),n.d(t,"FormattedNumber",(function(){return w})),n.d(t,"FormattedList",(function(){return S})),n.d(t,"FormattedDisplayName",(function(){return j})),n.d(t,"FormattedDateParts",(function(){return _})),n.d(t,"FormattedTimeParts",(function(){return k})),n.d(t,"FormattedNumberParts",(function(){return l})),n.d(t,"FormattedRelativeTime",(function(){return m.a})),n.d(t,"FormattedPlural",(function(){return g})),n.d(t,"FormattedMessage",(function(){return v.a})),n.d(t,"FormattedHTMLMessage",(function(){return b.a})),n.d(t,"createIntlCache",(function(){return o.d}));var r,a,i=n(0),o=n(10),c=n(61),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(a||(a={}));var l=function(e){return i.createElement(c.a.Consumer,null,(function(t){Object(o.h)(t);var n=e.value,r=e.children,a=s(e,["value","children"]);return r(t.formatNumberToParts(n,a))}))};function u(e){var t=function(t){return i.createElement(c.a.Consumer,null,(function(n){Object(o.h)(n);var r=t.value,a=t.children,i=s(t,["value","children"]),c="string"==typeof r?new Date(r||0):r;return a("formatDate"===e?n.formatDateToParts(c,i):n.formatTimeToParts(c,i))}))};return t.displayName=a[e],t}function d(e){var t=function(t){return i.createElement(c.a.Consumer,null,(function(n){Object(o.h)(n);var r=t.value,a=t.children,c=s(t,["value","children"]),l=n[e](r,c);if("function"==typeof a)return a(l);var u=n.textComponent||i.Fragment;return i.createElement(u,null,l)}))};return t.displayName=r[e],t}l.displayName="FormattedNumberParts";var f=n(553),p=n(309),m=n(567),h=function(e){var t=e.value,n=e.other,r=e.children,a=e.intl,o=a.formatPlural,c=a.textComponent,s=e[o(t,e)]||n;return"function"==typeof r?r(s):c?i.createElement(c,null,s):s};h.defaultProps={type:"cardinal"},h.displayName="FormattedPlural";var g=Object(c.c)(h),v=n(219),b=n(568);function y(e){return e}var E=d("formatDate"),O=d("formatTime"),w=d("formatNumber"),S=d("formatList"),j=d("formatDisplayName"),_=u("formatDate"),k=u("formatTime")},304:function(e,t,n){"use strict";for(var r=n(74),a=n(177),i=n(593),o=n(139),c=new Array(256),s=0;s<256;s++)c[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;c[254]=c[254]=1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}t.utf8encode=function(e){return a.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,o,c=e.length,s=0;for(i=0;i<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(s):new Array(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},t.utf8decode=function(e){return a.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,a,i,o=e.length,s=new Array(2*o);for(n=0,t=0;t<o;)if((a=e[t++])<128)s[n++]=a;else if((i=c[a])>4)s[n++]=65533,t+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&t<o;)a=a<<6|63&e[t++],i--;i>1?s[n++]=65533:a<65536?s[n++]=a:(a-=65536,s[n++]=55296|a>>10&1023,s[n++]=56320|1023&a)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),r.applyFromCharCode(s)}(e=r.transformTo(a.uint8array?"uint8array":"array",e))},r.inherits(l,o),l.prototype.processChunk=function(e){var n=r.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+c[e[n]]>t?n:t}(n),s=n;o!==n.length&&(a.uint8array?(s=n.subarray(0,o),this.leftOver=n.subarray(o,n.length)):(s=n.slice(0,o),this.leftOver=n.slice(o,n.length))),this.push({data:t.utf8decode(s),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=l,r.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=u},305:function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,c=arguments.length;switch(c){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,a)}));default:for(i=new Array(c-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,n(182))},426:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i,o,c;return t=e,(n=[{key:"init",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),c=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=o.apply(e,t);function c(e){r(i,n,a,c,s,"next",e)}function s(e){r(i,n,a,c,s,"throw",e)}c(void 0)}))},function(){return c.apply(this,arguments)})}])&&a(t.prototype,n),i&&a(t,i),e}();t.Adapter=i},427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIME_DIRECTORY="inode/directory",t.MIME_FILE="inode/file",t.getDirectoryEntry=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{meta:{name:e.split("/").pop(),size:0,mime:t.MIME_DIRECTORY},data:n}},t.getFileEntry=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{meta:{name:e.split("/").pop(),size:n.length,mime:t.MIME_FILE},data:n}},t.mergeFilter=function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.startsWith("".concat(n.substring(1),"/")),o=e===n.substring(1);return a?i||o:r===t.MIME_DIRECTORY?i:o},t.mergeReplace=function(e,t){return e.replace(new RegExp("^".concat(t.from.substring(1))),t.path.substring(1))}},428:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a,i="object"===("undefined"==typeof Reflect?"undefined":r(Reflect))?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};a=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function a(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}b(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&b(e,"error",t,n)}(e,a,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e))}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var a,i,o,c;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=d(e))>0&&o.length>a&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,c=s,console&&console.warn&&console.warn(c)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=p.bind(r);return a.listener=n,r.wrapFn=a,a}function h(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):v(a,a.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t,n,a){if("function"==typeof e.on)a.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+r(e));e.addEventListener(t,(function r(i){a.once&&e.removeEventListener(t,r),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)o(s,this,t);else{var l=s.length,u=v(s,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,m(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,m(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,a,i,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},429:function(e,t,n){(t=e.exports=n(587)).Stream=t,t.Readable=t,t.Writable=n(431),t.Duplex=n(178),t.Transform=n(591),t.PassThrough=n(997)},430:function(e,t,n){var r=n(141),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},431:function(e,t,n){"use strict";(function(t,r,a){var i=n(305);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var a=r.callback;t.pendingcb--,a(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var c,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;b.WritableState=v;var l=Object.create(n(252));l.inherits=n(212);var u={deprecate:n(995)},d=n(588),f=n(430).Buffer,p=a.Uint8Array||function(){};var m,h=n(589);function g(){}function v(e,t){c=c||n(178),e=e||{};var r=t instanceof c;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(i.nextTick(a,r),i.nextTick(j,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(a(r),e._writableState.errorEmitted=!0,e.emit("error",r),j(e,t))}(e,n,r,t,a);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),r?s(E,e,n,o,a):E(e,n,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(c=c||n(178),!(m.call(b,this)||this instanceof c))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),j(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var c=0,s=!0;n;)a[c]=n,n.isBuf||(s=!1),n=n.next,c+=1;a.allBuffers=s,y(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(b,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):m=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,a=this._writableState,o=!1,c=!a.objectMode&&(r=e,f.isBuffer(r)||r instanceof p);return c&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=g),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(r,o),a=!1),a}(this,a,e,n))&&(a.pendingcb++,o=function(e,t,n,r,a,i){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var c=t.objectMode?1:r.length;t.length+=c;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,c,r,a,i);return s}(this,a,c,e,t,n)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||O(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,j(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=h.destroy,b.prototype._undestroy=h.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(182),n(432).setImmediate,n(32))},433:function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:n(1003),e.exports={Promise:r}},434:function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(61),i=n(10);function o(){var e=Object(r.useContext)(a.a);return Object(i.h)(e),e}},586:function(e,t,n){e.exports=n(990)},587:function(e,t,n){"use strict";(function(t,r){var a=n(305);e.exports=y;var i,o=n(666);y.ReadableState=b;n(428).EventEmitter;var c=function(e,t){return e.listeners(t).length},s=n(588),l=n(430).Buffer,u=t.Uint8Array||function(){};var d=Object.create(n(252));d.inherits=n(212);var f=n(991),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var m,h=n(992),g=n(589);d.inherits(y,s);var v=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(i=i||n(178));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(o||0===o)?o:c,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=n(590).StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(178),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function E(e,t,n,r,a){var i,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,o)):(a||(i=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):O(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?O(e,o,t,!1):_(e,o)):O(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),_(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},y.prototype.unshift=function(e){return E(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return m||(m=n(590).StringDecoder),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(j,e):j(e))}function j(e){p("emit readable"),e.emit("readable"),P(e)}function _(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){p("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,a=n.data;e-=a.length;for(;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++r}return t.length-=r,a}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,a=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,o),0===(e-=o)){o===i.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(o));break}++a}return t.length-=a,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,a=t.needReadable;return p("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",a=!0),t.ended||t.reading?p("reading or ended",a=!1):a&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:y;function l(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",h),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function u(){p("onend"),e.end()}i.endEmitted?a.nextTick(s):n.once("end",s),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",d);var f=!1;var m=!1;function h(t){p("ondata"),m=!1,!1!==e.write(t)||m||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,m=!0),n.pause())}function g(t){p("onerror",t),y(),e.removeListener("error",g),0===c(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",v),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",b),e.emit("pipe",n),i.flowing||(p("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)r[i].emit("unpipe",this,n);return this}var o=D(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):a.nextTick(T,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(C,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(p("wrapped data"),n.decoder&&(a=n.decoder.write(a)),n.objectMode&&null==a)||(n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=x}).call(this,n(32),n(182))},588:function(e,t,n){e.exports=n(428).EventEmitter},589:function(e,t,n){"use strict";var r=n(305);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},590:function(e,t,n){"use strict";var r=n(996).Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=l,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--r<n||-2===a)return 0;if((a=o(t[r]))>=0)return a>0&&(e.lastNeed=a-2),a;if(--r<n||-2===a)return 0;if((a=o(t[r]))>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},591:function(e,t,n){"use strict";e.exports=o;var r=n(178),a=Object.create(n(252));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){s(e,t,n)})):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=n(212),a.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},592:function(e,t,n){"use strict";var r=n(74),a=n(177),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,a,o,c,s,l,u=[],d=0,f=e.length,p=f,m="string"!==r.getTypeOf(e);d<e.length;)p=f-d,m?(t=e[d++],n=d<f?e[d++]:0,a=d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,a=d<f?e.charCodeAt(d++):0),o=t>>2,c=(3&t)<<4|n>>4,s=p>1?(15&n)<<2|a>>6:64,l=p>2?63&a:64,u.push(i.charAt(o)+i.charAt(c)+i.charAt(s)+i.charAt(l));return u.join("")},t.decode=function(e){var t,n,r,o,c,s,l=0,u=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=a.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=i.indexOf(e.charAt(l++))<<2|(o=i.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(c=i.indexOf(e.charAt(l++)))>>2,r=(3&c)<<6|(s=i.indexOf(e.charAt(l++))),d[u++]=t,64!==c&&(d[u++]=n),64!==s&&(d[u++]=r);return d}},593:function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var n=new t(e);return n.fill(0),n},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,n(141).Buffer)},594:function(e,t,n){"use strict";var r=n(74),a=n(177),i=n(595),o=n(1006),c=n(1007),s=n(597);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new c(e):a.uint8array?new s(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new o(e)}},595:function(e,t,n){"use strict";var r=n(596);function a(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(74).inherits(a,r),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===a)return i-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&a===i[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},596:function(e,t,n){"use strict";var r=n(74);function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=a},597:function(e,t,n){"use strict";var r=n(595);function a(e){r.call(this,e)}n(74).inherits(a,r),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},598:function(e,t,n){"use strict";var r=n(594),a=n(74),i=n(599),o=n(601),c=n(304),s=n(1011),l=n(177);function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].magic===e)return s[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<a;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(a)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null}},e.exports=u},599:function(e,t,n){"use strict";var r=n(433),a=n(600),i=n(1009),o=n(1010);function c(e,t,n,r,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=a}c.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=c},600:function(e,t,n){"use strict";var r=n(74),a=n(139);function i(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(i,a),i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},601:function(e,t,n){"use strict";var r=n(74);var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=a,o=r+n;e^=-1;for(var c=r;c<o;c++)e=e>>>8^i[255&(e^t[c])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var i=a,o=r+n;e^=-1;for(var c=r;c<o;c++)e=e>>>8^i[255&(e^t.charCodeAt(c))];return-1^e}(0|t,e,e.length,0):0}},602:function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},603:function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,a){var i=r,o=a+n;e^=-1;for(var c=a;c<o;c++)e=e>>>8^i[255&(e^t[c])];return-1^e}},604:function(e,t,n){"use strict";var r=n(160),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var o=new r.Buf8(256),c=0;c<256;c++)o[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function s(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,a,i,o,c=e.length,s=0;for(i=0;i<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return s(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,a,i,c=t||e.length,l=new Array(2*c);for(r=0,n=0;n<c;)if((a=e[n++])<128)l[r++]=a;else if((i=o[a])>4)l[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<c;)a=a<<6|63&e[n++],i--;i>1?l[r++]=65533:a<65536?l[r++]=a:(a-=65536,l[r++]=55296|a>>10&1023,l[r++]=56320|1023&a)}return s(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},605:function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},606:function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},74:function(e,t,n){"use strict";var r=n(177),a=n(592),i=n(593),o=n(1002),c=n(433);function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],a=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;a<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+n,i)))),a+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var n=65536,r=t.getTypeOf(e),a=!0;if("uint8array"===r?a=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(a=u.applyCanBeUsed.nodebuffer),a)for(;n>1;)try{return u.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return u.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=d;var p={};p.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},p.array={string:d,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return i.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:s},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return p[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){o((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,i,o,s){return c.Promise.resolve(n).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new c.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var u,d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(s?n=a.decode(n):i&&!0!==o&&(n=l(u=n,r.uint8array?new Uint8Array(u.length):new Array(u.length)))),n):c.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},846:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(985)),r(n(987)),r(n(988)),r(n(989))},985:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(665),c=i(n(0)),s=n(986),l=function(e,t,n){Object.entries(n).forEach((function(n){var a=r(n,2),i=a[0],o=a[1];e[t](i,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o[e].apply(o,n)}))}))};t.Cloud9Lite=function(e){var t=c.useRef(),n=c.useRef(null),a=e.fullscreen,i=e.setFullscreen,u=c.useRef(e);return c.useEffect((function(){u.current=e})),c.useEffect((function(){var c,d;u.current.metrics.logEvent("ideTryLoad");var f=r(u.current.getIframeLocation(),2),p=f[0],m=f[1];return t.current=new o.PostMessageBus(window,n.current.contentWindow,m,"application/x-cloud9-lite-v2+json"),t.current.handle("init",(function(e,t){return t(null,{dark:u.current.dark,defaultFile:u.current.defaultFile,features:u.current.features||[],fullscreen:a,hash:u.current.hash,projectId:u.current.projectId,projectName:u.current.projectName,readonly:u.current.readonly,userId:u.current.userId})})),t.current.on("ready",(function(){var e,n;null===(n=(e=u.current).onReady)||void 0===n||n.call(e,t.current)})),l(t.current,"handle",{"c9lite.vfs":s.vfs({adapter:new u.current.adapter(u.current.adapterProps),encryptionSchemes:e.encryptionSchemes,defaultEncryptionScheme:e.defaultEncryptionScheme})}),l(t.current,"on",{"c9lite.fullscreen":{toggle:function(e){return i(e)}},"c9lite.metrics":u.current.metrics}),null===(d=(c=u.current).registerApis)||void 0===d||d.call(c,t.current),n.current.src="".concat(p,"?origin=").concat(window.location.origin,"&v2=true"),function(){return t.current.remove()}}),[]),c.default.createElement("div",{className:"ide-container ".concat(a?"fullscreen":"collapsed")},c.default.createElement("iframe",{id:"editor",ref:n}))}},986:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u=i({},"0/ECHO",{decrypt:(l=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),encrypt:(s=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})}),d=function(){var e=c(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:r=e.sent,n(null,r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.vfs=function(e){return{init:function(t,n){return c(regeneratorRuntime.mark((function r(){var i,o,c,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a(a({},u),e.encryptionSchemes||{}),o=e.defaultEncryptionScheme||"0/ECHO",r.next=4,e.adapter.init();case 4:return r.next=6,i[o].encrypt(t.writeKey);case 6:if(c=r.sent,s={version:o,writeKey:c},!t.readKey){r.next=15;break}if(i[t.version]){r.next=12;break}return n(new Error("EINVAL")),r.abrupt("return");case 12:return r.next=14,i[t.version].decrypt(t.readKey);case 14:s.readKey=r.sent;case 15:n(null,s);case 16:case"end":return r.stop()}}),r)})))()},read:function(t,n){return c(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:d((function(){return e.adapter.read(t)}),n);case 1:case"end":return r.stop()}}),r)})))()},merge:function(t,n,r){return c(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:d((function(){return e.adapter.merge(t,n)}),r);case 1:case"end":return a.stop()}}),a)})))()}}}},987:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(92),p=n(426),m=n(427),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,a,u,d=l(p);function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(this,p),(e=d.call(this)).zip=t.zip||f.Map(),e}return t=p,(n=[{key:"read",value:(u=i(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.warn("Lower FS read:",t),!this.zip.isEmpty()||"/"!==t){e.next=3;break}return e.abrupt("return",m.getDirectoryEntry(t));case 3:if(n=t.substring(1),!this.zip.has(n)){e.next=6;break}return e.abrupt("return",m.getFileEntry(t,this.zip.get(n)));case 6:if(r=n?"".concat(n,"/"):n,!(a=this.zip.filter((function(e,t){return t.startsWith(r)})).toMap().mapKeys((function(e){return e.replace(r,"").split("/")})).keySeq().groupBy((function(e){return e[0]})).map((function(e,t){return{name:t,size:-1,mime:e.some((function(e){return e.length>1}))?m.MIME_DIRECTORY:m.MIME_FILE}}))).isEmpty()){e.next=10;break}throw new Error("ENOENT");case 10:return e.abrupt("return",m.getDirectoryEntry(t,a.toList().toArray()));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"merge",value:(a=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.zip=n.reduce((function(e,t){var n=e;return(t.whiteout||t.opaque)&&(n=n.filterNot((function(e,n){return m.mergeFilter(n,t.path,t.meta.mime,t.opaque)})).toMap()),t.from&&(n=n.merge(n.filter((function(e,n){return m.mergeFilter(n,t.from,t.meta.mime)})).toMap().mapKeys((function(e){return m.mergeReplace(e,t)})))),t.meta.mime!==m.MIME_FILE||t.whiteout||t.from||(n=n.set(t.path.substring(1),t.data)),n}),this.zip),e.abrupt("return",{hash:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})}])&&c(t.prototype,n),r&&c(t,r),p}(p.Adapter);t.InMemoryAdapter=h},988:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(426),p=n(427),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,a,l,d=s(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),t=d.call(this),Object.assign(u(t),e),t}return t=f,(n=[{key:"read",value:(l=i(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.substring(1),!(r=this.zip.file(n))){e.next=7;break}return e.next=5,r.async("string");case 5:return a=e.sent,e.abrupt("return",p.getFileEntry(t,a));case 7:if(i=n?"".concat(n,"/"):n,o=[],c=[],s=!1,this.zip.filter((function(e){return e.startsWith(i)})).forEach((function(e){var t=e.name.replace(i,"").split("/"),n=t[0];if(n){var r=e.dir?p.MIME_DIRECTORY:p.MIME_FILE;if(t.length>1){if(c.includes(n))return;r=p.MIME_DIRECTORY}o.push({name:n,size:-1,mime:r}),c.push(n)}else s=!0})),0!==o.length||s){e.next=14;break}throw new Error("ENOENT");case 14:return e.abrupt("return",p.getDirectoryEntry(t,o));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"merge",value:(a=i(regeneratorRuntime.mark((function e(t,n){var r,a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.forEach((function(e){var t;if((e.whiteout||e.opaque)&&i.zip.filter((function(t){return p.mergeFilter(t,e.path,e.meta.mime,e.opaque)})).forEach((function(e){return i.zip.remove(e.name)})),e.from&&i.zip.filter((function(t){return p.mergeFilter(t,e.from,e.meta.mime)})).forEach((function(t){var n=p.mergeReplace(t.name,e);t.dir?i.zip.folder(n):i.zip.file(n,t.async("uint8array"),{unixPermissions:t.unixPermissions})})),e.meta.mime===p.MIME_FILE&&!e.whiteout&&!e.from){var n=i.zip.file(e.path.substring(1));i.zip.file(e.path.substring(1),e.data,{unixPermissions:null==n?void 0:n.unixPermissions})}e.meta.mime!==p.MIME_DIRECTORY||e.whiteout||0!==(null===(t=e.data)||void 0===t?void 0:t.length)||i.zip.folder(e.path.substring(1))})),e.next=3,this.zip.generateAsync(this.zipGenerateOptions||{compression:"DEFLATE",platform:"UNIX",type:"base64"});case 3:return r=e.sent,e.next=6,this.save(r);case 6:return a=e.sent,e.abrupt("return",{hash:a});case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})}])&&o(t.prototype,n),r&&o(t,r),f}(f.Adapter);t.LocalZipAdapter=m},989:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(304),g=m(n(1005)),v=m(n(598)),b=m(n(1022)),y=n(426),E=n(427),O=function(){function e(t){d(this,e),this.getRemoteRange=t,this.zip=new g.default({base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode})}var t,n;return p(e,[{key:"files",get:function(){return this.zip.files}},{key:"loadCentralDirectory",value:(n=u(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,c,s,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ecdrCache){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getRemoteRange({url:t,low:-65557});case 4:r=e.sent,this.zip.prepareReader(r),e.prev=6,this.zip.readEndOfCentral(),e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(6),e.t0.message.startsWith("Corrupted zip: missing")){e.next=14;break}throw e.t0;case 14:if(!n){e.next=29;break}if(!((a=r.byteLength-n+this.zip.centralDirOffset)>=0)){e.next=20;break}this.zip.prepareReader(r.slice(a)),e.next=27;break;case 20:return e.next=22,this.getRemoteRange({url:t,low:this.zip.centralDirOffset,high:this.zip.centralDirOffset-a-1});case 22:i=e.sent,(o=new Uint8Array(i.byteLength+r.byteLength)).set(i),o.set(r,i.byteLength),this.zip.prepareReader(o);case 27:e.next=33;break;case 29:return e.next=31,this.getRemoteRange({url:t,low:this.zip.centralDirOffset});case 31:c=e.sent,this.zip.prepareReader(c);case 33:for(;this.zip.reader.readAndCheckSignature("PK");)l=this.zip.reader.index,(s=new v.default({zip64:this.zip.zip64},this.zip.loadOptions)).readCentralPart(this.zip.reader),u=this.zip.reader.index,this.zip.reader.setIndex(l+24),s.fileNameLength=this.zip.reader.readInt(2),this.zip.reader.skip(16),s.fileName=this.zip.reader.readData(s.fileNameLength),this.zip.reader.setIndex(u),s.fileNameStr=h.utf8decode(s.fileName),s.dir=s.fileNameStr.endsWith("/"),this.zip.files.push(s);if(0===this.zip.centralDirRecords||0!==this.zip.files.length){e.next=36;break}throw new Error("Expected ".concat(this.zip.centralDirRecords," in central directory, got ").concat(this.zip.files.length));case 36:this.ecdrCache=r;case 37:case"end":return e.stop()}}),e,this,[[6,10]])}))),function(e,t){return n.apply(this,arguments)})},{key:"loadFile",value:(t=u(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.localHeaderOffset,!(r&&this.ecdrCache.byteLength>=r)){e.next=5;break}this.zip.prepareReader(this.ecdrCache.slice(a)),e.next=9;break;case 5:return e.next=7,this.getRemoteRange({url:t,low:a,high:a+30+n.fileNameLength+n.extraFieldsLength+n.compressedSize+4-1});case 7:i=e.sent,this.zip.prepareReader(i);case 9:return this.zip.checkSignature("PK"),n.readLocalPart(this.zip.reader),n.handleUTF8(),n.processAttributes(),o=new b.default(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,dir:n.dir}),e.next=16,o.async("string");case 16:return c=e.sent,e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,e);var t,n,r=i(o);function o(e){var t;return d(this,o),t=r.call(this),Object.assign(c(t),e),t.expires=-1,t.zip=new O(e.getRemoteRange),t}return p(o,[{key:"read",value:(n=u(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.expires<Date.now())){e.next=5;break}return e.next=3,this.getUrl();case 3:n=e.sent,Object.assign(this,n);case 5:return e.next=7,this.zip.loadCentralDirectory(this.url,this.zipSize);case 7:if(r=t.substring(1),!(a=this.zip.files.find((function(e){var t=e.dir;return e.fileNameStr===r&&!t})))){e.next=16;break}if(!(a.uncompressedSize>3145728)){e.next=12;break}throw new Error("EFBIG");case 12:return e.next=14,this.zip.loadFile(this.url,a,this.zipSize);case 14:return i=e.sent,e.abrupt("return",E.getFileEntry(t,i));case 16:if(o=r?"".concat(r,"/"):r,c=[],s=[],l=!1,this.zip.files.filter((function(e){return e.fileNameStr.startsWith(o)})).forEach((function(e){var t=e.dir,n=e.fileNameStr.replace(o,"").split("/"),r=n[0];if(r){var a=t?E.MIME_DIRECTORY:E.MIME_FILE;if(n.length>1){if(s.includes(r))return;a=E.MIME_DIRECTORY}c.push({name:r,size:-1,mime:a}),s.push(r)}else l=!0})),0!==c.length||l){e.next=23;break}throw new Error("ENOENT");case 23:return e.abrupt("return",E.getDirectoryEntry(t,c));case 24:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"merge",value:(t=u(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.save(t,n);case 2:return r=e.sent,e.abrupt("return",{hash:r});case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),o}(y.Adapter);t.RemoteZipAdapter=w},990:function(e,t,n){e.exports=a;var r=n(428).EventEmitter;function a(){r.call(this)}n(212)(a,r),a.Readable=n(429),a.Writable=n(998),a.Duplex=n(999),a.Transform=n(1e3),a.PassThrough=n(1001),a.Stream=a,a.prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",c),n.on("close",s));var o=!1;function c(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",a),e.removeListener("drain",i),n.removeListener("end",c),n.removeListener("close",s),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},991:function(e,t){},992:function(e,t,n){"use strict";var r=n(430).Buffer,a=n(993);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,a,i=r.allocUnsafe(e>>>0),o=this.head,c=0;o;)t=o.data,n=i,a=c,t.copy(n,a),c+=o.data.length,o=o.next;return i},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},993:function(e,t){},995:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(32))},996:function(e,t,n){var r=n(141),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},997:function(e,t,n){"use strict";e.exports=i;var r=n(591),a=Object.create(n(252));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}a.inherits=n(212),a.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},998:function(e,t,n){e.exports=n(431)},999:function(e,t,n){e.exports=n(178)}}]);